function Oz(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const s=Object.getOwnPropertyDescriptor(r,a);s&&Object.defineProperty(t,a,s.get?s:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();function Js(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fb={exports:{}},If={};var Sj;function Pz(){if(Sj)return If;Sj=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,s){var l=null;if(s!==void 0&&(l=""+s),a.key!==void 0&&(l=""+a.key),"key"in a){s={};for(var u in a)u!=="key"&&(s[u]=a[u])}else s=a;return a=s.ref,{$$typeof:t,type:r,key:l,ref:a!==void 0?a:null,props:s}}return If.Fragment=e,If.jsx=n,If.jsxs=n,If}var Nj;function Dz(){return Nj||(Nj=1,fb.exports=Pz()),fb.exports}var d=Dz(),hb={exports:{}},Je={};var Aj;function Iz(){if(Aj)return Je;Aj=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),x=Symbol.iterator;function w($){return $===null||typeof $!="object"?null:($=x&&$[x]||$["@@iterator"],typeof $=="function"?$:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,A={};function j($,z,K){this.props=$,this.context=z,this.refs=A,this.updater=K||E}j.prototype.isReactComponent={},j.prototype.setState=function($,z){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,z,"setState")},j.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function I(){}I.prototype=j.prototype;function P($,z,K){this.props=$,this.context=z,this.refs=A,this.updater=K||E}var H=P.prototype=new I;H.constructor=P,S(H,j.prototype),H.isPureReactComponent=!0;var R=Array.isArray;function F(){}var k={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function D($,z,K){var re=K.ref;return{$$typeof:t,type:$,key:z,ref:re!==void 0?re:null,props:K}}function q($,z){return D($.type,z,$.props)}function M($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function U($){var z={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(K){return z[K]})}var V=/\/+/g;function we($,z){return typeof $=="object"&&$!==null&&$.key!=null?U(""+$.key):z.toString(36)}function Se($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(F,F):($.status="pending",$.then(function(z){$.status==="pending"&&($.status="fulfilled",$.value=z)},function(z){$.status==="pending"&&($.status="rejected",$.reason=z)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function Z($,z,K,re,ge){var Ee=typeof $;(Ee==="undefined"||Ee==="boolean")&&($=null);var ne=!1;if($===null)ne=!0;else switch(Ee){case"bigint":case"string":case"number":ne=!0;break;case"object":switch($.$$typeof){case t:case e:ne=!0;break;case p:return ne=$._init,Z(ne($._payload),z,K,re,ge)}}if(ne)return ge=ge($),ne=re===""?"."+we($,0):re,R(ge)?(K="",ne!=null&&(K=ne.replace(V,"$&/")+"/"),Z(ge,z,K,"",function(je){return je})):ge!=null&&(M(ge)&&(ge=q(ge,K+(ge.key==null||$&&$.key===ge.key?"":(""+ge.key).replace(V,"$&/")+"/")+ne)),z.push(ge)),1;ne=0;var Pe=re===""?".":re+":";if(R($))for(var le=0;le<$.length;le++)re=$[le],Ee=Pe+we(re,le),ne+=Z(re,z,K,Ee,ge);else if(le=w($),typeof le=="function")for($=le.call($),le=0;!(re=$.next()).done;)re=re.value,Ee=Pe+we(re,le++),ne+=Z(re,z,K,Ee,ge);else if(Ee==="object"){if(typeof $.then=="function")return Z(Se($),z,K,re,ge);throw z=String($),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return ne}function Y($,z,K){if($==null)return $;var re=[],ge=0;return Z($,re,"","",function(Ee){return z.call(K,Ee,ge++)}),re}function J($){if($._status===-1){var z=$._result;z=z(),z.then(function(K){($._status===0||$._status===-1)&&($._status=1,$._result=K)},function(K){($._status===0||$._status===-1)&&($._status=2,$._result=K)}),$._status===-1&&($._status=0,$._result=z)}if($._status===1)return $._result.default;throw $._result}var he=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},Te={map:Y,forEach:function($,z,K){Y($,function(){z.apply(this,arguments)},K)},count:function($){var z=0;return Y($,function(){z++}),z},toArray:function($){return Y($,function(z){return z})||[]},only:function($){if(!M($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return Je.Activity=g,Je.Children=Te,Je.Component=j,Je.Fragment=n,Je.Profiler=a,Je.PureComponent=P,Je.StrictMode=r,Je.Suspense=f,Je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Je.__COMPILER_RUNTIME={__proto__:null,c:function($){return k.H.useMemoCache($)}},Je.cache=function($){return function(){return $.apply(null,arguments)}},Je.cacheSignal=function(){return null},Je.cloneElement=function($,z,K){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var re=S({},$.props),ge=$.key;if(z!=null)for(Ee in z.key!==void 0&&(ge=""+z.key),z)!O.call(z,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&z.ref===void 0||(re[Ee]=z[Ee]);var Ee=arguments.length-2;if(Ee===1)re.children=K;else if(1<Ee){for(var ne=Array(Ee),Pe=0;Pe<Ee;Pe++)ne[Pe]=arguments[Pe+2];re.children=ne}return D($.type,ge,re)},Je.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:s,_context:$},$},Je.createElement=function($,z,K){var re,ge={},Ee=null;if(z!=null)for(re in z.key!==void 0&&(Ee=""+z.key),z)O.call(z,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ge[re]=z[re]);var ne=arguments.length-2;if(ne===1)ge.children=K;else if(1<ne){for(var Pe=Array(ne),le=0;le<ne;le++)Pe[le]=arguments[le+2];ge.children=Pe}if($&&$.defaultProps)for(re in ne=$.defaultProps,ne)ge[re]===void 0&&(ge[re]=ne[re]);return D($,Ee,ge)},Je.createRef=function(){return{current:null}},Je.forwardRef=function($){return{$$typeof:u,render:$}},Je.isValidElement=M,Je.lazy=function($){return{$$typeof:p,_payload:{_status:-1,_result:$},_init:J}},Je.memo=function($,z){return{$$typeof:h,type:$,compare:z===void 0?null:z}},Je.startTransition=function($){var z=k.T,K={};k.T=K;try{var re=$(),ge=k.S;ge!==null&&ge(K,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(F,he)}catch(Ee){he(Ee)}finally{z!==null&&K.types!==null&&(z.types=K.types),k.T=z}},Je.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Je.use=function($){return k.H.use($)},Je.useActionState=function($,z,K){return k.H.useActionState($,z,K)},Je.useCallback=function($,z){return k.H.useCallback($,z)},Je.useContext=function($){return k.H.useContext($)},Je.useDebugValue=function(){},Je.useDeferredValue=function($,z){return k.H.useDeferredValue($,z)},Je.useEffect=function($,z){return k.H.useEffect($,z)},Je.useEffectEvent=function($){return k.H.useEffectEvent($)},Je.useId=function(){return k.H.useId()},Je.useImperativeHandle=function($,z,K){return k.H.useImperativeHandle($,z,K)},Je.useInsertionEffect=function($,z){return k.H.useInsertionEffect($,z)},Je.useLayoutEffect=function($,z){return k.H.useLayoutEffect($,z)},Je.useMemo=function($,z){return k.H.useMemo($,z)},Je.useOptimistic=function($,z){return k.H.useOptimistic($,z)},Je.useReducer=function($,z,K){return k.H.useReducer($,z,K)},Je.useRef=function($){return k.H.useRef($)},Je.useState=function($){return k.H.useState($)},Je.useSyncExternalStore=function($,z,K){return k.H.useSyncExternalStore($,z,K)},Je.useTransition=function(){return k.H.useTransition()},Je.version="19.2.3",Je}var Tj;function fd(){return Tj||(Tj=1,hb.exports=Iz()),hb.exports}var _=fd();const Rz=Js(_),Mz=Oz({__proto__:null,default:Rz},[_]);var mb={exports:{}},Rf={},pb={exports:{}},gb={};var jj;function Lz(){return jj||(jj=1,(function(t){function e(Z,Y){var J=Z.length;Z.push(Y);e:for(;0<J;){var he=J-1>>>1,Te=Z[he];if(0<a(Te,Y))Z[he]=Y,Z[J]=Te,J=he;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var Y=Z[0],J=Z.pop();if(J!==Y){Z[0]=J;e:for(var he=0,Te=Z.length,$=Te>>>1;he<$;){var z=2*(he+1)-1,K=Z[z],re=z+1,ge=Z[re];if(0>a(K,J))re<Te&&0>a(ge,K)?(Z[he]=ge,Z[re]=J,he=re):(Z[he]=K,Z[z]=J,he=z);else if(re<Te&&0>a(ge,J))Z[he]=ge,Z[re]=J,he=re;else break e}}return Y}function a(Z,Y){var J=Z.sortIndex-Y.sortIndex;return J!==0?J:Z.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var f=[],h=[],p=1,g=null,x=3,w=!1,E=!1,S=!1,A=!1,j=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function H(Z){for(var Y=n(h);Y!==null;){if(Y.callback===null)r(h);else if(Y.startTime<=Z)r(h),Y.sortIndex=Y.expirationTime,e(f,Y);else break;Y=n(h)}}function R(Z){if(S=!1,H(Z),!E)if(n(f)!==null)E=!0,F||(F=!0,U());else{var Y=n(h);Y!==null&&Se(R,Y.startTime-Z)}}var F=!1,k=-1,O=5,D=-1;function q(){return A?!0:!(t.unstable_now()-D<O)}function M(){if(A=!1,F){var Z=t.unstable_now();D=Z;var Y=!0;try{e:{E=!1,S&&(S=!1,I(k),k=-1),w=!0;var J=x;try{t:{for(H(Z),g=n(f);g!==null&&!(g.expirationTime>Z&&q());){var he=g.callback;if(typeof he=="function"){g.callback=null,x=g.priorityLevel;var Te=he(g.expirationTime<=Z);if(Z=t.unstable_now(),typeof Te=="function"){g.callback=Te,H(Z),Y=!0;break t}g===n(f)&&r(f),H(Z)}else r(f);g=n(f)}if(g!==null)Y=!0;else{var $=n(h);$!==null&&Se(R,$.startTime-Z),Y=!1}}break e}finally{g=null,x=J,w=!1}Y=void 0}}finally{Y?U():F=!1}}}var U;if(typeof P=="function")U=function(){P(M)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,we=V.port2;V.port1.onmessage=M,U=function(){we.postMessage(null)}}else U=function(){j(M,0)};function Se(Z,Y){k=j(function(){Z(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(Z){switch(x){case 1:case 2:case 3:var Y=3;break;default:Y=x}var J=x;x=Y;try{return Z()}finally{x=J}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(Z,Y){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var J=x;x=Z;try{return Y()}finally{x=J}},t.unstable_scheduleCallback=function(Z,Y,J){var he=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?he+J:he):J=he,Z){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=J+Te,Z={id:p++,callback:Y,priorityLevel:Z,startTime:J,expirationTime:Te,sortIndex:-1},J>he?(Z.sortIndex=J,e(h,Z),n(f)===null&&Z===n(h)&&(S?(I(k),k=-1):S=!0,Se(R,J-he))):(Z.sortIndex=Te,e(f,Z),E||w||(E=!0,F||(F=!0,U()))),Z},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(Z){var Y=x;return function(){var J=x;x=Y;try{return Z.apply(this,arguments)}finally{x=J}}}})(gb)),gb}var Cj;function Vz(){return Cj||(Cj=1,pb.exports=Lz()),pb.exports}var yb={exports:{}},wr={};var kj;function Uz(){if(kj)return wr;kj=1;var t=fd();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return wr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,wr.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(f,h,null,p)},wr.flushSync=function(f){var h=l.T,p=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=h,r.p=p,r.d.f()}},wr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},wr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},wr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,w=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:x,fetchPriority:w}):p==="script"&&r.d.X(f,{crossOrigin:g,integrity:x,fetchPriority:w,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},wr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},wr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin);r.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},wr.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=u(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},wr.requestFormReset=function(f){r.d.r(f)},wr.unstable_batchedUpdates=function(f,h){return f(h)},wr.useFormState=function(f,h,p){return l.H.useFormState(f,h,p)},wr.useFormStatus=function(){return l.H.useHostTransitionStatus()},wr.version="19.2.3",wr}var Oj;function OR(){if(Oj)return yb.exports;Oj=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),yb.exports=Uz(),yb.exports}var Pj;function zz(){if(Pj)return Rf;Pj=1;var t=Vz(),e=fd(),n=OR();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var o=i,c=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(c=o.return),i=o.return;while(i)}return o.tag===3?c:null}function l(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function u(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function f(i){if(s(i)!==i)throw Error(r(188))}function h(i){var o=i.alternate;if(!o){if(o=s(i),o===null)throw Error(r(188));return o!==i?null:i}for(var c=i,m=o;;){var v=c.return;if(v===null)break;var b=v.alternate;if(b===null){if(m=v.return,m!==null){c=m;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===c)return f(v),i;if(b===m)return f(v),o;b=b.sibling}throw Error(r(188))}if(c.return!==m.return)c=v,m=b;else{for(var T=!1,L=v.child;L;){if(L===c){T=!0,c=v,m=b;break}if(L===m){T=!0,m=v,c=b;break}L=L.sibling}if(!T){for(L=b.child;L;){if(L===c){T=!0,c=b,m=v;break}if(L===m){T=!0,m=b,c=v;break}L=L.sibling}if(!T)throw Error(r(189))}}if(c.alternate!==m)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?i:o}function p(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=p(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),P=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(i){return i===null||typeof i!="object"?null:(i=M&&i[M]||i["@@iterator"],typeof i=="function"?i:null)}var V=Symbol.for("react.client.reference");function we(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===V?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case j:return"Profiler";case A:return"StrictMode";case R:return"Suspense";case F:return"SuspenseList";case D:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case E:return"Portal";case P:return i.displayName||"Context";case I:return(i._context.displayName||"Context")+".Consumer";case H:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case k:return o=i.displayName||null,o!==null?o:we(i.type)||"Memo";case O:o=i._payload,i=i._init;try{return we(i(o))}catch{}}return null}var Se=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},he=[],Te=-1;function $(i){return{current:i}}function z(i){0>Te||(i.current=he[Te],he[Te]=null,Te--)}function K(i,o){Te++,he[Te]=i.current,i.current=o}var re=$(null),ge=$(null),Ee=$(null),ne=$(null);function Pe(i,o){switch(K(Ee,o),K(ge,i),K(re,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?G2(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=G2(o),i=Y2(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}z(re),K(re,i)}function le(){z(re),z(ge),z(Ee)}function je(i){i.memoizedState!==null&&K(ne,i);var o=re.current,c=Y2(o,i.type);o!==c&&(K(ge,i),K(re,c))}function Le(i){ge.current===i&&(z(re),z(ge)),ne.current===i&&(z(ne),kf._currentValue=J)}var X,Oe;function ke(i){if(X===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);X=o&&o[1]||"",Oe=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+X+i+Oe}var Qe=!1;function at(i,o){if(!i||Qe)return"";Qe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(fe){var ce=fe}Reflect.construct(i,[],ve)}else{try{ve.call()}catch(fe){ce=fe}i.call(ve.prototype)}}else{try{throw Error()}catch(fe){ce=fe}(ve=i())&&typeof ve.catch=="function"&&ve.catch(function(){})}}catch(fe){if(fe&&ce&&typeof fe.stack=="string")return[fe.stack,ce.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=m.DetermineComponentFrameRoot(),T=b[0],L=b[1];if(T&&L){var G=T.split(`
`),se=L.split(`
`);for(v=m=0;m<G.length&&!G[m].includes("DetermineComponentFrameRoot");)m++;for(;v<se.length&&!se[v].includes("DetermineComponentFrameRoot");)v++;if(m===G.length||v===se.length)for(m=G.length-1,v=se.length-1;1<=m&&0<=v&&G[m]!==se[v];)v--;for(;1<=m&&0<=v;m--,v--)if(G[m]!==se[v]){if(m!==1||v!==1)do if(m--,v--,0>v||G[m]!==se[v]){var pe=`
`+G[m].replace(" at new "," at ");return i.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",i.displayName)),pe}while(1<=m&&0<=v);break}}}finally{Qe=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?ke(c):""}function Gt(i,o){switch(i.tag){case 26:case 27:case 5:return ke(i.type);case 16:return ke("Lazy");case 13:return i.child!==o&&o!==null?ke("Suspense Fallback"):ke("Suspense");case 19:return ke("SuspenseList");case 0:case 15:return at(i.type,!1);case 11:return at(i.type.render,!1);case 1:return at(i.type,!0);case 31:return ke("Activity");default:return""}}function Tn(i){try{var o="",c=null;do o+=Gt(i,c),c=i,i=i.return;while(i);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Nt=Object.prototype.hasOwnProperty,Ft=t.unstable_scheduleCallback,ee=t.unstable_cancelCallback,W=t.unstable_shouldYield,Ne=t.unstable_requestPaint,Fe=t.unstable_now,vt=t.unstable_getCurrentPriorityLevel,ln=t.unstable_ImmediatePriority,ta=t.unstable_UserBlockingPriority,_i=t.unstable_NormalPriority,Dd=t.unstable_LowPriority,$c=t.unstable_IdlePriority,Bc=t.log,Fc=t.unstable_setDisableYieldValue,na=null,Bn=null;function Vr(i){if(typeof Bc=="function"&&Fc(i),Bn&&typeof Bn.setStrictMode=="function")try{Bn.setStrictMode(na,i)}catch{}}var cn=Math.clz32?Math.clz32:me,qc=Math.log,lo=Math.LN2;function me(i){return i>>>=0,i===0?32:31-(qc(i)/lo|0)|0}var ue=256,xe=262144,Ue=4194304;function ot(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function mt(i,o,c){var m=i.pendingLanes;if(m===0)return 0;var v=0,b=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var L=m&134217727;return L!==0?(m=L&~b,m!==0?v=ot(m):(T&=L,T!==0?v=ot(T):c||(c=L&~i,c!==0&&(v=ot(c))))):(L=m&~b,L!==0?v=ot(L):T!==0?v=ot(T):c||(c=m&~i,c!==0&&(v=ot(c)))),v===0?0:o!==0&&o!==v&&(o&b)===0&&(b=v&-v,c=o&-o,b>=c||b===32&&(c&4194048)!==0)?o:v}function Pt(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function Ei(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Si(){var i=Ue;return Ue<<=1,(Ue&62914560)===0&&(Ue=4194304),i}function Sa(i){for(var o=[],c=0;31>c;c++)o.push(i);return o}function as(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Id(i,o,c,m,v,b){var T=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var L=i.entanglements,G=i.expirationTimes,se=i.hiddenUpdates;for(c=T&~c;0<c;){var pe=31-cn(c),ve=1<<pe;L[pe]=0,G[pe]=-1;var ce=se[pe];if(ce!==null)for(se[pe]=null,pe=0;pe<ce.length;pe++){var fe=ce[pe];fe!==null&&(fe.lane&=-536870913)}c&=~ve}m!==0&&is(i,m,0),b!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=b&~(T&~o))}function is(i,o,c){i.pendingLanes|=o,i.suspendedLanes&=~o;var m=31-cn(o);i.entangledLanes|=o,i.entanglements[m]=i.entanglements[m]|1073741824|c&261930}function Tl(i,o){var c=i.entangledLanes|=o;for(i=i.entanglements;c;){var m=31-cn(c),v=1<<m;v&o|i[m]&o&&(i[m]|=o),c&=~v}}function jl(i,o){var c=o&-o;return c=(c&42)!==0?1:ss(c),(c&(i.suspendedLanes|o))!==0?0:c}function ss(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ei(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Hc(){var i=Y.p;return i!==0?i:(i=window.event,i===void 0?32:yj(i.type))}function ra(i,o){var c=Y.p;try{return Y.p=i,o()}finally{Y.p=c}}var aa=Math.random().toString(36).slice(2),hn="__reactFiber$"+aa,jn="__reactProps$"+aa,Na="__reactContainer$"+aa,co="__reactEvents$"+aa,Rd="__reactListeners$"+aa,zt="__reactHandles$"+aa,pt="__reactResources$"+aa,He="__reactMarker$"+aa;function Cn(i){delete i[hn],delete i[jn],delete i[co],delete i[Rd],delete i[zt]}function Ni(i){var o=i[hn];if(o)return o;for(var c=i.parentNode;c;){if(o=c[Na]||c[hn]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(i=tj(i);i!==null;){if(c=i[hn])return c;i=tj(i)}return o}i=c,c=i.parentNode}return null}function Aa(i){if(i=i[hn]||i[Na]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function ia(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function Ai(i){var o=i[pt];return o||(o=i[pt]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function kn(i){i[He]=!0}var Md=new Set,Ld={};function Ti(i,o){ji(i,o),ji(i+"Capture",o)}function ji(i,o){for(Ld[i]=o,i=0;i<o.length;i++)Md.add(o[i])}var Vd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ud={},zd={};function km(i){return Nt.call(zd,i)?!0:Nt.call(Ud,i)?!1:Vd.test(i)?zd[i]=!0:(Ud[i]=!0,!1)}function Kc(i,o,c){if(km(o))if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+c)}}function sa(i,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+c)}}function On(i,o,c,m){if(m===null)i.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(o,c,""+m)}}function tr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function uo(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function $d(i,o,c){var m=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var v=m.get,b=m.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return v.call(this)},set:function(T){c=""+T,b.call(this,T)}}),Object.defineProperty(i,o,{enumerable:m.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Tt(i){if(!i._valueTracker){var o=uo(i)?"checked":"value";i._valueTracker=$d(i,o,""+i[o])}}function Cl(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var c=o.getValue(),m="";return i&&(m=uo(i)?i.checked?"true":"false":i.value),i=m,i!==c?(o.setValue(i),!0):!1}function Ci(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var kl=/[\n"\\]/g;function Ur(i){return i.replace(kl,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Gc(i,o,c,m,v,b,T,L){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),o!=null?T==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+tr(o)):i.value!==""+tr(o)&&(i.value=""+tr(o)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),o!=null?Bd(i,T,tr(o)):c!=null?Bd(i,T,tr(c)):m!=null&&i.removeAttribute("value"),v==null&&b!=null&&(i.defaultChecked=!!b),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?i.name=""+tr(L):i.removeAttribute("name")}function Om(i,o,c,m,v,b,T,L){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),o!=null||c!=null){if(!(b!=="submit"&&b!=="reset"||o!=null)){Tt(i);return}c=c!=null?""+tr(c):"",o=o!=null?""+tr(o):c,L||o===i.value||(i.value=o),i.defaultValue=o}m=m??v,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=L?i.checked:!!m,i.defaultChecked=!!m,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),Tt(i)}function Bd(i,o,c){o==="number"&&Ci(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function fo(i,o,c,m){if(i=i.options,o){o={};for(var v=0;v<c.length;v++)o["$"+c[v]]=!0;for(c=0;c<i.length;c++)v=o.hasOwnProperty("$"+i[c].value),i[c].selected!==v&&(i[c].selected=v),v&&m&&(i[c].defaultSelected=!0)}else{for(c=""+tr(c),o=null,v=0;v<i.length;v++){if(i[v].value===c){i[v].selected=!0,m&&(i[v].defaultSelected=!0);return}o!==null||i[v].disabled||(o=i[v])}o!==null&&(o.selected=!0)}}function Pm(i,o,c){if(o!=null&&(o=""+tr(o),o!==i.value&&(i.value=o),c==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=c!=null?""+tr(c):""}function ho(i,o,c,m){if(o==null){if(m!=null){if(c!=null)throw Error(r(92));if(Se(m)){if(1<m.length)throw Error(r(93));m=m[0]}c=m}c==null&&(c=""),o=c}c=tr(o),i.defaultValue=c,m=i.textContent,m===c&&m!==""&&m!==null&&(i.value=m),Tt(i)}function zr(i,o){if(o){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=o;return}}i.textContent=o}var Dm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fd(i,o,c){var m=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?m?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":m?i.setProperty(o,c):typeof c!="number"||c===0||Dm.has(o)?o==="float"?i.cssFloat=c:i[o]=(""+c).trim():i[o]=c+"px"}function qd(i,o,c){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,c!=null){for(var m in c)!c.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var v in o)m=o[v],o.hasOwnProperty(v)&&c[v]!==m&&Fd(i,v,m)}else for(var b in o)o.hasOwnProperty(b)&&Fd(i,b,o[b])}function Yc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Im=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wc(i){return mo.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ti(){}var Hd=null;function Ta(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var po=null,ki=null;function Ol(i){var o=Aa(i);if(o&&(i=o.stateNode)){var c=i[jn]||null;e:switch(i=o.stateNode,o.type){case"input":if(Gc(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Ur(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var m=c[o];if(m!==i&&m.form===i.form){var v=m[jn]||null;if(!v)throw Error(r(90));Gc(m,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<c.length;o++)m=c[o],m.form===i.form&&Cl(m)}break e;case"textarea":Pm(i,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&fo(i,!!c.multiple,o,!1)}}}var Xc=!1;function go(i,o,c){if(Xc)return i(o,c);Xc=!0;try{var m=i(o);return m}finally{if(Xc=!1,(po!==null||ki!==null)&&(Tp(),po&&(o=po,i=ki,ki=po=null,Ol(o),i)))for(o=0;o<i.length;o++)Ol(i[o])}}function ni(i,o){var c=i.stateNode;if(c===null)return null;var m=c[jn]||null;if(m===null)return null;c=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(r(231,o,typeof c));return c}var ja=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pl=!1;if(ja)try{var Dt={};Object.defineProperty(Dt,"passive",{get:function(){Pl=!0}}),window.addEventListener("test",Dt,Dt),window.removeEventListener("test",Dt,Dt)}catch{Pl=!1}var Oi=null,Kd=null,Dl=null;function Gd(){if(Dl)return Dl;var i,o=Kd,c=o.length,m,v="value"in Oi?Oi.value:Oi.textContent,b=v.length;for(i=0;i<c&&o[i]===v[i];i++);var T=c-i;for(m=1;m<=T&&o[c-m]===v[b-m];m++);return Dl=v.slice(i,1<m?1-m:void 0)}function Il(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function os(){return!0}function ri(){return!1}function ur(i){function o(c,m,v,b,T){this._reactName=c,this._targetInst=v,this.type=m,this.nativeEvent=b,this.target=T,this.currentTarget=null;for(var L in i)i.hasOwnProperty(L)&&(c=i[L],this[L]=c?c(b):b[L]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?os:ri,this.isPropagationStopped=ri,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=os)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=os)},persist:function(){},isPersistent:os}),o}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pi=ur(ls),yo=g({},ls,{view:0,detail:0}),Yd=ur(yo),vo,Qc,Di,Zc=g({},yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xo,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Di&&(Di&&i.type==="mousemove"?(vo=i.screenX-Di.screenX,Qc=i.screenY-Di.screenY):Qc=vo=0,Di=i),vo)},movementY:function(i){return"movementY"in i?i.movementY:Qc}}),Wd=ur(Zc),Rl=g({},Zc,{dataTransfer:0}),Rm=ur(Rl),Mm=g({},yo,{relatedTarget:0}),Ml=ur(Mm),Xd=g({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),Lm=ur(Xd),Jc=g({},ls,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Vm=ur(Jc),Um=g({},ls,{data:0}),Ii=ur(Um),zm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$m={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fm(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Bm[i])?!!o[i]:!1}function xo(){return Fm}var jr=g({},yo,{key:function(i){if(i.key){var o=zm[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Il(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?$m[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xo,charCode:function(i){return i.type==="keypress"?Il(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Il(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),qm=ur(jr),Hm=g({},Zc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cs=ur(Hm),y=g({},yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xo}),N=ur(y),C=g({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),B=ur(C),ae=g({},Zc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),de=ur(ae),Ae=g({},ls,{newState:0,oldState:0}),tt=ur(Ae),xn=[9,13,27,32],Et=ja&&"CompositionEvent"in window,Jt=null;ja&&"documentMode"in document&&(Jt=document.documentMode);var Ca=ja&&"TextEvent"in window&&!Jt,Ri=ja&&(!Et||Jt&&8<Jt&&11>=Jt),ai=" ",ii=!1;function Ll(i,o){switch(i){case"keyup":return xn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eu(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var tu=!1;function t9(i,o){switch(i){case"compositionend":return eu(o);case"keypress":return o.which!==32?null:(ii=!0,ai);case"textInput":return i=o.data,i===ai&&ii?null:i;default:return null}}function n9(i,o){if(tu)return i==="compositionend"||!Et&&Ll(i,o)?(i=Gd(),Dl=Kd=Oi=null,tu=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ri&&o.locale!=="ko"?null:o.data;default:return null}}var r9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aA(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!r9[i.type]:o==="textarea"}function iA(i,o,c,m){po?ki?ki.push(m):ki=[m]:po=m,o=Ip(o,"onChange"),0<o.length&&(c=new Pi("onChange","change",null,c,m),i.push({event:c,listeners:o}))}var Qd=null,Zd=null;function a9(i){$2(i,0)}function Km(i){var o=ia(i);if(Cl(o))return i}function sA(i,o){if(i==="change")return o}var oA=!1;if(ja){var x0;if(ja){var b0="oninput"in document;if(!b0){var lA=document.createElement("div");lA.setAttribute("oninput","return;"),b0=typeof lA.oninput=="function"}x0=b0}else x0=!1;oA=x0&&(!document.documentMode||9<document.documentMode)}function cA(){Qd&&(Qd.detachEvent("onpropertychange",uA),Zd=Qd=null)}function uA(i){if(i.propertyName==="value"&&Km(Zd)){var o=[];iA(o,Zd,i,Ta(i)),go(a9,o)}}function i9(i,o,c){i==="focusin"?(cA(),Qd=o,Zd=c,Qd.attachEvent("onpropertychange",uA)):i==="focusout"&&cA()}function s9(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Km(Zd)}function o9(i,o){if(i==="click")return Km(o)}function l9(i,o){if(i==="input"||i==="change")return Km(o)}function c9(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var oa=typeof Object.is=="function"?Object.is:c9;function Jd(i,o){if(oa(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var c=Object.keys(i),m=Object.keys(o);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var v=c[m];if(!Nt.call(o,v)||!oa(i[v],o[v]))return!1}return!0}function dA(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function fA(i,o){var c=dA(i);i=0;for(var m;c;){if(c.nodeType===3){if(m=i+c.textContent.length,i<=o&&m>=o)return{node:c,offset:o-i};i=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=dA(c)}}function hA(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?hA(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function mA(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=Ci(i.document);o instanceof i.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)i=o.contentWindow;else break;o=Ci(i.document)}return o}function w0(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var u9=ja&&"documentMode"in document&&11>=document.documentMode,nu=null,_0=null,ef=null,E0=!1;function pA(i,o,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;E0||nu==null||nu!==Ci(m)||(m=nu,"selectionStart"in m&&w0(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),ef&&Jd(ef,m)||(ef=m,m=Ip(_0,"onSelect"),0<m.length&&(o=new Pi("onSelect","select",null,o,c),i.push({event:o,listeners:m}),o.target=nu)))}function Vl(i,o){var c={};return c[i.toLowerCase()]=o.toLowerCase(),c["Webkit"+i]="webkit"+o,c["Moz"+i]="moz"+o,c}var ru={animationend:Vl("Animation","AnimationEnd"),animationiteration:Vl("Animation","AnimationIteration"),animationstart:Vl("Animation","AnimationStart"),transitionrun:Vl("Transition","TransitionRun"),transitionstart:Vl("Transition","TransitionStart"),transitioncancel:Vl("Transition","TransitionCancel"),transitionend:Vl("Transition","TransitionEnd")},S0={},gA={};ja&&(gA=document.createElement("div").style,"AnimationEvent"in window||(delete ru.animationend.animation,delete ru.animationiteration.animation,delete ru.animationstart.animation),"TransitionEvent"in window||delete ru.transitionend.transition);function Ul(i){if(S0[i])return S0[i];if(!ru[i])return i;var o=ru[i],c;for(c in o)if(o.hasOwnProperty(c)&&c in gA)return S0[i]=o[c];return i}var yA=Ul("animationend"),vA=Ul("animationiteration"),xA=Ul("animationstart"),d9=Ul("transitionrun"),f9=Ul("transitionstart"),h9=Ul("transitioncancel"),bA=Ul("transitionend"),wA=new Map,N0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");N0.push("scrollEnd");function si(i,o){wA.set(i,o),Ti(o,[i])}var Gm=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ka=[],au=0,A0=0;function Ym(){for(var i=au,o=A0=au=0;o<i;){var c=ka[o];ka[o++]=null;var m=ka[o];ka[o++]=null;var v=ka[o];ka[o++]=null;var b=ka[o];if(ka[o++]=null,m!==null&&v!==null){var T=m.pending;T===null?v.next=v:(v.next=T.next,T.next=v),m.pending=v}b!==0&&_A(c,v,b)}}function Wm(i,o,c,m){ka[au++]=i,ka[au++]=o,ka[au++]=c,ka[au++]=m,A0|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function T0(i,o,c,m){return Wm(i,o,c,m),Xm(i)}function zl(i,o){return Wm(i,null,null,o),Xm(i)}function _A(i,o,c){i.lanes|=c;var m=i.alternate;m!==null&&(m.lanes|=c);for(var v=!1,b=i.return;b!==null;)b.childLanes|=c,m=b.alternate,m!==null&&(m.childLanes|=c),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(v=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,v&&o!==null&&(v=31-cn(c),i=b.hiddenUpdates,m=i[v],m===null?i[v]=[o]:m.push(o),o.lane=c|536870912),b):null}function Xm(i){if(50<Ef)throw Ef=0,Mx=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var iu={};function m9(i,o,c,m){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function la(i,o,c,m){return new m9(i,o,c,m)}function j0(i){return i=i.prototype,!(!i||!i.isReactComponent)}function us(i,o){var c=i.alternate;return c===null?(c=la(i.tag,o,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=o,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,o=i.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function EA(i,o){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,o=c.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Qm(i,o,c,m,v,b){var T=0;if(m=i,typeof i=="function")j0(i)&&(T=1);else if(typeof i=="string")T=xz(i,c,re.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case D:return i=la(31,c,o,v),i.elementType=D,i.lanes=b,i;case S:return $l(c.children,v,b,o);case A:T=8,v|=24;break;case j:return i=la(12,c,o,v|2),i.elementType=j,i.lanes=b,i;case R:return i=la(13,c,o,v),i.elementType=R,i.lanes=b,i;case F:return i=la(19,c,o,v),i.elementType=F,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case P:T=10;break e;case I:T=9;break e;case H:T=11;break e;case k:T=14;break e;case O:T=16,m=null;break e}T=29,c=Error(r(130,i===null?"null":typeof i,"")),m=null}return o=la(T,c,o,v),o.elementType=i,o.type=m,o.lanes=b,o}function $l(i,o,c,m){return i=la(7,i,m,o),i.lanes=c,i}function C0(i,o,c){return i=la(6,i,null,o),i.lanes=c,i}function SA(i){var o=la(18,null,null,0);return o.stateNode=i,o}function k0(i,o,c){return o=la(4,i.children!==null?i.children:[],i.key,o),o.lanes=c,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var NA=new WeakMap;function Oa(i,o){if(typeof i=="object"&&i!==null){var c=NA.get(i);return c!==void 0?c:(o={value:i,source:o,stack:Tn(o)},NA.set(i,o),o)}return{value:i,source:o,stack:Tn(o)}}var su=[],ou=0,Zm=null,tf=0,Pa=[],Da=0,bo=null,Mi=1,Li="";function ds(i,o){su[ou++]=tf,su[ou++]=Zm,Zm=i,tf=o}function AA(i,o,c){Pa[Da++]=Mi,Pa[Da++]=Li,Pa[Da++]=bo,bo=i;var m=Mi;i=Li;var v=32-cn(m)-1;m&=~(1<<v),c+=1;var b=32-cn(o)+v;if(30<b){var T=v-v%5;b=(m&(1<<T)-1).toString(32),m>>=T,v-=T,Mi=1<<32-cn(o)+v|c<<v|m,Li=b+i}else Mi=1<<b|c<<v|m,Li=i}function O0(i){i.return!==null&&(ds(i,1),AA(i,1,0))}function P0(i){for(;i===Zm;)Zm=su[--ou],su[ou]=null,tf=su[--ou],su[ou]=null;for(;i===bo;)bo=Pa[--Da],Pa[Da]=null,Li=Pa[--Da],Pa[Da]=null,Mi=Pa[--Da],Pa[Da]=null}function TA(i,o){Pa[Da++]=Mi,Pa[Da++]=Li,Pa[Da++]=bo,Mi=o.id,Li=o.overflow,bo=i}var dr=null,Yt=null,ht=!1,wo=null,Ia=!1,D0=Error(r(519));function _o(i){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw nf(Oa(o,i)),D0}function jA(i){var o=i.stateNode,c=i.type,m=i.memoizedProps;switch(o[hn]=i,o[jn]=m,c){case"dialog":st("cancel",o),st("close",o);break;case"iframe":case"object":case"embed":st("load",o);break;case"video":case"audio":for(c=0;c<Nf.length;c++)st(Nf[c],o);break;case"source":st("error",o);break;case"img":case"image":case"link":st("error",o),st("load",o);break;case"details":st("toggle",o);break;case"input":st("invalid",o),Om(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":st("invalid",o);break;case"textarea":st("invalid",o),ho(o,m.value,m.defaultValue,m.children)}c=m.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||m.suppressHydrationWarning===!0||H2(o.textContent,c)?(m.popover!=null&&(st("beforetoggle",o),st("toggle",o)),m.onScroll!=null&&st("scroll",o),m.onScrollEnd!=null&&st("scrollend",o),m.onClick!=null&&(o.onclick=ti),o=!0):o=!1,o||_o(i,!0)}function CA(i){for(dr=i.return;dr;)switch(dr.tag){case 5:case 31:case 13:Ia=!1;return;case 27:case 3:Ia=!0;return;default:dr=dr.return}}function lu(i){if(i!==dr)return!1;if(!ht)return CA(i),ht=!0,!1;var o=i.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||Qx(i.type,i.memoizedProps)),c=!c),c&&Yt&&_o(i),CA(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Yt=ej(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Yt=ej(i)}else o===27?(o=Yt,Mo(i.type)?(i=nb,nb=null,Yt=i):Yt=o):Yt=dr?Ma(i.stateNode.nextSibling):null;return!0}function Bl(){Yt=dr=null,ht=!1}function I0(){var i=wo;return i!==null&&(qr===null?qr=i:qr.push.apply(qr,i),wo=null),i}function nf(i){wo===null?wo=[i]:wo.push(i)}var R0=$(null),Fl=null,fs=null;function Eo(i,o,c){K(R0,o._currentValue),o._currentValue=c}function hs(i){i._currentValue=R0.current,z(R0)}function M0(i,o,c){for(;i!==null;){var m=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),i===c)break;i=i.return}}function L0(i,o,c,m){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var b=v.dependencies;if(b!==null){var T=v.child;b=b.firstContext;e:for(;b!==null;){var L=b;b=v;for(var G=0;G<o.length;G++)if(L.context===o[G]){b.lanes|=c,L=b.alternate,L!==null&&(L.lanes|=c),M0(b.return,c,i),m||(T=null);break e}b=L.next}}else if(v.tag===18){if(T=v.return,T===null)throw Error(r(341));T.lanes|=c,b=T.alternate,b!==null&&(b.lanes|=c),M0(T,c,i),T=null}else T=v.child;if(T!==null)T.return=v;else for(T=v;T!==null;){if(T===i){T=null;break}if(v=T.sibling,v!==null){v.return=T.return,T=v;break}T=T.return}v=T}}function cu(i,o,c,m){i=null;for(var v=o,b=!1;v!==null;){if(!b){if((v.flags&524288)!==0)b=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var T=v.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var L=v.type;oa(v.pendingProps.value,T.value)||(i!==null?i.push(L):i=[L])}}else if(v===ne.current){if(T=v.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(kf):i=[kf])}v=v.return}i!==null&&L0(o,i,c,m),o.flags|=262144}function Jm(i){for(i=i.firstContext;i!==null;){if(!oa(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ql(i){Fl=i,fs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function fr(i){return kA(Fl,i)}function ep(i,o){return Fl===null&&ql(i),kA(i,o)}function kA(i,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},fs===null){if(i===null)throw Error(r(308));fs=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else fs=fs.next=o;return c}var p9=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(c,m){i.push(m)}};this.abort=function(){o.aborted=!0,i.forEach(function(c){return c()})}},g9=t.unstable_scheduleCallback,y9=t.unstable_NormalPriority,Pn={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function V0(){return{controller:new p9,data:new Map,refCount:0}}function rf(i){i.refCount--,i.refCount===0&&g9(y9,function(){i.controller.abort()})}var af=null,U0=0,uu=0,du=null;function v9(i,o){if(af===null){var c=af=[];U0=0,uu=Bx(),du={status:"pending",value:void 0,then:function(m){c.push(m)}}}return U0++,o.then(OA,OA),o}function OA(){if(--U0===0&&af!==null){du!==null&&(du.status="fulfilled");var i=af;af=null,uu=0,du=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function x9(i,o){var c=[],m={status:"pending",value:null,reason:null,then:function(v){c.push(v)}};return i.then(function(){m.status="fulfilled",m.value=o;for(var v=0;v<c.length;v++)(0,c[v])(o)},function(v){for(m.status="rejected",m.reason=v,v=0;v<c.length;v++)(0,c[v])(void 0)}),m}var PA=Z.S;Z.S=function(i,o){p2=Fe(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&v9(i,o),PA!==null&&PA(i,o)};var Hl=$(null);function z0(){var i=Hl.current;return i!==null?i:$t.pooledCache}function tp(i,o){o===null?K(Hl,Hl.current):K(Hl,o.pool)}function DA(){var i=z0();return i===null?null:{parent:Pn._currentValue,pool:i}}var fu=Error(r(460)),$0=Error(r(474)),np=Error(r(542)),rp={then:function(){}};function IA(i){return i=i.status,i==="fulfilled"||i==="rejected"}function RA(i,o,c){switch(c=i[c],c===void 0?i.push(o):c!==o&&(o.then(ti,ti),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,LA(i),i;default:if(typeof o.status=="string")o.then(ti,ti);else{if(i=$t,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(m){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=m}},function(m){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,LA(i),i}throw Gl=o,fu}}function Kl(i){try{var o=i._init;return o(i._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Gl=c,fu):c}}var Gl=null;function MA(){if(Gl===null)throw Error(r(459));var i=Gl;return Gl=null,i}function LA(i){if(i===fu||i===np)throw Error(r(483))}var hu=null,sf=0;function ap(i){var o=sf;return sf+=1,hu===null&&(hu=[]),RA(hu,i,o)}function of(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function ip(i,o){throw o.$$typeof===x?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function VA(i){function o(te,Q){if(i){var ie=te.deletions;ie===null?(te.deletions=[Q],te.flags|=16):ie.push(Q)}}function c(te,Q){if(!i)return null;for(;Q!==null;)o(te,Q),Q=Q.sibling;return null}function m(te){for(var Q=new Map;te!==null;)te.key!==null?Q.set(te.key,te):Q.set(te.index,te),te=te.sibling;return Q}function v(te,Q){return te=us(te,Q),te.index=0,te.sibling=null,te}function b(te,Q,ie){return te.index=ie,i?(ie=te.alternate,ie!==null?(ie=ie.index,ie<Q?(te.flags|=67108866,Q):ie):(te.flags|=67108866,Q)):(te.flags|=1048576,Q)}function T(te){return i&&te.alternate===null&&(te.flags|=67108866),te}function L(te,Q,ie,ye){return Q===null||Q.tag!==6?(Q=C0(ie,te.mode,ye),Q.return=te,Q):(Q=v(Q,ie),Q.return=te,Q)}function G(te,Q,ie,ye){var qe=ie.type;return qe===S?pe(te,Q,ie.props.children,ye,ie.key):Q!==null&&(Q.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===O&&Kl(qe)===Q.type)?(Q=v(Q,ie.props),of(Q,ie),Q.return=te,Q):(Q=Qm(ie.type,ie.key,ie.props,null,te.mode,ye),of(Q,ie),Q.return=te,Q)}function se(te,Q,ie,ye){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ie.containerInfo||Q.stateNode.implementation!==ie.implementation?(Q=k0(ie,te.mode,ye),Q.return=te,Q):(Q=v(Q,ie.children||[]),Q.return=te,Q)}function pe(te,Q,ie,ye,qe){return Q===null||Q.tag!==7?(Q=$l(ie,te.mode,ye,qe),Q.return=te,Q):(Q=v(Q,ie),Q.return=te,Q)}function ve(te,Q,ie){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=C0(""+Q,te.mode,ie),Q.return=te,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case w:return ie=Qm(Q.type,Q.key,Q.props,null,te.mode,ie),of(ie,Q),ie.return=te,ie;case E:return Q=k0(Q,te.mode,ie),Q.return=te,Q;case O:return Q=Kl(Q),ve(te,Q,ie)}if(Se(Q)||U(Q))return Q=$l(Q,te.mode,ie,null),Q.return=te,Q;if(typeof Q.then=="function")return ve(te,ap(Q),ie);if(Q.$$typeof===P)return ve(te,ep(te,Q),ie);ip(te,Q)}return null}function ce(te,Q,ie,ye){var qe=Q!==null?Q.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return qe!==null?null:L(te,Q,""+ie,ye);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case w:return ie.key===qe?G(te,Q,ie,ye):null;case E:return ie.key===qe?se(te,Q,ie,ye):null;case O:return ie=Kl(ie),ce(te,Q,ie,ye)}if(Se(ie)||U(ie))return qe!==null?null:pe(te,Q,ie,ye,null);if(typeof ie.then=="function")return ce(te,Q,ap(ie),ye);if(ie.$$typeof===P)return ce(te,Q,ep(te,ie),ye);ip(te,ie)}return null}function fe(te,Q,ie,ye,qe){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return te=te.get(ie)||null,L(Q,te,""+ye,qe);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case w:return te=te.get(ye.key===null?ie:ye.key)||null,G(Q,te,ye,qe);case E:return te=te.get(ye.key===null?ie:ye.key)||null,se(Q,te,ye,qe);case O:return ye=Kl(ye),fe(te,Q,ie,ye,qe)}if(Se(ye)||U(ye))return te=te.get(ie)||null,pe(Q,te,ye,qe,null);if(typeof ye.then=="function")return fe(te,Q,ie,ap(ye),qe);if(ye.$$typeof===P)return fe(te,Q,ie,ep(Q,ye),qe);ip(Q,ye)}return null}function Re(te,Q,ie,ye){for(var qe=null,xt=null,ze=Q,rt=Q=0,ct=null;ze!==null&&rt<ie.length;rt++){ze.index>rt?(ct=ze,ze=null):ct=ze.sibling;var bt=ce(te,ze,ie[rt],ye);if(bt===null){ze===null&&(ze=ct);break}i&&ze&&bt.alternate===null&&o(te,ze),Q=b(bt,Q,rt),xt===null?qe=bt:xt.sibling=bt,xt=bt,ze=ct}if(rt===ie.length)return c(te,ze),ht&&ds(te,rt),qe;if(ze===null){for(;rt<ie.length;rt++)ze=ve(te,ie[rt],ye),ze!==null&&(Q=b(ze,Q,rt),xt===null?qe=ze:xt.sibling=ze,xt=ze);return ht&&ds(te,rt),qe}for(ze=m(ze);rt<ie.length;rt++)ct=fe(ze,te,rt,ie[rt],ye),ct!==null&&(i&&ct.alternate!==null&&ze.delete(ct.key===null?rt:ct.key),Q=b(ct,Q,rt),xt===null?qe=ct:xt.sibling=ct,xt=ct);return i&&ze.forEach(function($o){return o(te,$o)}),ht&&ds(te,rt),qe}function Ge(te,Q,ie,ye){if(ie==null)throw Error(r(151));for(var qe=null,xt=null,ze=Q,rt=Q=0,ct=null,bt=ie.next();ze!==null&&!bt.done;rt++,bt=ie.next()){ze.index>rt?(ct=ze,ze=null):ct=ze.sibling;var $o=ce(te,ze,bt.value,ye);if($o===null){ze===null&&(ze=ct);break}i&&ze&&$o.alternate===null&&o(te,ze),Q=b($o,Q,rt),xt===null?qe=$o:xt.sibling=$o,xt=$o,ze=ct}if(bt.done)return c(te,ze),ht&&ds(te,rt),qe;if(ze===null){for(;!bt.done;rt++,bt=ie.next())bt=ve(te,bt.value,ye),bt!==null&&(Q=b(bt,Q,rt),xt===null?qe=bt:xt.sibling=bt,xt=bt);return ht&&ds(te,rt),qe}for(ze=m(ze);!bt.done;rt++,bt=ie.next())bt=fe(ze,te,rt,bt.value,ye),bt!==null&&(i&&bt.alternate!==null&&ze.delete(bt.key===null?rt:bt.key),Q=b(bt,Q,rt),xt===null?qe=bt:xt.sibling=bt,xt=bt);return i&&ze.forEach(function(kz){return o(te,kz)}),ht&&ds(te,rt),qe}function Mt(te,Q,ie,ye){if(typeof ie=="object"&&ie!==null&&ie.type===S&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case w:e:{for(var qe=ie.key;Q!==null;){if(Q.key===qe){if(qe=ie.type,qe===S){if(Q.tag===7){c(te,Q.sibling),ye=v(Q,ie.props.children),ye.return=te,te=ye;break e}}else if(Q.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===O&&Kl(qe)===Q.type){c(te,Q.sibling),ye=v(Q,ie.props),of(ye,ie),ye.return=te,te=ye;break e}c(te,Q);break}else o(te,Q);Q=Q.sibling}ie.type===S?(ye=$l(ie.props.children,te.mode,ye,ie.key),ye.return=te,te=ye):(ye=Qm(ie.type,ie.key,ie.props,null,te.mode,ye),of(ye,ie),ye.return=te,te=ye)}return T(te);case E:e:{for(qe=ie.key;Q!==null;){if(Q.key===qe)if(Q.tag===4&&Q.stateNode.containerInfo===ie.containerInfo&&Q.stateNode.implementation===ie.implementation){c(te,Q.sibling),ye=v(Q,ie.children||[]),ye.return=te,te=ye;break e}else{c(te,Q);break}else o(te,Q);Q=Q.sibling}ye=k0(ie,te.mode,ye),ye.return=te,te=ye}return T(te);case O:return ie=Kl(ie),Mt(te,Q,ie,ye)}if(Se(ie))return Re(te,Q,ie,ye);if(U(ie)){if(qe=U(ie),typeof qe!="function")throw Error(r(150));return ie=qe.call(ie),Ge(te,Q,ie,ye)}if(typeof ie.then=="function")return Mt(te,Q,ap(ie),ye);if(ie.$$typeof===P)return Mt(te,Q,ep(te,ie),ye);ip(te,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,Q!==null&&Q.tag===6?(c(te,Q.sibling),ye=v(Q,ie),ye.return=te,te=ye):(c(te,Q),ye=C0(ie,te.mode,ye),ye.return=te,te=ye),T(te)):c(te,Q)}return function(te,Q,ie,ye){try{sf=0;var qe=Mt(te,Q,ie,ye);return hu=null,qe}catch(ze){if(ze===fu||ze===np)throw ze;var xt=la(29,ze,null,te.mode);return xt.lanes=ye,xt.return=te,xt}}}var Yl=VA(!0),UA=VA(!1),So=!1;function B0(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function F0(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function No(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ao(i,o,c){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(St&2)!==0){var v=m.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),m.pending=o,o=Xm(i),_A(i,null,c),o}return Wm(i,m,o,c),Xm(i)}function lf(i,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var m=o.lanes;m&=i.pendingLanes,c|=m,o.lanes=c,Tl(i,c)}}function q0(i,o){var c=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var v=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var T={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};b===null?v=b=T:b=b.next=T,c=c.next}while(c!==null);b===null?v=b=o:b=b.next=o}else v=b=o;c={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:m.shared,callbacks:m.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=o:i.next=o,c.lastBaseUpdate=o}var H0=!1;function cf(){if(H0){var i=du;if(i!==null)throw i}}function uf(i,o,c,m){H0=!1;var v=i.updateQueue;So=!1;var b=v.firstBaseUpdate,T=v.lastBaseUpdate,L=v.shared.pending;if(L!==null){v.shared.pending=null;var G=L,se=G.next;G.next=null,T===null?b=se:T.next=se,T=G;var pe=i.alternate;pe!==null&&(pe=pe.updateQueue,L=pe.lastBaseUpdate,L!==T&&(L===null?pe.firstBaseUpdate=se:L.next=se,pe.lastBaseUpdate=G))}if(b!==null){var ve=v.baseState;T=0,pe=se=G=null,L=b;do{var ce=L.lane&-536870913,fe=ce!==L.lane;if(fe?(lt&ce)===ce:(m&ce)===ce){ce!==0&&ce===uu&&(H0=!0),pe!==null&&(pe=pe.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var Re=i,Ge=L;ce=o;var Mt=c;switch(Ge.tag){case 1:if(Re=Ge.payload,typeof Re=="function"){ve=Re.call(Mt,ve,ce);break e}ve=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Ge.payload,ce=typeof Re=="function"?Re.call(Mt,ve,ce):Re,ce==null)break e;ve=g({},ve,ce);break e;case 2:So=!0}}ce=L.callback,ce!==null&&(i.flags|=64,fe&&(i.flags|=8192),fe=v.callbacks,fe===null?v.callbacks=[ce]:fe.push(ce))}else fe={lane:ce,tag:L.tag,payload:L.payload,callback:L.callback,next:null},pe===null?(se=pe=fe,G=ve):pe=pe.next=fe,T|=ce;if(L=L.next,L===null){if(L=v.shared.pending,L===null)break;fe=L,L=fe.next,fe.next=null,v.lastBaseUpdate=fe,v.shared.pending=null}}while(!0);pe===null&&(G=ve),v.baseState=G,v.firstBaseUpdate=se,v.lastBaseUpdate=pe,b===null&&(v.shared.lanes=0),Oo|=T,i.lanes=T,i.memoizedState=ve}}function zA(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function $A(i,o){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)zA(c[i],o)}var mu=$(null),sp=$(0);function BA(i,o){i=_s,K(sp,i),K(mu,o),_s=i|o.baseLanes}function K0(){K(sp,_s),K(mu,mu.current)}function G0(){_s=sp.current,z(mu),z(sp)}var ca=$(null),Ra=null;function To(i){var o=i.alternate;K(bn,bn.current&1),K(ca,i),Ra===null&&(o===null||mu.current!==null||o.memoizedState!==null)&&(Ra=i)}function Y0(i){K(bn,bn.current),K(ca,i),Ra===null&&(Ra=i)}function FA(i){i.tag===22?(K(bn,bn.current),K(ca,i),Ra===null&&(Ra=i)):jo()}function jo(){K(bn,bn.current),K(ca,ca.current)}function ua(i){z(ca),Ra===i&&(Ra=null),z(bn)}var bn=$(0);function op(i){for(var o=i;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||eb(c)||tb(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ms=0,nt=null,It=null,Dn=null,lp=!1,pu=!1,Wl=!1,cp=0,df=0,gu=null,b9=0;function mn(){throw Error(r(321))}function W0(i,o){if(o===null)return!1;for(var c=0;c<o.length&&c<i.length;c++)if(!oa(i[c],o[c]))return!1;return!0}function X0(i,o,c,m,v,b){return ms=b,nt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Z.H=i===null||i.memoizedState===null?AT:dx,Wl=!1,b=c(m,v),Wl=!1,pu&&(b=HA(o,c,m,v)),qA(i),b}function qA(i){Z.H=mf;var o=It!==null&&It.next!==null;if(ms=0,Dn=It=nt=null,lp=!1,df=0,gu=null,o)throw Error(r(300));i===null||In||(i=i.dependencies,i!==null&&Jm(i)&&(In=!0))}function HA(i,o,c,m){nt=i;var v=0;do{if(pu&&(gu=null),df=0,pu=!1,25<=v)throw Error(r(301));if(v+=1,Dn=It=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}Z.H=TT,b=o(c,m)}while(pu);return b}function w9(){var i=Z.H,o=i.useState()[0];return o=typeof o.then=="function"?ff(o):o,i=i.useState()[0],(It!==null?It.memoizedState:null)!==i&&(nt.flags|=1024),o}function Q0(){var i=cp!==0;return cp=0,i}function Z0(i,o,c){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~c}function J0(i){if(lp){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}lp=!1}ms=0,Dn=It=nt=null,pu=!1,df=cp=0,gu=null}function Cr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dn===null?nt.memoizedState=Dn=i:Dn=Dn.next=i,Dn}function wn(){if(It===null){var i=nt.alternate;i=i!==null?i.memoizedState:null}else i=It.next;var o=Dn===null?nt.memoizedState:Dn.next;if(o!==null)Dn=o,It=i;else{if(i===null)throw nt.alternate===null?Error(r(467)):Error(r(310));It=i,i={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Dn===null?nt.memoizedState=Dn=i:Dn=Dn.next=i}return Dn}function up(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ff(i){var o=df;return df+=1,gu===null&&(gu=[]),i=RA(gu,i,o),o=nt,(Dn===null?o.memoizedState:Dn.next)===null&&(o=o.alternate,Z.H=o===null||o.memoizedState===null?AT:dx),i}function dp(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ff(i);if(i.$$typeof===P)return fr(i)}throw Error(r(438,String(i)))}function ex(i){var o=null,c=nt.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var m=nt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=up(),nt.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(i),m=0;m<i;m++)c[m]=q;return o.index++,c}function ps(i,o){return typeof o=="function"?o(i):o}function fp(i){var o=wn();return tx(o,It,i)}function tx(i,o,c){var m=i.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=c;var v=i.baseQueue,b=m.pending;if(b!==null){if(v!==null){var T=v.next;v.next=b.next,b.next=T}o.baseQueue=v=b,m.pending=null}if(b=i.baseState,v===null)i.memoizedState=b;else{o=v.next;var L=T=null,G=null,se=o,pe=!1;do{var ve=se.lane&-536870913;if(ve!==se.lane?(lt&ve)===ve:(ms&ve)===ve){var ce=se.revertLane;if(ce===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),ve===uu&&(pe=!0);else if((ms&ce)===ce){se=se.next,ce===uu&&(pe=!0);continue}else ve={lane:0,revertLane:se.revertLane,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},G===null?(L=G=ve,T=b):G=G.next=ve,nt.lanes|=ce,Oo|=ce;ve=se.action,Wl&&c(b,ve),b=se.hasEagerState?se.eagerState:c(b,ve)}else ce={lane:ve,revertLane:se.revertLane,gesture:se.gesture,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},G===null?(L=G=ce,T=b):G=G.next=ce,nt.lanes|=ve,Oo|=ve;se=se.next}while(se!==null&&se!==o);if(G===null?T=b:G.next=L,!oa(b,i.memoizedState)&&(In=!0,pe&&(c=du,c!==null)))throw c;i.memoizedState=b,i.baseState=T,i.baseQueue=G,m.lastRenderedState=b}return v===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function nx(i){var o=wn(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var m=c.dispatch,v=c.pending,b=o.memoizedState;if(v!==null){c.pending=null;var T=v=v.next;do b=i(b,T.action),T=T.next;while(T!==v);oa(b,o.memoizedState)||(In=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),c.lastRenderedState=b}return[b,m]}function KA(i,o,c){var m=nt,v=wn(),b=ht;if(b){if(c===void 0)throw Error(r(407));c=c()}else c=o();var T=!oa((It||v).memoizedState,c);if(T&&(v.memoizedState=c,In=!0),v=v.queue,ix(WA.bind(null,m,v,i),[i]),v.getSnapshot!==o||T||Dn!==null&&Dn.memoizedState.tag&1){if(m.flags|=2048,yu(9,{destroy:void 0},YA.bind(null,m,v,c,o),null),$t===null)throw Error(r(349));b||(ms&127)!==0||GA(m,o,c)}return c}function GA(i,o,c){i.flags|=16384,i={getSnapshot:o,value:c},o=nt.updateQueue,o===null?(o=up(),nt.updateQueue=o,o.stores=[i]):(c=o.stores,c===null?o.stores=[i]:c.push(i))}function YA(i,o,c,m){o.value=c,o.getSnapshot=m,XA(o)&&QA(i)}function WA(i,o,c){return c(function(){XA(o)&&QA(i)})}function XA(i){var o=i.getSnapshot;i=i.value;try{var c=o();return!oa(i,c)}catch{return!0}}function QA(i){var o=zl(i,2);o!==null&&Hr(o,i,2)}function rx(i){var o=Cr();if(typeof i=="function"){var c=i;if(i=c(),Wl){Vr(!0);try{c()}finally{Vr(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:i},o}function ZA(i,o,c,m){return i.baseState=c,tx(i,It,typeof m=="function"?m:ps)}function _9(i,o,c,m,v){if(pp(i))throw Error(r(485));if(i=o.action,i!==null){var b={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){b.listeners.push(T)}};Z.T!==null?c(!0):b.isTransition=!1,m(b),c=o.pending,c===null?(b.next=o.pending=b,JA(o,b)):(b.next=c.next,o.pending=c.next=b)}}function JA(i,o){var c=o.action,m=o.payload,v=i.state;if(o.isTransition){var b=Z.T,T={};Z.T=T;try{var L=c(v,m),G=Z.S;G!==null&&G(T,L),eT(i,o,L)}catch(se){ax(i,o,se)}finally{b!==null&&T.types!==null&&(b.types=T.types),Z.T=b}}else try{b=c(v,m),eT(i,o,b)}catch(se){ax(i,o,se)}}function eT(i,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(m){tT(i,o,m)},function(m){return ax(i,o,m)}):tT(i,o,c)}function tT(i,o,c){o.status="fulfilled",o.value=c,nT(o),i.state=c,o=i.pending,o!==null&&(c=o.next,c===o?i.pending=null:(c=c.next,o.next=c,JA(i,c)))}function ax(i,o,c){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=c,nT(o),o=o.next;while(o!==m)}i.action=null}function nT(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function rT(i,o){return o}function aT(i,o){if(ht){var c=$t.formState;if(c!==null){e:{var m=nt;if(ht){if(Yt){t:{for(var v=Yt,b=Ia;v.nodeType!==8;){if(!b){v=null;break t}if(v=Ma(v.nextSibling),v===null){v=null;break t}}b=v.data,v=b==="F!"||b==="F"?v:null}if(v){Yt=Ma(v.nextSibling),m=v.data==="F!";break e}}_o(m)}m=!1}m&&(o=c[0])}}return c=Cr(),c.memoizedState=c.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rT,lastRenderedState:o},c.queue=m,c=ET.bind(null,nt,m),m.dispatch=c,m=rx(!1),b=ux.bind(null,nt,!1,m.queue),m=Cr(),v={state:o,dispatch:null,action:i,pending:null},m.queue=v,c=_9.bind(null,nt,v,b,c),v.dispatch=c,m.memoizedState=i,[o,c,!1]}function iT(i){var o=wn();return sT(o,It,i)}function sT(i,o,c){if(o=tx(i,o,rT)[0],i=fp(ps)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=ff(o)}catch(T){throw T===fu?np:T}else m=o;o=wn();var v=o.queue,b=v.dispatch;return c!==o.memoizedState&&(nt.flags|=2048,yu(9,{destroy:void 0},E9.bind(null,v,c),null)),[m,b,i]}function E9(i,o){i.action=o}function oT(i){var o=wn(),c=It;if(c!==null)return sT(o,c,i);wn(),o=o.memoizedState,c=wn();var m=c.queue.dispatch;return c.memoizedState=i,[o,m,!1]}function yu(i,o,c,m){return i={tag:i,create:c,deps:m,inst:o,next:null},o=nt.updateQueue,o===null&&(o=up(),nt.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=i.next=i:(m=c.next,c.next=i,i.next=m,o.lastEffect=i),i}function lT(){return wn().memoizedState}function hp(i,o,c,m){var v=Cr();nt.flags|=i,v.memoizedState=yu(1|o,{destroy:void 0},c,m===void 0?null:m)}function mp(i,o,c,m){var v=wn();m=m===void 0?null:m;var b=v.memoizedState.inst;It!==null&&m!==null&&W0(m,It.memoizedState.deps)?v.memoizedState=yu(o,b,c,m):(nt.flags|=i,v.memoizedState=yu(1|o,b,c,m))}function cT(i,o){hp(8390656,8,i,o)}function ix(i,o){mp(2048,8,i,o)}function S9(i){nt.flags|=4;var o=nt.updateQueue;if(o===null)o=up(),nt.updateQueue=o,o.events=[i];else{var c=o.events;c===null?o.events=[i]:c.push(i)}}function uT(i){var o=wn().memoizedState;return S9({ref:o,nextImpl:i}),function(){if((St&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function dT(i,o){return mp(4,2,i,o)}function fT(i,o){return mp(4,4,i,o)}function hT(i,o){if(typeof o=="function"){i=i();var c=o(i);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function mT(i,o,c){c=c!=null?c.concat([i]):null,mp(4,4,hT.bind(null,o,i),c)}function sx(){}function pT(i,o){var c=wn();o=o===void 0?null:o;var m=c.memoizedState;return o!==null&&W0(o,m[1])?m[0]:(c.memoizedState=[i,o],i)}function gT(i,o){var c=wn();o=o===void 0?null:o;var m=c.memoizedState;if(o!==null&&W0(o,m[1]))return m[0];if(m=i(),Wl){Vr(!0);try{i()}finally{Vr(!1)}}return c.memoizedState=[m,o],m}function ox(i,o,c){return c===void 0||(ms&1073741824)!==0&&(lt&261930)===0?i.memoizedState=o:(i.memoizedState=c,i=y2(),nt.lanes|=i,Oo|=i,c)}function yT(i,o,c,m){return oa(c,o)?c:mu.current!==null?(i=ox(i,c,m),oa(i,o)||(In=!0),i):(ms&42)===0||(ms&1073741824)!==0&&(lt&261930)===0?(In=!0,i.memoizedState=c):(i=y2(),nt.lanes|=i,Oo|=i,o)}function vT(i,o,c,m,v){var b=Y.p;Y.p=b!==0&&8>b?b:8;var T=Z.T,L={};Z.T=L,ux(i,!1,o,c);try{var G=v(),se=Z.S;if(se!==null&&se(L,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var pe=x9(G,m);hf(i,o,pe,ha(i))}else hf(i,o,m,ha(i))}catch(ve){hf(i,o,{then:function(){},status:"rejected",reason:ve},ha())}finally{Y.p=b,T!==null&&L.types!==null&&(T.types=L.types),Z.T=T}}function N9(){}function lx(i,o,c,m){if(i.tag!==5)throw Error(r(476));var v=xT(i).queue;vT(i,v,o,J,c===null?N9:function(){return bT(i),c(m)})}function xT(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:J},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:c},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function bT(i){var o=xT(i);o.next===null&&(o=i.alternate.memoizedState),hf(i,o.next.queue,{},ha())}function cx(){return fr(kf)}function wT(){return wn().memoizedState}function _T(){return wn().memoizedState}function A9(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var c=ha();i=No(c);var m=Ao(o,i,c);m!==null&&(Hr(m,o,c),lf(m,o,c)),o={cache:V0()},i.payload=o;return}o=o.return}}function T9(i,o,c){var m=ha();c={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},pp(i)?ST(o,c):(c=T0(i,o,c,m),c!==null&&(Hr(c,i,m),NT(c,o,m)))}function ET(i,o,c){var m=ha();hf(i,o,c,m)}function hf(i,o,c,m){var v={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(pp(i))ST(o,v);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var T=o.lastRenderedState,L=b(T,c);if(v.hasEagerState=!0,v.eagerState=L,oa(L,T))return Wm(i,o,v,0),$t===null&&Ym(),!1}catch{}if(c=T0(i,o,v,m),c!==null)return Hr(c,i,m),NT(c,o,m),!0}return!1}function ux(i,o,c,m){if(m={lane:2,revertLane:Bx(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},pp(i)){if(o)throw Error(r(479))}else o=T0(i,c,m,2),o!==null&&Hr(o,i,2)}function pp(i){var o=i.alternate;return i===nt||o!==null&&o===nt}function ST(i,o){pu=lp=!0;var c=i.pending;c===null?o.next=o:(o.next=c.next,c.next=o),i.pending=o}function NT(i,o,c){if((c&4194048)!==0){var m=o.lanes;m&=i.pendingLanes,c|=m,o.lanes=c,Tl(i,c)}}var mf={readContext:fr,use:dp,useCallback:mn,useContext:mn,useEffect:mn,useImperativeHandle:mn,useLayoutEffect:mn,useInsertionEffect:mn,useMemo:mn,useReducer:mn,useRef:mn,useState:mn,useDebugValue:mn,useDeferredValue:mn,useTransition:mn,useSyncExternalStore:mn,useId:mn,useHostTransitionStatus:mn,useFormState:mn,useActionState:mn,useOptimistic:mn,useMemoCache:mn,useCacheRefresh:mn};mf.useEffectEvent=mn;var AT={readContext:fr,use:dp,useCallback:function(i,o){return Cr().memoizedState=[i,o===void 0?null:o],i},useContext:fr,useEffect:cT,useImperativeHandle:function(i,o,c){c=c!=null?c.concat([i]):null,hp(4194308,4,hT.bind(null,o,i),c)},useLayoutEffect:function(i,o){return hp(4194308,4,i,o)},useInsertionEffect:function(i,o){hp(4,2,i,o)},useMemo:function(i,o){var c=Cr();o=o===void 0?null:o;var m=i();if(Wl){Vr(!0);try{i()}finally{Vr(!1)}}return c.memoizedState=[m,o],m},useReducer:function(i,o,c){var m=Cr();if(c!==void 0){var v=c(o);if(Wl){Vr(!0);try{c(o)}finally{Vr(!1)}}}else v=o;return m.memoizedState=m.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},m.queue=i,i=i.dispatch=T9.bind(null,nt,i),[m.memoizedState,i]},useRef:function(i){var o=Cr();return i={current:i},o.memoizedState=i},useState:function(i){i=rx(i);var o=i.queue,c=ET.bind(null,nt,o);return o.dispatch=c,[i.memoizedState,c]},useDebugValue:sx,useDeferredValue:function(i,o){var c=Cr();return ox(c,i,o)},useTransition:function(){var i=rx(!1);return i=vT.bind(null,nt,i.queue,!0,!1),Cr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,c){var m=nt,v=Cr();if(ht){if(c===void 0)throw Error(r(407));c=c()}else{if(c=o(),$t===null)throw Error(r(349));(lt&127)!==0||GA(m,o,c)}v.memoizedState=c;var b={value:c,getSnapshot:o};return v.queue=b,cT(WA.bind(null,m,b,i),[i]),m.flags|=2048,yu(9,{destroy:void 0},YA.bind(null,m,b,c,o),null),c},useId:function(){var i=Cr(),o=$t.identifierPrefix;if(ht){var c=Li,m=Mi;c=(m&~(1<<32-cn(m)-1)).toString(32)+c,o="_"+o+"R_"+c,c=cp++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=b9++,o="_"+o+"r_"+c.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:cx,useFormState:aT,useActionState:aT,useOptimistic:function(i){var o=Cr();o.memoizedState=o.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=ux.bind(null,nt,!0,c),c.dispatch=o,[i,o]},useMemoCache:ex,useCacheRefresh:function(){return Cr().memoizedState=A9.bind(null,nt)},useEffectEvent:function(i){var o=Cr(),c={impl:i};return o.memoizedState=c,function(){if((St&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},dx={readContext:fr,use:dp,useCallback:pT,useContext:fr,useEffect:ix,useImperativeHandle:mT,useInsertionEffect:dT,useLayoutEffect:fT,useMemo:gT,useReducer:fp,useRef:lT,useState:function(){return fp(ps)},useDebugValue:sx,useDeferredValue:function(i,o){var c=wn();return yT(c,It.memoizedState,i,o)},useTransition:function(){var i=fp(ps)[0],o=wn().memoizedState;return[typeof i=="boolean"?i:ff(i),o]},useSyncExternalStore:KA,useId:wT,useHostTransitionStatus:cx,useFormState:iT,useActionState:iT,useOptimistic:function(i,o){var c=wn();return ZA(c,It,i,o)},useMemoCache:ex,useCacheRefresh:_T};dx.useEffectEvent=uT;var TT={readContext:fr,use:dp,useCallback:pT,useContext:fr,useEffect:ix,useImperativeHandle:mT,useInsertionEffect:dT,useLayoutEffect:fT,useMemo:gT,useReducer:nx,useRef:lT,useState:function(){return nx(ps)},useDebugValue:sx,useDeferredValue:function(i,o){var c=wn();return It===null?ox(c,i,o):yT(c,It.memoizedState,i,o)},useTransition:function(){var i=nx(ps)[0],o=wn().memoizedState;return[typeof i=="boolean"?i:ff(i),o]},useSyncExternalStore:KA,useId:wT,useHostTransitionStatus:cx,useFormState:oT,useActionState:oT,useOptimistic:function(i,o){var c=wn();return It!==null?ZA(c,It,i,o):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:ex,useCacheRefresh:_T};TT.useEffectEvent=uT;function fx(i,o,c,m){o=i.memoizedState,c=c(m,o),c=c==null?o:g({},o,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var hx={enqueueSetState:function(i,o,c){i=i._reactInternals;var m=ha(),v=No(m);v.payload=o,c!=null&&(v.callback=c),o=Ao(i,v,m),o!==null&&(Hr(o,i,m),lf(o,i,m))},enqueueReplaceState:function(i,o,c){i=i._reactInternals;var m=ha(),v=No(m);v.tag=1,v.payload=o,c!=null&&(v.callback=c),o=Ao(i,v,m),o!==null&&(Hr(o,i,m),lf(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var c=ha(),m=No(c);m.tag=2,o!=null&&(m.callback=o),o=Ao(i,m,c),o!==null&&(Hr(o,i,c),lf(o,i,c))}};function jT(i,o,c,m,v,b,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,b,T):o.prototype&&o.prototype.isPureReactComponent?!Jd(c,m)||!Jd(v,b):!0}function CT(i,o,c,m){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,m),o.state!==i&&hx.enqueueReplaceState(o,o.state,null)}function Xl(i,o){var c=o;if("ref"in o){c={};for(var m in o)m!=="ref"&&(c[m]=o[m])}if(i=i.defaultProps){c===o&&(c=g({},c));for(var v in i)c[v]===void 0&&(c[v]=i[v])}return c}function kT(i){Gm(i)}function OT(i){console.error(i)}function PT(i){Gm(i)}function gp(i,o){try{var c=i.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function DT(i,o,c){try{var m=i.onCaughtError;m(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function mx(i,o,c){return c=No(c),c.tag=3,c.payload={element:null},c.callback=function(){gp(i,o)},c}function IT(i){return i=No(i),i.tag=3,i}function RT(i,o,c,m){var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var b=m.value;i.payload=function(){return v(b)},i.callback=function(){DT(o,c,m)}}var T=c.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){DT(o,c,m),typeof v!="function"&&(Po===null?Po=new Set([this]):Po.add(this));var L=m.stack;this.componentDidCatch(m.value,{componentStack:L!==null?L:""})})}function j9(i,o,c,m,v){if(c.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=c.alternate,o!==null&&cu(o,c,v,!0),c=ca.current,c!==null){switch(c.tag){case 31:case 13:return Ra===null?jp():c.alternate===null&&pn===0&&(pn=3),c.flags&=-257,c.flags|=65536,c.lanes=v,m===rp?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([m]):o.add(m),Ux(i,m,v)),!1;case 22:return c.flags|=65536,m===rp?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([m]):c.add(m)),Ux(i,m,v)),!1}throw Error(r(435,c.tag))}return Ux(i,m,v),jp(),!1}if(ht)return o=ca.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,m!==D0&&(i=Error(r(422),{cause:m}),nf(Oa(i,c)))):(m!==D0&&(o=Error(r(423),{cause:m}),nf(Oa(o,c))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,m=Oa(m,c),v=mx(i.stateNode,m,v),q0(i,v),pn!==4&&(pn=2)),!1;var b=Error(r(520),{cause:m});if(b=Oa(b,c),_f===null?_f=[b]:_f.push(b),pn!==4&&(pn=2),o===null)return!0;m=Oa(m,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,i=v&-v,c.lanes|=i,i=mx(c.stateNode,m,i),q0(c,i),!1;case 1:if(o=c.type,b=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Po===null||!Po.has(b))))return c.flags|=65536,v&=-v,c.lanes|=v,v=IT(v),RT(v,i,c,m),q0(c,v),!1}c=c.return}while(c!==null);return!1}var px=Error(r(461)),In=!1;function hr(i,o,c,m){o.child=i===null?UA(o,null,c,m):Yl(o,i.child,c,m)}function MT(i,o,c,m,v){c=c.render;var b=o.ref;if("ref"in m){var T={};for(var L in m)L!=="ref"&&(T[L]=m[L])}else T=m;return ql(o),m=X0(i,o,c,T,b,v),L=Q0(),i!==null&&!In?(Z0(i,o,v),gs(i,o,v)):(ht&&L&&O0(o),o.flags|=1,hr(i,o,m,v),o.child)}function LT(i,o,c,m,v){if(i===null){var b=c.type;return typeof b=="function"&&!j0(b)&&b.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=b,VT(i,o,b,m,v)):(i=Qm(c.type,null,m,o,o.mode,v),i.ref=o.ref,i.return=o,o.child=i)}if(b=i.child,!Ex(i,v)){var T=b.memoizedProps;if(c=c.compare,c=c!==null?c:Jd,c(T,m)&&i.ref===o.ref)return gs(i,o,v)}return o.flags|=1,i=us(b,m),i.ref=o.ref,i.return=o,o.child=i}function VT(i,o,c,m,v){if(i!==null){var b=i.memoizedProps;if(Jd(b,m)&&i.ref===o.ref)if(In=!1,o.pendingProps=m=b,Ex(i,v))(i.flags&131072)!==0&&(In=!0);else return o.lanes=i.lanes,gs(i,o,v)}return gx(i,o,c,m,v)}function UT(i,o,c,m){var v=m.children,b=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(b=b!==null?b.baseLanes|c:c,i!==null){for(m=o.child=i.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;m=v&~b}else m=0,o.child=null;return zT(i,o,b,c,m)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&tp(o,b!==null?b.cachePool:null),b!==null?BA(o,b):K0(),FA(o);else return m=o.lanes=536870912,zT(i,o,b!==null?b.baseLanes|c:c,c,m)}else b!==null?(tp(o,b.cachePool),BA(o,b),jo(),o.memoizedState=null):(i!==null&&tp(o,null),K0(),jo());return hr(i,o,v,c),o.child}function pf(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function zT(i,o,c,m,v){var b=z0();return b=b===null?null:{parent:Pn._currentValue,pool:b},o.memoizedState={baseLanes:c,cachePool:b},i!==null&&tp(o,null),K0(),FA(o),i!==null&&cu(i,o,m,!0),o.childLanes=v,null}function yp(i,o){return o=xp({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function $T(i,o,c){return Yl(o,i.child,null,c),i=yp(o,o.pendingProps),i.flags|=2,ua(o),o.memoizedState=null,i}function C9(i,o,c){var m=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(ht){if(m.mode==="hidden")return i=yp(o,m),o.lanes=536870912,pf(null,i);if(Y0(o),(i=Yt)?(i=J2(i,Ia),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:bo!==null?{id:Mi,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},c=SA(i),c.return=o,o.child=c,dr=o,Yt=null)):i=null,i===null)throw _o(o);return o.lanes=536870912,null}return yp(o,m)}var b=i.memoizedState;if(b!==null){var T=b.dehydrated;if(Y0(o),v)if(o.flags&256)o.flags&=-257,o=$T(i,o,c);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(r(558));else if(In||cu(i,o,c,!1),v=(c&i.childLanes)!==0,In||v){if(m=$t,m!==null&&(T=jl(m,c),T!==0&&T!==b.retryLane))throw b.retryLane=T,zl(i,T),Hr(m,i,T),px;jp(),o=$T(i,o,c)}else i=b.treeContext,Yt=Ma(T.nextSibling),dr=o,ht=!0,wo=null,Ia=!1,i!==null&&TA(o,i),o=yp(o,m),o.flags|=4096;return o}return i=us(i.child,{mode:m.mode,children:m.children}),i.ref=o.ref,o.child=i,i.return=o,i}function vp(i,o){var c=o.ref;if(c===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(i===null||i.ref!==c)&&(o.flags|=4194816)}}function gx(i,o,c,m,v){return ql(o),c=X0(i,o,c,m,void 0,v),m=Q0(),i!==null&&!In?(Z0(i,o,v),gs(i,o,v)):(ht&&m&&O0(o),o.flags|=1,hr(i,o,c,v),o.child)}function BT(i,o,c,m,v,b){return ql(o),o.updateQueue=null,c=HA(o,m,c,v),qA(i),m=Q0(),i!==null&&!In?(Z0(i,o,b),gs(i,o,b)):(ht&&m&&O0(o),o.flags|=1,hr(i,o,c,b),o.child)}function FT(i,o,c,m,v){if(ql(o),o.stateNode===null){var b=iu,T=c.contextType;typeof T=="object"&&T!==null&&(b=fr(T)),b=new c(m,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=hx,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=m,b.state=o.memoizedState,b.refs={},B0(o),T=c.contextType,b.context=typeof T=="object"&&T!==null?fr(T):iu,b.state=o.memoizedState,T=c.getDerivedStateFromProps,typeof T=="function"&&(fx(o,c,T,m),b.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(T=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),T!==b.state&&hx.enqueueReplaceState(b,b.state,null),uf(o,m,b,v),cf(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(i===null){b=o.stateNode;var L=o.memoizedProps,G=Xl(c,L);b.props=G;var se=b.context,pe=c.contextType;T=iu,typeof pe=="object"&&pe!==null&&(T=fr(pe));var ve=c.getDerivedStateFromProps;pe=typeof ve=="function"||typeof b.getSnapshotBeforeUpdate=="function",L=o.pendingProps!==L,pe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(L||se!==T)&&CT(o,b,m,T),So=!1;var ce=o.memoizedState;b.state=ce,uf(o,m,b,v),cf(),se=o.memoizedState,L||ce!==se||So?(typeof ve=="function"&&(fx(o,c,ve,m),se=o.memoizedState),(G=So||jT(o,c,G,m,ce,se,T))?(pe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=se),b.props=m,b.state=se,b.context=T,m=G):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{b=o.stateNode,F0(i,o),T=o.memoizedProps,pe=Xl(c,T),b.props=pe,ve=o.pendingProps,ce=b.context,se=c.contextType,G=iu,typeof se=="object"&&se!==null&&(G=fr(se)),L=c.getDerivedStateFromProps,(se=typeof L=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(T!==ve||ce!==G)&&CT(o,b,m,G),So=!1,ce=o.memoizedState,b.state=ce,uf(o,m,b,v),cf();var fe=o.memoizedState;T!==ve||ce!==fe||So||i!==null&&i.dependencies!==null&&Jm(i.dependencies)?(typeof L=="function"&&(fx(o,c,L,m),fe=o.memoizedState),(pe=So||jT(o,c,pe,m,ce,fe,G)||i!==null&&i.dependencies!==null&&Jm(i.dependencies))?(se||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(m,fe,G),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(m,fe,G)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||T===i.memoizedProps&&ce===i.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&ce===i.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=fe),b.props=m,b.state=fe,b.context=G,m=pe):(typeof b.componentDidUpdate!="function"||T===i.memoizedProps&&ce===i.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&ce===i.memoizedState||(o.flags|=1024),m=!1)}return b=m,vp(i,o),m=(o.flags&128)!==0,b||m?(b=o.stateNode,c=m&&typeof c.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,i!==null&&m?(o.child=Yl(o,i.child,null,v),o.child=Yl(o,null,c,v)):hr(i,o,c,v),o.memoizedState=b.state,i=o.child):i=gs(i,o,v),i}function qT(i,o,c,m){return Bl(),o.flags|=256,hr(i,o,c,m),o.child}var yx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vx(i){return{baseLanes:i,cachePool:DA()}}function xx(i,o,c){return i=i!==null?i.childLanes&~c:0,o&&(i|=fa),i}function HT(i,o,c){var m=o.pendingProps,v=!1,b=(o.flags&128)!==0,T;if((T=b)||(T=i!==null&&i.memoizedState===null?!1:(bn.current&2)!==0),T&&(v=!0,o.flags&=-129),T=(o.flags&32)!==0,o.flags&=-33,i===null){if(ht){if(v?To(o):jo(),(i=Yt)?(i=J2(i,Ia),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:bo!==null?{id:Mi,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},c=SA(i),c.return=o,o.child=c,dr=o,Yt=null)):i=null,i===null)throw _o(o);return tb(i)?o.lanes=32:o.lanes=536870912,null}var L=m.children;return m=m.fallback,v?(jo(),v=o.mode,L=xp({mode:"hidden",children:L},v),m=$l(m,v,c,null),L.return=o,m.return=o,L.sibling=m,o.child=L,m=o.child,m.memoizedState=vx(c),m.childLanes=xx(i,T,c),o.memoizedState=yx,pf(null,m)):(To(o),bx(o,L))}var G=i.memoizedState;if(G!==null&&(L=G.dehydrated,L!==null)){if(b)o.flags&256?(To(o),o.flags&=-257,o=wx(i,o,c)):o.memoizedState!==null?(jo(),o.child=i.child,o.flags|=128,o=null):(jo(),L=m.fallback,v=o.mode,m=xp({mode:"visible",children:m.children},v),L=$l(L,v,c,null),L.flags|=2,m.return=o,L.return=o,m.sibling=L,o.child=m,Yl(o,i.child,null,c),m=o.child,m.memoizedState=vx(c),m.childLanes=xx(i,T,c),o.memoizedState=yx,o=pf(null,m));else if(To(o),tb(L)){if(T=L.nextSibling&&L.nextSibling.dataset,T)var se=T.dgst;T=se,m=Error(r(419)),m.stack="",m.digest=T,nf({value:m,source:null,stack:null}),o=wx(i,o,c)}else if(In||cu(i,o,c,!1),T=(c&i.childLanes)!==0,In||T){if(T=$t,T!==null&&(m=jl(T,c),m!==0&&m!==G.retryLane))throw G.retryLane=m,zl(i,m),Hr(T,i,m),px;eb(L)||jp(),o=wx(i,o,c)}else eb(L)?(o.flags|=192,o.child=i.child,o=null):(i=G.treeContext,Yt=Ma(L.nextSibling),dr=o,ht=!0,wo=null,Ia=!1,i!==null&&TA(o,i),o=bx(o,m.children),o.flags|=4096);return o}return v?(jo(),L=m.fallback,v=o.mode,G=i.child,se=G.sibling,m=us(G,{mode:"hidden",children:m.children}),m.subtreeFlags=G.subtreeFlags&65011712,se!==null?L=us(se,L):(L=$l(L,v,c,null),L.flags|=2),L.return=o,m.return=o,m.sibling=L,o.child=m,pf(null,m),m=o.child,L=i.child.memoizedState,L===null?L=vx(c):(v=L.cachePool,v!==null?(G=Pn._currentValue,v=v.parent!==G?{parent:G,pool:G}:v):v=DA(),L={baseLanes:L.baseLanes|c,cachePool:v}),m.memoizedState=L,m.childLanes=xx(i,T,c),o.memoizedState=yx,pf(i.child,m)):(To(o),c=i.child,i=c.sibling,c=us(c,{mode:"visible",children:m.children}),c.return=o,c.sibling=null,i!==null&&(T=o.deletions,T===null?(o.deletions=[i],o.flags|=16):T.push(i)),o.child=c,o.memoizedState=null,c)}function bx(i,o){return o=xp({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function xp(i,o){return i=la(22,i,null,o),i.lanes=0,i}function wx(i,o,c){return Yl(o,i.child,null,c),i=bx(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function KT(i,o,c){i.lanes|=o;var m=i.alternate;m!==null&&(m.lanes|=o),M0(i.return,o,c)}function _x(i,o,c,m,v,b){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:v,treeForkCount:b}:(T.isBackwards=o,T.rendering=null,T.renderingStartTime=0,T.last=m,T.tail=c,T.tailMode=v,T.treeForkCount=b)}function GT(i,o,c){var m=o.pendingProps,v=m.revealOrder,b=m.tail;m=m.children;var T=bn.current,L=(T&2)!==0;if(L?(T=T&1|2,o.flags|=128):T&=1,K(bn,T),hr(i,o,m,c),m=ht?tf:0,!L&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&KT(i,c,o);else if(i.tag===19)KT(i,c,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(v){case"forwards":for(c=o.child,v=null;c!==null;)i=c.alternate,i!==null&&op(i)===null&&(v=c),c=c.sibling;c=v,c===null?(v=o.child,o.child=null):(v=c.sibling,c.sibling=null),_x(o,!1,v,c,b,m);break;case"backwards":case"unstable_legacy-backwards":for(c=null,v=o.child,o.child=null;v!==null;){if(i=v.alternate,i!==null&&op(i)===null){o.child=v;break}i=v.sibling,v.sibling=c,c=v,v=i}_x(o,!0,c,null,b,m);break;case"together":_x(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function gs(i,o,c){if(i!==null&&(o.dependencies=i.dependencies),Oo|=o.lanes,(c&o.childLanes)===0)if(i!==null){if(cu(i,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,c=us(i,i.pendingProps),o.child=c,c.return=o;i.sibling!==null;)i=i.sibling,c=c.sibling=us(i,i.pendingProps),c.return=o;c.sibling=null}return o.child}function Ex(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Jm(i)))}function k9(i,o,c){switch(o.tag){case 3:Pe(o,o.stateNode.containerInfo),Eo(o,Pn,i.memoizedState.cache),Bl();break;case 27:case 5:je(o);break;case 4:Pe(o,o.stateNode.containerInfo);break;case 10:Eo(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Y0(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(To(o),o.flags|=128,null):(c&o.child.childLanes)!==0?HT(i,o,c):(To(o),i=gs(i,o,c),i!==null?i.sibling:null);To(o);break;case 19:var v=(i.flags&128)!==0;if(m=(c&o.childLanes)!==0,m||(cu(i,o,c,!1),m=(c&o.childLanes)!==0),v){if(m)return GT(i,o,c);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),K(bn,bn.current),m)break;return null;case 22:return o.lanes=0,UT(i,o,c,o.pendingProps);case 24:Eo(o,Pn,i.memoizedState.cache)}return gs(i,o,c)}function YT(i,o,c){if(i!==null)if(i.memoizedProps!==o.pendingProps)In=!0;else{if(!Ex(i,c)&&(o.flags&128)===0)return In=!1,k9(i,o,c);In=(i.flags&131072)!==0}else In=!1,ht&&(o.flags&1048576)!==0&&AA(o,tf,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(i=Kl(o.elementType),o.type=i,typeof i=="function")j0(i)?(m=Xl(i,m),o.tag=1,o=FT(null,o,i,m,c)):(o.tag=0,o=gx(null,o,i,m,c));else{if(i!=null){var v=i.$$typeof;if(v===H){o.tag=11,o=MT(null,o,i,m,c);break e}else if(v===k){o.tag=14,o=LT(null,o,i,m,c);break e}}throw o=we(i)||i,Error(r(306,o,""))}}return o;case 0:return gx(i,o,o.type,o.pendingProps,c);case 1:return m=o.type,v=Xl(m,o.pendingProps),FT(i,o,m,v,c);case 3:e:{if(Pe(o,o.stateNode.containerInfo),i===null)throw Error(r(387));m=o.pendingProps;var b=o.memoizedState;v=b.element,F0(i,o),uf(o,m,null,c);var T=o.memoizedState;if(m=T.cache,Eo(o,Pn,m),m!==b.cache&&L0(o,[Pn],c,!0),cf(),m=T.element,b.isDehydrated)if(b={element:m,isDehydrated:!1,cache:T.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=qT(i,o,m,c);break e}else if(m!==v){v=Oa(Error(r(424)),o),nf(v),o=qT(i,o,m,c);break e}else for(i=o.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,Yt=Ma(i.firstChild),dr=o,ht=!0,wo=null,Ia=!0,c=UA(o,null,m,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Bl(),m===v){o=gs(i,o,c);break e}hr(i,o,m,c)}o=o.child}return o;case 26:return vp(i,o),i===null?(c=ij(o.type,null,o.pendingProps,null))?o.memoizedState=c:ht||(c=o.type,i=o.pendingProps,m=Rp(Ee.current).createElement(c),m[hn]=o,m[jn]=i,mr(m,c,i),kn(m),o.stateNode=m):o.memoizedState=ij(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return je(o),i===null&&ht&&(m=o.stateNode=nj(o.type,o.pendingProps,Ee.current),dr=o,Ia=!0,v=Yt,Mo(o.type)?(nb=v,Yt=Ma(m.firstChild)):Yt=v),hr(i,o,o.pendingProps.children,c),vp(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&ht&&((v=m=Yt)&&(m=sz(m,o.type,o.pendingProps,Ia),m!==null?(o.stateNode=m,dr=o,Yt=Ma(m.firstChild),Ia=!1,v=!0):v=!1),v||_o(o)),je(o),v=o.type,b=o.pendingProps,T=i!==null?i.memoizedProps:null,m=b.children,Qx(v,b)?m=null:T!==null&&Qx(v,T)&&(o.flags|=32),o.memoizedState!==null&&(v=X0(i,o,w9,null,null,c),kf._currentValue=v),vp(i,o),hr(i,o,m,c),o.child;case 6:return i===null&&ht&&((i=c=Yt)&&(c=oz(c,o.pendingProps,Ia),c!==null?(o.stateNode=c,dr=o,Yt=null,i=!0):i=!1),i||_o(o)),null;case 13:return HT(i,o,c);case 4:return Pe(o,o.stateNode.containerInfo),m=o.pendingProps,i===null?o.child=Yl(o,null,m,c):hr(i,o,m,c),o.child;case 11:return MT(i,o,o.type,o.pendingProps,c);case 7:return hr(i,o,o.pendingProps,c),o.child;case 8:return hr(i,o,o.pendingProps.children,c),o.child;case 12:return hr(i,o,o.pendingProps.children,c),o.child;case 10:return m=o.pendingProps,Eo(o,o.type,m.value),hr(i,o,m.children,c),o.child;case 9:return v=o.type._context,m=o.pendingProps.children,ql(o),v=fr(v),m=m(v),o.flags|=1,hr(i,o,m,c),o.child;case 14:return LT(i,o,o.type,o.pendingProps,c);case 15:return VT(i,o,o.type,o.pendingProps,c);case 19:return GT(i,o,c);case 31:return C9(i,o,c);case 22:return UT(i,o,c,o.pendingProps);case 24:return ql(o),m=fr(Pn),i===null?(v=z0(),v===null&&(v=$t,b=V0(),v.pooledCache=b,b.refCount++,b!==null&&(v.pooledCacheLanes|=c),v=b),o.memoizedState={parent:m,cache:v},B0(o),Eo(o,Pn,v)):((i.lanes&c)!==0&&(F0(i,o),uf(o,null,null,c),cf()),v=i.memoizedState,b=o.memoizedState,v.parent!==m?(v={parent:m,cache:m},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),Eo(o,Pn,m)):(m=b.cache,Eo(o,Pn,m),m!==v.cache&&L0(o,[Pn],c,!0))),hr(i,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function ys(i){i.flags|=4}function Sx(i,o,c,m,v){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(v&335544128)===v)if(i.stateNode.complete)i.flags|=8192;else if(w2())i.flags|=8192;else throw Gl=rp,$0}else i.flags&=-16777217}function WT(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!uj(o))if(w2())i.flags|=8192;else throw Gl=rp,$0}function bp(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?Si():536870912,i.lanes|=o,wu|=o)}function gf(i,o){if(!ht)switch(i.tailMode){case"hidden":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Wt(i){var o=i.alternate!==null&&i.alternate.child===i.child,c=0,m=0;if(o)for(var v=i.child;v!==null;)c|=v.lanes|v.childLanes,m|=v.subtreeFlags&65011712,m|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)c|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=m,i.childLanes=c,o}function O9(i,o,c){var m=o.pendingProps;switch(P0(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(o),null;case 1:return Wt(o),null;case 3:return c=o.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),hs(Pn),le(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(lu(o)?ys(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,I0())),Wt(o),null;case 26:var v=o.type,b=o.memoizedState;return i===null?(ys(o),b!==null?(Wt(o),WT(o,b)):(Wt(o),Sx(o,v,null,m,c))):b?b!==i.memoizedState?(ys(o),Wt(o),WT(o,b)):(Wt(o),o.flags&=-16777217):(i=i.memoizedProps,i!==m&&ys(o),Wt(o),Sx(o,v,i,m,c)),null;case 27:if(Le(o),c=Ee.current,v=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&ys(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Wt(o),null}i=re.current,lu(o)?jA(o):(i=nj(v,m,c),o.stateNode=i,ys(o))}return Wt(o),null;case 5:if(Le(o),v=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&ys(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Wt(o),null}if(b=re.current,lu(o))jA(o);else{var T=Rp(Ee.current);switch(b){case 1:b=T.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:b=T.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":b=T.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":b=T.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":b=T.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof m.is=="string"?T.createElement("select",{is:m.is}):T.createElement("select"),m.multiple?b.multiple=!0:m.size&&(b.size=m.size);break;default:b=typeof m.is=="string"?T.createElement(v,{is:m.is}):T.createElement(v)}}b[hn]=o,b[jn]=m;e:for(T=o.child;T!==null;){if(T.tag===5||T.tag===6)b.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===o)break e;for(;T.sibling===null;){if(T.return===null||T.return===o)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}o.stateNode=b;e:switch(mr(b,v,m),v){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&ys(o)}}return Wt(o),Sx(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,c),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==m&&ys(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(r(166));if(i=Ee.current,lu(o)){if(i=o.stateNode,c=o.memoizedProps,m=null,v=dr,v!==null)switch(v.tag){case 27:case 5:m=v.memoizedProps}i[hn]=o,i=!!(i.nodeValue===c||m!==null&&m.suppressHydrationWarning===!0||H2(i.nodeValue,c)),i||_o(o,!0)}else i=Rp(i).createTextNode(m),i[hn]=o,o.stateNode=i}return Wt(o),null;case 31:if(c=o.memoizedState,i===null||i.memoizedState!==null){if(m=lu(o),c!==null){if(i===null){if(!m)throw Error(r(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[hn]=o}else Bl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Wt(o),i=!1}else c=I0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=c),i=!0;if(!i)return o.flags&256?(ua(o),o):(ua(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Wt(o),null;case 13:if(m=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=lu(o),m!==null&&m.dehydrated!==null){if(i===null){if(!v)throw Error(r(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[hn]=o}else Bl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Wt(o),v=!1}else v=I0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(ua(o),o):(ua(o),null)}return ua(o),(o.flags&128)!==0?(o.lanes=c,o):(c=m!==null,i=i!==null&&i.memoizedState!==null,c&&(m=o.child,v=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(v=m.alternate.memoizedState.cachePool.pool),b=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(b=m.memoizedState.cachePool.pool),b!==v&&(m.flags|=2048)),c!==i&&c&&(o.child.flags|=8192),bp(o,o.updateQueue),Wt(o),null);case 4:return le(),i===null&&Kx(o.stateNode.containerInfo),Wt(o),null;case 10:return hs(o.type),Wt(o),null;case 19:if(z(bn),m=o.memoizedState,m===null)return Wt(o),null;if(v=(o.flags&128)!==0,b=m.rendering,b===null)if(v)gf(m,!1);else{if(pn!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(b=op(i),b!==null){for(o.flags|=128,gf(m,!1),i=b.updateQueue,o.updateQueue=i,bp(o,i),o.subtreeFlags=0,i=c,c=o.child;c!==null;)EA(c,i),c=c.sibling;return K(bn,bn.current&1|2),ht&&ds(o,m.treeForkCount),o.child}i=i.sibling}m.tail!==null&&Fe()>Np&&(o.flags|=128,v=!0,gf(m,!1),o.lanes=4194304)}else{if(!v)if(i=op(b),i!==null){if(o.flags|=128,v=!0,i=i.updateQueue,o.updateQueue=i,bp(o,i),gf(m,!0),m.tail===null&&m.tailMode==="hidden"&&!b.alternate&&!ht)return Wt(o),null}else 2*Fe()-m.renderingStartTime>Np&&c!==536870912&&(o.flags|=128,v=!0,gf(m,!1),o.lanes=4194304);m.isBackwards?(b.sibling=o.child,o.child=b):(i=m.last,i!==null?i.sibling=b:o.child=b,m.last=b)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=Fe(),i.sibling=null,c=bn.current,K(bn,v?c&1|2:c&1),ht&&ds(o,m.treeForkCount),i):(Wt(o),null);case 22:case 23:return ua(o),G0(),m=o.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(c&536870912)!==0&&(o.flags&128)===0&&(Wt(o),o.subtreeFlags&6&&(o.flags|=8192)):Wt(o),c=o.updateQueue,c!==null&&bp(o,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==c&&(o.flags|=2048),i!==null&&z(Hl),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),hs(Pn),Wt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function P9(i,o){switch(P0(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return hs(Pn),le(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return Le(o),null;case 31:if(o.memoizedState!==null){if(ua(o),o.alternate===null)throw Error(r(340));Bl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(ua(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Bl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return z(bn),null;case 4:return le(),null;case 10:return hs(o.type),null;case 22:case 23:return ua(o),G0(),i!==null&&z(Hl),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return hs(Pn),null;case 25:return null;default:return null}}function XT(i,o){switch(P0(o),o.tag){case 3:hs(Pn),le();break;case 26:case 27:case 5:Le(o);break;case 4:le();break;case 31:o.memoizedState!==null&&ua(o);break;case 13:ua(o);break;case 19:z(bn);break;case 10:hs(o.type);break;case 22:case 23:ua(o),G0(),i!==null&&z(Hl);break;case 24:hs(Pn)}}function yf(i,o){try{var c=o.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var v=m.next;c=v;do{if((c.tag&i)===i){m=void 0;var b=c.create,T=c.inst;m=b(),T.destroy=m}c=c.next}while(c!==v)}}catch(L){Ct(o,o.return,L)}}function Co(i,o,c){try{var m=o.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var b=v.next;m=b;do{if((m.tag&i)===i){var T=m.inst,L=T.destroy;if(L!==void 0){T.destroy=void 0,v=o;var G=c,se=L;try{se()}catch(pe){Ct(v,G,pe)}}}m=m.next}while(m!==b)}}catch(pe){Ct(o,o.return,pe)}}function QT(i){var o=i.updateQueue;if(o!==null){var c=i.stateNode;try{$A(o,c)}catch(m){Ct(i,i.return,m)}}}function ZT(i,o,c){c.props=Xl(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(m){Ct(i,o,m)}}function vf(i,o){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var m=i.stateNode;break;case 30:m=i.stateNode;break;default:m=i.stateNode}typeof c=="function"?i.refCleanup=c(m):c.current=m}}catch(v){Ct(i,o,v)}}function Vi(i,o){var c=i.ref,m=i.refCleanup;if(c!==null)if(typeof m=="function")try{m()}catch(v){Ct(i,o,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(v){Ct(i,o,v)}else c.current=null}function JT(i){var o=i.type,c=i.memoizedProps,m=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&m.focus();break e;case"img":c.src?m.src=c.src:c.srcSet&&(m.srcset=c.srcSet)}}catch(v){Ct(i,i.return,v)}}function Nx(i,o,c){try{var m=i.stateNode;ez(m,i.type,c,o),m[jn]=o}catch(v){Ct(i,i.return,v)}}function e2(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Mo(i.type)||i.tag===4}function Ax(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||e2(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Mo(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Tx(i,o,c){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(i),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=ti));else if(m!==4&&(m===27&&Mo(i.type)&&(c=i.stateNode,o=null),i=i.child,i!==null))for(Tx(i,o,c),i=i.sibling;i!==null;)Tx(i,o,c),i=i.sibling}function wp(i,o,c){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?c.insertBefore(i,o):c.appendChild(i);else if(m!==4&&(m===27&&Mo(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(wp(i,o,c),i=i.sibling;i!==null;)wp(i,o,c),i=i.sibling}function t2(i){var o=i.stateNode,c=i.memoizedProps;try{for(var m=i.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);mr(o,m,c),o[hn]=i,o[jn]=c}catch(b){Ct(i,i.return,b)}}var vs=!1,Rn=!1,jx=!1,n2=typeof WeakSet=="function"?WeakSet:Set,nr=null;function D9(i,o){if(i=i.containerInfo,Wx=Bp,i=mA(i),w0(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var v=m.anchorOffset,b=m.focusNode;m=m.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break e}var T=0,L=-1,G=-1,se=0,pe=0,ve=i,ce=null;t:for(;;){for(var fe;ve!==c||v!==0&&ve.nodeType!==3||(L=T+v),ve!==b||m!==0&&ve.nodeType!==3||(G=T+m),ve.nodeType===3&&(T+=ve.nodeValue.length),(fe=ve.firstChild)!==null;)ce=ve,ve=fe;for(;;){if(ve===i)break t;if(ce===c&&++se===v&&(L=T),ce===b&&++pe===m&&(G=T),(fe=ve.nextSibling)!==null)break;ve=ce,ce=ve.parentNode}ve=fe}c=L===-1||G===-1?null:{start:L,end:G}}else c=null}c=c||{start:0,end:0}}else c=null;for(Xx={focusedElem:i,selectionRange:c},Bp=!1,nr=o;nr!==null;)if(o=nr,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,nr=i;else for(;nr!==null;){switch(o=nr,b=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(c=0;c<i.length;c++)v=i[c],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,c=o,v=b.memoizedProps,b=b.memoizedState,m=c.stateNode;try{var Re=Xl(c.type,v);i=m.getSnapshotBeforeUpdate(Re,b),m.__reactInternalSnapshotBeforeUpdate=i}catch(Ge){Ct(c,c.return,Ge)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,c=i.nodeType,c===9)Jx(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Jx(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,nr=i;break}nr=o.return}}function r2(i,o,c){var m=c.flags;switch(c.tag){case 0:case 11:case 15:bs(i,c),m&4&&yf(5,c);break;case 1:if(bs(i,c),m&4)if(i=c.stateNode,o===null)try{i.componentDidMount()}catch(T){Ct(c,c.return,T)}else{var v=Xl(c.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(v,o,i.__reactInternalSnapshotBeforeUpdate)}catch(T){Ct(c,c.return,T)}}m&64&&QT(c),m&512&&vf(c,c.return);break;case 3:if(bs(i,c),m&64&&(i=c.updateQueue,i!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{$A(i,o)}catch(T){Ct(c,c.return,T)}}break;case 27:o===null&&m&4&&t2(c);case 26:case 5:bs(i,c),o===null&&m&4&&JT(c),m&512&&vf(c,c.return);break;case 12:bs(i,c);break;case 31:bs(i,c),m&4&&s2(i,c);break;case 13:bs(i,c),m&4&&o2(i,c),m&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=B9.bind(null,c),lz(i,c))));break;case 22:if(m=c.memoizedState!==null||vs,!m){o=o!==null&&o.memoizedState!==null||Rn,v=vs;var b=Rn;vs=m,(Rn=o)&&!b?ws(i,c,(c.subtreeFlags&8772)!==0):bs(i,c),vs=v,Rn=b}break;case 30:break;default:bs(i,c)}}function a2(i){var o=i.alternate;o!==null&&(i.alternate=null,a2(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Cn(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var en=null,$r=!1;function xs(i,o,c){for(c=c.child;c!==null;)i2(i,o,c),c=c.sibling}function i2(i,o,c){if(Bn&&typeof Bn.onCommitFiberUnmount=="function")try{Bn.onCommitFiberUnmount(na,c)}catch{}switch(c.tag){case 26:Rn||Vi(c,o),xs(i,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Rn||Vi(c,o);var m=en,v=$r;Mo(c.type)&&(en=c.stateNode,$r=!1),xs(i,o,c),Tf(c.stateNode),en=m,$r=v;break;case 5:Rn||Vi(c,o);case 6:if(m=en,v=$r,en=null,xs(i,o,c),en=m,$r=v,en!==null)if($r)try{(en.nodeType===9?en.body:en.nodeName==="HTML"?en.ownerDocument.body:en).removeChild(c.stateNode)}catch(b){Ct(c,o,b)}else try{en.removeChild(c.stateNode)}catch(b){Ct(c,o,b)}break;case 18:en!==null&&($r?(i=en,Q2(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),Cu(i)):Q2(en,c.stateNode));break;case 4:m=en,v=$r,en=c.stateNode.containerInfo,$r=!0,xs(i,o,c),en=m,$r=v;break;case 0:case 11:case 14:case 15:Co(2,c,o),Rn||Co(4,c,o),xs(i,o,c);break;case 1:Rn||(Vi(c,o),m=c.stateNode,typeof m.componentWillUnmount=="function"&&ZT(c,o,m)),xs(i,o,c);break;case 21:xs(i,o,c);break;case 22:Rn=(m=Rn)||c.memoizedState!==null,xs(i,o,c),Rn=m;break;default:xs(i,o,c)}}function s2(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Cu(i)}catch(c){Ct(o,o.return,c)}}}function o2(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Cu(i)}catch(c){Ct(o,o.return,c)}}function I9(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new n2),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new n2),o;default:throw Error(r(435,i.tag))}}function _p(i,o){var c=I9(i);o.forEach(function(m){if(!c.has(m)){c.add(m);var v=F9.bind(null,i,m);m.then(v,v)}})}function Br(i,o){var c=o.deletions;if(c!==null)for(var m=0;m<c.length;m++){var v=c[m],b=i,T=o,L=T;e:for(;L!==null;){switch(L.tag){case 27:if(Mo(L.type)){en=L.stateNode,$r=!1;break e}break;case 5:en=L.stateNode,$r=!1;break e;case 3:case 4:en=L.stateNode.containerInfo,$r=!0;break e}L=L.return}if(en===null)throw Error(r(160));i2(b,T,v),en=null,$r=!1,b=v.alternate,b!==null&&(b.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)l2(o,i),o=o.sibling}var oi=null;function l2(i,o){var c=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Br(o,i),Fr(i),m&4&&(Co(3,i,i.return),yf(3,i),Co(5,i,i.return));break;case 1:Br(o,i),Fr(i),m&512&&(Rn||c===null||Vi(c,c.return)),m&64&&vs&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?m:c.concat(m))));break;case 26:var v=oi;if(Br(o,i),Fr(i),m&512&&(Rn||c===null||Vi(c,c.return)),m&4){var b=c!==null?c.memoizedState:null;if(m=i.memoizedState,c===null)if(m===null)if(i.stateNode===null){e:{m=i.type,c=i.memoizedProps,v=v.ownerDocument||v;t:switch(m){case"title":b=v.getElementsByTagName("title")[0],(!b||b[He]||b[hn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=v.createElement(m),v.head.insertBefore(b,v.querySelector("head > title"))),mr(b,m,c),b[hn]=i,kn(b),m=b;break e;case"link":var T=lj("link","href",v).get(m+(c.href||""));if(T){for(var L=0;L<T.length;L++)if(b=T[L],b.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&b.getAttribute("rel")===(c.rel==null?null:c.rel)&&b.getAttribute("title")===(c.title==null?null:c.title)&&b.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){T.splice(L,1);break t}}b=v.createElement(m),mr(b,m,c),v.head.appendChild(b);break;case"meta":if(T=lj("meta","content",v).get(m+(c.content||""))){for(L=0;L<T.length;L++)if(b=T[L],b.getAttribute("content")===(c.content==null?null:""+c.content)&&b.getAttribute("name")===(c.name==null?null:c.name)&&b.getAttribute("property")===(c.property==null?null:c.property)&&b.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&b.getAttribute("charset")===(c.charSet==null?null:c.charSet)){T.splice(L,1);break t}}b=v.createElement(m),mr(b,m,c),v.head.appendChild(b);break;default:throw Error(r(468,m))}b[hn]=i,kn(b),m=b}i.stateNode=m}else cj(v,i.type,i.stateNode);else i.stateNode=oj(v,m,i.memoizedProps);else b!==m?(b===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):b.count--,m===null?cj(v,i.type,i.stateNode):oj(v,m,i.memoizedProps)):m===null&&i.stateNode!==null&&Nx(i,i.memoizedProps,c.memoizedProps)}break;case 27:Br(o,i),Fr(i),m&512&&(Rn||c===null||Vi(c,c.return)),c!==null&&m&4&&Nx(i,i.memoizedProps,c.memoizedProps);break;case 5:if(Br(o,i),Fr(i),m&512&&(Rn||c===null||Vi(c,c.return)),i.flags&32){v=i.stateNode;try{zr(v,"")}catch(Re){Ct(i,i.return,Re)}}m&4&&i.stateNode!=null&&(v=i.memoizedProps,Nx(i,v,c!==null?c.memoizedProps:v)),m&1024&&(jx=!0);break;case 6:if(Br(o,i),Fr(i),m&4){if(i.stateNode===null)throw Error(r(162));m=i.memoizedProps,c=i.stateNode;try{c.nodeValue=m}catch(Re){Ct(i,i.return,Re)}}break;case 3:if(Vp=null,v=oi,oi=Mp(o.containerInfo),Br(o,i),oi=v,Fr(i),m&4&&c!==null&&c.memoizedState.isDehydrated)try{Cu(o.containerInfo)}catch(Re){Ct(i,i.return,Re)}jx&&(jx=!1,c2(i));break;case 4:m=oi,oi=Mp(i.stateNode.containerInfo),Br(o,i),Fr(i),oi=m;break;case 12:Br(o,i),Fr(i);break;case 31:Br(o,i),Fr(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,_p(i,m)));break;case 13:Br(o,i),Fr(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Sp=Fe()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,_p(i,m)));break;case 22:v=i.memoizedState!==null;var G=c!==null&&c.memoizedState!==null,se=vs,pe=Rn;if(vs=se||v,Rn=pe||G,Br(o,i),Rn=pe,vs=se,Fr(i),m&8192)e:for(o=i.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(c===null||G||vs||Rn||Ql(i)),c=null,o=i;;){if(o.tag===5||o.tag===26){if(c===null){G=c=o;try{if(b=G.stateNode,v)T=b.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{L=G.stateNode;var ve=G.memoizedProps.style,ce=ve!=null&&ve.hasOwnProperty("display")?ve.display:null;L.style.display=ce==null||typeof ce=="boolean"?"":(""+ce).trim()}}catch(Re){Ct(G,G.return,Re)}}}else if(o.tag===6){if(c===null){G=o;try{G.stateNode.nodeValue=v?"":G.memoizedProps}catch(Re){Ct(G,G.return,Re)}}}else if(o.tag===18){if(c===null){G=o;try{var fe=G.stateNode;v?Z2(fe,!0):Z2(G.stateNode,!1)}catch(Re){Ct(G,G.return,Re)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=i.updateQueue,m!==null&&(c=m.retryQueue,c!==null&&(m.retryQueue=null,_p(i,c))));break;case 19:Br(o,i),Fr(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,_p(i,m)));break;case 30:break;case 21:break;default:Br(o,i),Fr(i)}}function Fr(i){var o=i.flags;if(o&2){try{for(var c,m=i.return;m!==null;){if(e2(m)){c=m;break}m=m.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var v=c.stateNode,b=Ax(i);wp(i,b,v);break;case 5:var T=c.stateNode;c.flags&32&&(zr(T,""),c.flags&=-33);var L=Ax(i);wp(i,L,T);break;case 3:case 4:var G=c.stateNode.containerInfo,se=Ax(i);Tx(i,se,G);break;default:throw Error(r(161))}}catch(pe){Ct(i,i.return,pe)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function c2(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;c2(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function bs(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)r2(i,o.alternate,o),o=o.sibling}function Ql(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:Co(4,o,o.return),Ql(o);break;case 1:Vi(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&ZT(o,o.return,c),Ql(o);break;case 27:Tf(o.stateNode);case 26:case 5:Vi(o,o.return),Ql(o);break;case 22:o.memoizedState===null&&Ql(o);break;case 30:Ql(o);break;default:Ql(o)}i=i.sibling}}function ws(i,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,v=i,b=o,T=b.flags;switch(b.tag){case 0:case 11:case 15:ws(v,b,c),yf(4,b);break;case 1:if(ws(v,b,c),m=b,v=m.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(se){Ct(m,m.return,se)}if(m=b,v=m.updateQueue,v!==null){var L=m.stateNode;try{var G=v.shared.hiddenCallbacks;if(G!==null)for(v.shared.hiddenCallbacks=null,v=0;v<G.length;v++)zA(G[v],L)}catch(se){Ct(m,m.return,se)}}c&&T&64&&QT(b),vf(b,b.return);break;case 27:t2(b);case 26:case 5:ws(v,b,c),c&&m===null&&T&4&&JT(b),vf(b,b.return);break;case 12:ws(v,b,c);break;case 31:ws(v,b,c),c&&T&4&&s2(v,b);break;case 13:ws(v,b,c),c&&T&4&&o2(v,b);break;case 22:b.memoizedState===null&&ws(v,b,c),vf(b,b.return);break;case 30:break;default:ws(v,b,c)}o=o.sibling}}function Cx(i,o){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&rf(c))}function kx(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&rf(i))}function li(i,o,c,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)u2(i,o,c,m),o=o.sibling}function u2(i,o,c,m){var v=o.flags;switch(o.tag){case 0:case 11:case 15:li(i,o,c,m),v&2048&&yf(9,o);break;case 1:li(i,o,c,m);break;case 3:li(i,o,c,m),v&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&rf(i)));break;case 12:if(v&2048){li(i,o,c,m),i=o.stateNode;try{var b=o.memoizedProps,T=b.id,L=b.onPostCommit;typeof L=="function"&&L(T,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(G){Ct(o,o.return,G)}}else li(i,o,c,m);break;case 31:li(i,o,c,m);break;case 13:li(i,o,c,m);break;case 23:break;case 22:b=o.stateNode,T=o.alternate,o.memoizedState!==null?b._visibility&2?li(i,o,c,m):xf(i,o):b._visibility&2?li(i,o,c,m):(b._visibility|=2,vu(i,o,c,m,(o.subtreeFlags&10256)!==0||!1)),v&2048&&Cx(T,o);break;case 24:li(i,o,c,m),v&2048&&kx(o.alternate,o);break;default:li(i,o,c,m)}}function vu(i,o,c,m,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var b=i,T=o,L=c,G=m,se=T.flags;switch(T.tag){case 0:case 11:case 15:vu(b,T,L,G,v),yf(8,T);break;case 23:break;case 22:var pe=T.stateNode;T.memoizedState!==null?pe._visibility&2?vu(b,T,L,G,v):xf(b,T):(pe._visibility|=2,vu(b,T,L,G,v)),v&&se&2048&&Cx(T.alternate,T);break;case 24:vu(b,T,L,G,v),v&&se&2048&&kx(T.alternate,T);break;default:vu(b,T,L,G,v)}o=o.sibling}}function xf(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=i,m=o,v=m.flags;switch(m.tag){case 22:xf(c,m),v&2048&&Cx(m.alternate,m);break;case 24:xf(c,m),v&2048&&kx(m.alternate,m);break;default:xf(c,m)}o=o.sibling}}var bf=8192;function xu(i,o,c){if(i.subtreeFlags&bf)for(i=i.child;i!==null;)d2(i,o,c),i=i.sibling}function d2(i,o,c){switch(i.tag){case 26:xu(i,o,c),i.flags&bf&&i.memoizedState!==null&&bz(c,oi,i.memoizedState,i.memoizedProps);break;case 5:xu(i,o,c);break;case 3:case 4:var m=oi;oi=Mp(i.stateNode.containerInfo),xu(i,o,c),oi=m;break;case 22:i.memoizedState===null&&(m=i.alternate,m!==null&&m.memoizedState!==null?(m=bf,bf=16777216,xu(i,o,c),bf=m):xu(i,o,c));break;default:xu(i,o,c)}}function f2(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function wf(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var m=o[c];nr=m,m2(m,i)}f2(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)h2(i),i=i.sibling}function h2(i){switch(i.tag){case 0:case 11:case 15:wf(i),i.flags&2048&&Co(9,i,i.return);break;case 3:wf(i);break;case 12:wf(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,Ep(i)):wf(i);break;default:wf(i)}}function Ep(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var m=o[c];nr=m,m2(m,i)}f2(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:Co(8,o,o.return),Ep(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,Ep(o));break;default:Ep(o)}i=i.sibling}}function m2(i,o){for(;nr!==null;){var c=nr;switch(c.tag){case 0:case 11:case 15:Co(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var m=c.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:rf(c.memoizedState.cache)}if(m=c.child,m!==null)m.return=c,nr=m;else e:for(c=i;nr!==null;){m=nr;var v=m.sibling,b=m.return;if(a2(m),m===c){nr=null;break e}if(v!==null){v.return=b,nr=v;break e}nr=b}}}var R9={getCacheForType:function(i){var o=fr(Pn),c=o.data.get(i);return c===void 0&&(c=i(),o.data.set(i,c)),c},cacheSignal:function(){return fr(Pn).controller.signal}},M9=typeof WeakMap=="function"?WeakMap:Map,St=0,$t=null,it=null,lt=0,jt=0,da=null,ko=!1,bu=!1,Ox=!1,_s=0,pn=0,Oo=0,Zl=0,Px=0,fa=0,wu=0,_f=null,qr=null,Dx=!1,Sp=0,p2=0,Np=1/0,Ap=null,Po=null,Fn=0,Do=null,_u=null,Es=0,Ix=0,Rx=null,g2=null,Ef=0,Mx=null;function ha(){return(St&2)!==0&&lt!==0?lt&-lt:Z.T!==null?Bx():Hc()}function y2(){if(fa===0)if((lt&536870912)===0||ht){var i=xe;xe<<=1,(xe&3932160)===0&&(xe=262144),fa=i}else fa=536870912;return i=ca.current,i!==null&&(i.flags|=32),fa}function Hr(i,o,c){(i===$t&&(jt===2||jt===9)||i.cancelPendingCommit!==null)&&(Eu(i,0),Io(i,lt,fa,!1)),as(i,c),((St&2)===0||i!==$t)&&(i===$t&&((St&2)===0&&(Zl|=c),pn===4&&Io(i,lt,fa,!1)),Ui(i))}function v2(i,o,c){if((St&6)!==0)throw Error(r(327));var m=!c&&(o&127)===0&&(o&i.expiredLanes)===0||Pt(i,o),v=m?U9(i,o):Vx(i,o,!0),b=m;do{if(v===0){bu&&!m&&Io(i,o,0,!1);break}else{if(c=i.current.alternate,b&&!L9(c)){v=Vx(i,o,!1),b=!1;continue}if(v===2){if(b=o,i.errorRecoveryDisabledLanes&b)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){o=T;e:{var L=i;v=_f;var G=L.current.memoizedState.isDehydrated;if(G&&(Eu(L,T).flags|=256),T=Vx(L,T,!1),T!==2){if(Ox&&!G){L.errorRecoveryDisabledLanes|=b,Zl|=b,v=4;break e}b=qr,qr=v,b!==null&&(qr===null?qr=b:qr.push.apply(qr,b))}v=T}if(b=!1,v!==2)continue}}if(v===1){Eu(i,0),Io(i,o,0,!0);break}e:{switch(m=i,b=v,b){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Io(m,o,fa,!ko);break e;case 2:qr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(v=Sp+300-Fe(),10<v)){if(Io(m,o,fa,!ko),mt(m,0,!0)!==0)break e;Es=o,m.timeoutHandle=W2(x2.bind(null,m,c,qr,Ap,Dx,o,fa,Zl,wu,ko,b,"Throttled",-0,0),v);break e}x2(m,c,qr,Ap,Dx,o,fa,Zl,wu,ko,b,null,-0,0)}}break}while(!0);Ui(i)}function x2(i,o,c,m,v,b,T,L,G,se,pe,ve,ce,fe){if(i.timeoutHandle=-1,ve=o.subtreeFlags,ve&8192||(ve&16785408)===16785408){ve={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},d2(o,b,ve);var Re=(b&62914560)===b?Sp-Fe():(b&4194048)===b?p2-Fe():0;if(Re=wz(ve,Re),Re!==null){Es=b,i.cancelPendingCommit=Re(T2.bind(null,i,o,b,c,m,v,T,L,G,pe,ve,null,ce,fe)),Io(i,b,T,!se);return}}T2(i,o,b,c,m,v,T,L,G)}function L9(i){for(var o=i;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var m=0;m<c.length;m++){var v=c[m],b=v.getSnapshot;v=v.value;try{if(!oa(b(),v))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Io(i,o,c,m){o&=~Px,o&=~Zl,i.suspendedLanes|=o,i.pingedLanes&=~o,m&&(i.warmLanes|=o),m=i.expirationTimes;for(var v=o;0<v;){var b=31-cn(v),T=1<<b;m[b]=-1,v&=~T}c!==0&&is(i,c,o)}function Tp(){return(St&6)===0?(Sf(0),!1):!0}function Lx(){if(it!==null){if(jt===0)var i=it.return;else i=it,fs=Fl=null,J0(i),hu=null,sf=0,i=it;for(;i!==null;)XT(i.alternate,i),i=i.return;it=null}}function Eu(i,o){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,rz(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),Es=0,Lx(),$t=i,it=c=us(i.current,null),lt=o,jt=0,da=null,ko=!1,bu=Pt(i,o),Ox=!1,wu=fa=Px=Zl=Oo=pn=0,qr=_f=null,Dx=!1,(o&8)!==0&&(o|=o&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=o;0<m;){var v=31-cn(m),b=1<<v;o|=i[v],m&=~b}return _s=o,Ym(),c}function b2(i,o){nt=null,Z.H=mf,o===fu||o===np?(o=MA(),jt=3):o===$0?(o=MA(),jt=4):jt=o===px?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,da=o,it===null&&(pn=1,gp(i,Oa(o,i.current)))}function w2(){var i=ca.current;return i===null?!0:(lt&4194048)===lt?Ra===null:(lt&62914560)===lt||(lt&536870912)!==0?i===Ra:!1}function _2(){var i=Z.H;return Z.H=mf,i===null?mf:i}function E2(){var i=Z.A;return Z.A=R9,i}function jp(){pn=4,ko||(lt&4194048)!==lt&&ca.current!==null||(bu=!0),(Oo&134217727)===0&&(Zl&134217727)===0||$t===null||Io($t,lt,fa,!1)}function Vx(i,o,c){var m=St;St|=2;var v=_2(),b=E2();($t!==i||lt!==o)&&(Ap=null,Eu(i,o)),o=!1;var T=pn;e:do try{if(jt!==0&&it!==null){var L=it,G=da;switch(jt){case 8:Lx(),T=6;break e;case 3:case 2:case 9:case 6:ca.current===null&&(o=!0);var se=jt;if(jt=0,da=null,Su(i,L,G,se),c&&bu){T=0;break e}break;default:se=jt,jt=0,da=null,Su(i,L,G,se)}}V9(),T=pn;break}catch(pe){b2(i,pe)}while(!0);return o&&i.shellSuspendCounter++,fs=Fl=null,St=m,Z.H=v,Z.A=b,it===null&&($t=null,lt=0,Ym()),T}function V9(){for(;it!==null;)S2(it)}function U9(i,o){var c=St;St|=2;var m=_2(),v=E2();$t!==i||lt!==o?(Ap=null,Np=Fe()+500,Eu(i,o)):bu=Pt(i,o);e:do try{if(jt!==0&&it!==null){o=it;var b=da;t:switch(jt){case 1:jt=0,da=null,Su(i,o,b,1);break;case 2:case 9:if(IA(b)){jt=0,da=null,N2(o);break}o=function(){jt!==2&&jt!==9||$t!==i||(jt=7),Ui(i)},b.then(o,o);break e;case 3:jt=7;break e;case 4:jt=5;break e;case 7:IA(b)?(jt=0,da=null,N2(o)):(jt=0,da=null,Su(i,o,b,7));break;case 5:var T=null;switch(it.tag){case 26:T=it.memoizedState;case 5:case 27:var L=it;if(T?uj(T):L.stateNode.complete){jt=0,da=null;var G=L.sibling;if(G!==null)it=G;else{var se=L.return;se!==null?(it=se,Cp(se)):it=null}break t}}jt=0,da=null,Su(i,o,b,5);break;case 6:jt=0,da=null,Su(i,o,b,6);break;case 8:Lx(),pn=6;break e;default:throw Error(r(462))}}z9();break}catch(pe){b2(i,pe)}while(!0);return fs=Fl=null,Z.H=m,Z.A=v,St=c,it!==null?0:($t=null,lt=0,Ym(),pn)}function z9(){for(;it!==null&&!W();)S2(it)}function S2(i){var o=YT(i.alternate,i,_s);i.memoizedProps=i.pendingProps,o===null?Cp(i):it=o}function N2(i){var o=i,c=o.alternate;switch(o.tag){case 15:case 0:o=BT(c,o,o.pendingProps,o.type,void 0,lt);break;case 11:o=BT(c,o,o.pendingProps,o.type.render,o.ref,lt);break;case 5:J0(o);default:XT(c,o),o=it=EA(o,_s),o=YT(c,o,_s)}i.memoizedProps=i.pendingProps,o===null?Cp(i):it=o}function Su(i,o,c,m){fs=Fl=null,J0(o),hu=null,sf=0;var v=o.return;try{if(j9(i,v,o,c,lt)){pn=1,gp(i,Oa(c,i.current)),it=null;return}}catch(b){if(v!==null)throw it=v,b;pn=1,gp(i,Oa(c,i.current)),it=null;return}o.flags&32768?(ht||m===1?i=!0:bu||(lt&536870912)!==0?i=!1:(ko=i=!0,(m===2||m===9||m===3||m===6)&&(m=ca.current,m!==null&&m.tag===13&&(m.flags|=16384))),A2(o,i)):Cp(o)}function Cp(i){var o=i;do{if((o.flags&32768)!==0){A2(o,ko);return}i=o.return;var c=O9(o.alternate,o,_s);if(c!==null){it=c;return}if(o=o.sibling,o!==null){it=o;return}it=o=i}while(o!==null);pn===0&&(pn=5)}function A2(i,o){do{var c=P9(i.alternate,i);if(c!==null){c.flags&=32767,it=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(i=i.sibling,i!==null)){it=i;return}it=i=c}while(i!==null);pn=6,it=null}function T2(i,o,c,m,v,b,T,L,G){i.cancelPendingCommit=null;do kp();while(Fn!==0);if((St&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(b=o.lanes|o.childLanes,b|=A0,Id(i,c,b,T,L,G),i===$t&&(it=$t=null,lt=0),_u=o,Do=i,Es=c,Ix=b,Rx=v,g2=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,q9(_i,function(){return P2(),null})):(i.callbackNode=null,i.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=Z.T,Z.T=null,v=Y.p,Y.p=2,T=St,St|=4;try{D9(i,o,c)}finally{St=T,Y.p=v,Z.T=m}}Fn=1,j2(),C2(),k2()}}function j2(){if(Fn===1){Fn=0;var i=Do,o=_u,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=Z.T,Z.T=null;var m=Y.p;Y.p=2;var v=St;St|=4;try{l2(o,i);var b=Xx,T=mA(i.containerInfo),L=b.focusedElem,G=b.selectionRange;if(T!==L&&L&&L.ownerDocument&&hA(L.ownerDocument.documentElement,L)){if(G!==null&&w0(L)){var se=G.start,pe=G.end;if(pe===void 0&&(pe=se),"selectionStart"in L)L.selectionStart=se,L.selectionEnd=Math.min(pe,L.value.length);else{var ve=L.ownerDocument||document,ce=ve&&ve.defaultView||window;if(ce.getSelection){var fe=ce.getSelection(),Re=L.textContent.length,Ge=Math.min(G.start,Re),Mt=G.end===void 0?Ge:Math.min(G.end,Re);!fe.extend&&Ge>Mt&&(T=Mt,Mt=Ge,Ge=T);var te=fA(L,Ge),Q=fA(L,Mt);if(te&&Q&&(fe.rangeCount!==1||fe.anchorNode!==te.node||fe.anchorOffset!==te.offset||fe.focusNode!==Q.node||fe.focusOffset!==Q.offset)){var ie=ve.createRange();ie.setStart(te.node,te.offset),fe.removeAllRanges(),Ge>Mt?(fe.addRange(ie),fe.extend(Q.node,Q.offset)):(ie.setEnd(Q.node,Q.offset),fe.addRange(ie))}}}}for(ve=[],fe=L;fe=fe.parentNode;)fe.nodeType===1&&ve.push({element:fe,left:fe.scrollLeft,top:fe.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<ve.length;L++){var ye=ve[L];ye.element.scrollLeft=ye.left,ye.element.scrollTop=ye.top}}Bp=!!Wx,Xx=Wx=null}finally{St=v,Y.p=m,Z.T=c}}i.current=o,Fn=2}}function C2(){if(Fn===2){Fn=0;var i=Do,o=_u,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=Z.T,Z.T=null;var m=Y.p;Y.p=2;var v=St;St|=4;try{r2(i,o.alternate,o)}finally{St=v,Y.p=m,Z.T=c}}Fn=3}}function k2(){if(Fn===4||Fn===3){Fn=0,Ne();var i=Do,o=_u,c=Es,m=g2;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Fn=5:(Fn=0,_u=Do=null,O2(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(Po=null),ei(c),o=o.stateNode,Bn&&typeof Bn.onCommitFiberRoot=="function")try{Bn.onCommitFiberRoot(na,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=Z.T,v=Y.p,Y.p=2,Z.T=null;try{for(var b=i.onRecoverableError,T=0;T<m.length;T++){var L=m[T];b(L.value,{componentStack:L.stack})}}finally{Z.T=o,Y.p=v}}(Es&3)!==0&&kp(),Ui(i),v=i.pendingLanes,(c&261930)!==0&&(v&42)!==0?i===Mx?Ef++:(Ef=0,Mx=i):Ef=0,Sf(0)}}function O2(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,rf(o)))}function kp(){return j2(),C2(),k2(),P2()}function P2(){if(Fn!==5)return!1;var i=Do,o=Ix;Ix=0;var c=ei(Es),m=Z.T,v=Y.p;try{Y.p=32>c?32:c,Z.T=null,c=Rx,Rx=null;var b=Do,T=Es;if(Fn=0,_u=Do=null,Es=0,(St&6)!==0)throw Error(r(331));var L=St;if(St|=4,h2(b.current),u2(b,b.current,T,c),St=L,Sf(0,!1),Bn&&typeof Bn.onPostCommitFiberRoot=="function")try{Bn.onPostCommitFiberRoot(na,b)}catch{}return!0}finally{Y.p=v,Z.T=m,O2(i,o)}}function D2(i,o,c){o=Oa(c,o),o=mx(i.stateNode,o,2),i=Ao(i,o,2),i!==null&&(as(i,2),Ui(i))}function Ct(i,o,c){if(i.tag===3)D2(i,i,c);else for(;o!==null;){if(o.tag===3){D2(o,i,c);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Po===null||!Po.has(m))){i=Oa(c,i),c=IT(2),m=Ao(o,c,2),m!==null&&(RT(c,m,o,i),as(m,2),Ui(m));break}}o=o.return}}function Ux(i,o,c){var m=i.pingCache;if(m===null){m=i.pingCache=new M9;var v=new Set;m.set(o,v)}else v=m.get(o),v===void 0&&(v=new Set,m.set(o,v));v.has(c)||(Ox=!0,v.add(c),i=$9.bind(null,i,o,c),o.then(i,i))}function $9(i,o,c){var m=i.pingCache;m!==null&&m.delete(o),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,$t===i&&(lt&c)===c&&(pn===4||pn===3&&(lt&62914560)===lt&&300>Fe()-Sp?(St&2)===0&&Eu(i,0):Px|=c,wu===lt&&(wu=0)),Ui(i)}function I2(i,o){o===0&&(o=Si()),i=zl(i,o),i!==null&&(as(i,o),Ui(i))}function B9(i){var o=i.memoizedState,c=0;o!==null&&(c=o.retryLane),I2(i,c)}function F9(i,o){var c=0;switch(i.tag){case 31:case 13:var m=i.stateNode,v=i.memoizedState;v!==null&&(c=v.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(o),I2(i,c)}function q9(i,o){return Ft(i,o)}var Op=null,Nu=null,zx=!1,Pp=!1,$x=!1,Ro=0;function Ui(i){i!==Nu&&i.next===null&&(Nu===null?Op=Nu=i:Nu=Nu.next=i),Pp=!0,zx||(zx=!0,K9())}function Sf(i,o){if(!$x&&Pp){$x=!0;do for(var c=!1,m=Op;m!==null;){if(i!==0){var v=m.pendingLanes;if(v===0)var b=0;else{var T=m.suspendedLanes,L=m.pingedLanes;b=(1<<31-cn(42|i)+1)-1,b&=v&~(T&~L),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(c=!0,V2(m,b))}else b=lt,b=mt(m,m===$t?b:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(b&3)===0||Pt(m,b)||(c=!0,V2(m,b));m=m.next}while(c);$x=!1}}function H9(){R2()}function R2(){Pp=zx=!1;var i=0;Ro!==0&&nz()&&(i=Ro);for(var o=Fe(),c=null,m=Op;m!==null;){var v=m.next,b=M2(m,o);b===0?(m.next=null,c===null?Op=v:c.next=v,v===null&&(Nu=c)):(c=m,(i!==0||(b&3)!==0)&&(Pp=!0)),m=v}Fn!==0&&Fn!==5||Sf(i),Ro!==0&&(Ro=0)}function M2(i,o){for(var c=i.suspendedLanes,m=i.pingedLanes,v=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var T=31-cn(b),L=1<<T,G=v[T];G===-1?((L&c)===0||(L&m)!==0)&&(v[T]=Ei(L,o)):G<=o&&(i.expiredLanes|=L),b&=~L}if(o=$t,c=lt,c=mt(i,i===o?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m=i.callbackNode,c===0||i===o&&(jt===2||jt===9)||i.cancelPendingCommit!==null)return m!==null&&m!==null&&ee(m),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||Pt(i,c)){if(o=c&-c,o===i.callbackPriority)return o;switch(m!==null&&ee(m),ei(c)){case 2:case 8:c=ta;break;case 32:c=_i;break;case 268435456:c=$c;break;default:c=_i}return m=L2.bind(null,i),c=Ft(c,m),i.callbackPriority=o,i.callbackNode=c,o}return m!==null&&m!==null&&ee(m),i.callbackPriority=2,i.callbackNode=null,2}function L2(i,o){if(Fn!==0&&Fn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(kp()&&i.callbackNode!==c)return null;var m=lt;return m=mt(i,i===$t?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m===0?null:(v2(i,m,o),M2(i,Fe()),i.callbackNode!=null&&i.callbackNode===c?L2.bind(null,i):null)}function V2(i,o){if(kp())return null;v2(i,o,!0)}function K9(){az(function(){(St&6)!==0?Ft(ln,H9):R2()})}function Bx(){if(Ro===0){var i=uu;i===0&&(i=ue,ue<<=1,(ue&261888)===0&&(ue=256)),Ro=i}return Ro}function U2(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Wc(""+i)}function z2(i,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,i.id&&c.setAttribute("form",i.id),o.parentNode.insertBefore(c,o),i=new FormData(i),c.parentNode.removeChild(c),i}function G9(i,o,c,m,v){if(o==="submit"&&c&&c.stateNode===v){var b=U2((v[jn]||null).action),T=m.submitter;T&&(o=(o=T[jn]||null)?U2(o.formAction):T.getAttribute("formAction"),o!==null&&(b=o,T=null));var L=new Pi("action","action",null,m,v);i.push({event:L,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Ro!==0){var G=T?z2(v,T):new FormData(v);lx(c,{pending:!0,data:G,method:v.method,action:b},null,G)}}else typeof b=="function"&&(L.preventDefault(),G=T?z2(v,T):new FormData(v),lx(c,{pending:!0,data:G,method:v.method,action:b},b,G))},currentTarget:v}]})}}for(var Fx=0;Fx<N0.length;Fx++){var qx=N0[Fx],Y9=qx.toLowerCase(),W9=qx[0].toUpperCase()+qx.slice(1);si(Y9,"on"+W9)}si(yA,"onAnimationEnd"),si(vA,"onAnimationIteration"),si(xA,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(d9,"onTransitionRun"),si(f9,"onTransitionStart"),si(h9,"onTransitionCancel"),si(bA,"onTransitionEnd"),ji("onMouseEnter",["mouseout","mouseover"]),ji("onMouseLeave",["mouseout","mouseover"]),ji("onPointerEnter",["pointerout","pointerover"]),ji("onPointerLeave",["pointerout","pointerover"]),Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nf));function $2(i,o){o=(o&4)!==0;for(var c=0;c<i.length;c++){var m=i[c],v=m.event;m=m.listeners;e:{var b=void 0;if(o)for(var T=m.length-1;0<=T;T--){var L=m[T],G=L.instance,se=L.currentTarget;if(L=L.listener,G!==b&&v.isPropagationStopped())break e;b=L,v.currentTarget=se;try{b(v)}catch(pe){Gm(pe)}v.currentTarget=null,b=G}else for(T=0;T<m.length;T++){if(L=m[T],G=L.instance,se=L.currentTarget,L=L.listener,G!==b&&v.isPropagationStopped())break e;b=L,v.currentTarget=se;try{b(v)}catch(pe){Gm(pe)}v.currentTarget=null,b=G}}}}function st(i,o){var c=o[co];c===void 0&&(c=o[co]=new Set);var m=i+"__bubble";c.has(m)||(B2(o,i,2,!1),c.add(m))}function Hx(i,o,c){var m=0;o&&(m|=4),B2(c,i,m,o)}var Dp="_reactListening"+Math.random().toString(36).slice(2);function Kx(i){if(!i[Dp]){i[Dp]=!0,Md.forEach(function(c){c!=="selectionchange"&&(X9.has(c)||Hx(c,!1,i),Hx(c,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Dp]||(o[Dp]=!0,Hx("selectionchange",!1,o))}}function B2(i,o,c,m){switch(yj(o)){case 2:var v=Sz;break;case 8:v=Nz;break;default:v=ob}c=v.bind(null,o,c,i),v=void 0,!Pl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),m?v!==void 0?i.addEventListener(o,c,{capture:!0,passive:v}):i.addEventListener(o,c,!0):v!==void 0?i.addEventListener(o,c,{passive:v}):i.addEventListener(o,c,!1)}function Gx(i,o,c,m,v){var b=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var T=m.tag;if(T===3||T===4){var L=m.stateNode.containerInfo;if(L===v)break;if(T===4)for(T=m.return;T!==null;){var G=T.tag;if((G===3||G===4)&&T.stateNode.containerInfo===v)return;T=T.return}for(;L!==null;){if(T=Ni(L),T===null)return;if(G=T.tag,G===5||G===6||G===26||G===27){m=b=T;continue e}L=L.parentNode}}m=m.return}go(function(){var se=b,pe=Ta(c),ve=[];e:{var ce=wA.get(i);if(ce!==void 0){var fe=Pi,Re=i;switch(i){case"keypress":if(Il(c)===0)break e;case"keydown":case"keyup":fe=qm;break;case"focusin":Re="focus",fe=Ml;break;case"focusout":Re="blur",fe=Ml;break;case"beforeblur":case"afterblur":fe=Ml;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=Wd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=Rm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=N;break;case yA:case vA:case xA:fe=Lm;break;case bA:fe=B;break;case"scroll":case"scrollend":fe=Yd;break;case"wheel":fe=de;break;case"copy":case"cut":case"paste":fe=Vm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=cs;break;case"toggle":case"beforetoggle":fe=tt}var Ge=(o&4)!==0,Mt=!Ge&&(i==="scroll"||i==="scrollend"),te=Ge?ce!==null?ce+"Capture":null:ce;Ge=[];for(var Q=se,ie;Q!==null;){var ye=Q;if(ie=ye.stateNode,ye=ye.tag,ye!==5&&ye!==26&&ye!==27||ie===null||te===null||(ye=ni(Q,te),ye!=null&&Ge.push(Af(Q,ye,ie))),Mt)break;Q=Q.return}0<Ge.length&&(ce=new fe(ce,Re,null,c,pe),ve.push({event:ce,listeners:Ge}))}}if((o&7)===0){e:{if(ce=i==="mouseover"||i==="pointerover",fe=i==="mouseout"||i==="pointerout",ce&&c!==Hd&&(Re=c.relatedTarget||c.fromElement)&&(Ni(Re)||Re[Na]))break e;if((fe||ce)&&(ce=pe.window===pe?pe:(ce=pe.ownerDocument)?ce.defaultView||ce.parentWindow:window,fe?(Re=c.relatedTarget||c.toElement,fe=se,Re=Re?Ni(Re):null,Re!==null&&(Mt=s(Re),Ge=Re.tag,Re!==Mt||Ge!==5&&Ge!==27&&Ge!==6)&&(Re=null)):(fe=null,Re=se),fe!==Re)){if(Ge=Wd,ye="onMouseLeave",te="onMouseEnter",Q="mouse",(i==="pointerout"||i==="pointerover")&&(Ge=cs,ye="onPointerLeave",te="onPointerEnter",Q="pointer"),Mt=fe==null?ce:ia(fe),ie=Re==null?ce:ia(Re),ce=new Ge(ye,Q+"leave",fe,c,pe),ce.target=Mt,ce.relatedTarget=ie,ye=null,Ni(pe)===se&&(Ge=new Ge(te,Q+"enter",Re,c,pe),Ge.target=ie,Ge.relatedTarget=Mt,ye=Ge),Mt=ye,fe&&Re)t:{for(Ge=Q9,te=fe,Q=Re,ie=0,ye=te;ye;ye=Ge(ye))ie++;ye=0;for(var qe=Q;qe;qe=Ge(qe))ye++;for(;0<ie-ye;)te=Ge(te),ie--;for(;0<ye-ie;)Q=Ge(Q),ye--;for(;ie--;){if(te===Q||Q!==null&&te===Q.alternate){Ge=te;break t}te=Ge(te),Q=Ge(Q)}Ge=null}else Ge=null;fe!==null&&F2(ve,ce,fe,Ge,!1),Re!==null&&Mt!==null&&F2(ve,Mt,Re,Ge,!0)}}e:{if(ce=se?ia(se):window,fe=ce.nodeName&&ce.nodeName.toLowerCase(),fe==="select"||fe==="input"&&ce.type==="file")var xt=sA;else if(aA(ce))if(oA)xt=l9;else{xt=s9;var ze=i9}else fe=ce.nodeName,!fe||fe.toLowerCase()!=="input"||ce.type!=="checkbox"&&ce.type!=="radio"?se&&Yc(se.elementType)&&(xt=sA):xt=o9;if(xt&&(xt=xt(i,se))){iA(ve,xt,c,pe);break e}ze&&ze(i,ce,se),i==="focusout"&&se&&ce.type==="number"&&se.memoizedProps.value!=null&&Bd(ce,"number",ce.value)}switch(ze=se?ia(se):window,i){case"focusin":(aA(ze)||ze.contentEditable==="true")&&(nu=ze,_0=se,ef=null);break;case"focusout":ef=_0=nu=null;break;case"mousedown":E0=!0;break;case"contextmenu":case"mouseup":case"dragend":E0=!1,pA(ve,c,pe);break;case"selectionchange":if(u9)break;case"keydown":case"keyup":pA(ve,c,pe)}var rt;if(Et)e:{switch(i){case"compositionstart":var ct="onCompositionStart";break e;case"compositionend":ct="onCompositionEnd";break e;case"compositionupdate":ct="onCompositionUpdate";break e}ct=void 0}else tu?Ll(i,c)&&(ct="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(ct="onCompositionStart");ct&&(Ri&&c.locale!=="ko"&&(tu||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&tu&&(rt=Gd()):(Oi=pe,Kd="value"in Oi?Oi.value:Oi.textContent,tu=!0)),ze=Ip(se,ct),0<ze.length&&(ct=new Ii(ct,i,null,c,pe),ve.push({event:ct,listeners:ze}),rt?ct.data=rt:(rt=eu(c),rt!==null&&(ct.data=rt)))),(rt=Ca?t9(i,c):n9(i,c))&&(ct=Ip(se,"onBeforeInput"),0<ct.length&&(ze=new Ii("onBeforeInput","beforeinput",null,c,pe),ve.push({event:ze,listeners:ct}),ze.data=rt)),G9(ve,i,se,c,pe)}$2(ve,o)})}function Af(i,o,c){return{instance:i,listener:o,currentTarget:c}}function Ip(i,o){for(var c=o+"Capture",m=[];i!==null;){var v=i,b=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||b===null||(v=ni(i,c),v!=null&&m.unshift(Af(i,v,b)),v=ni(i,o),v!=null&&m.push(Af(i,v,b))),i.tag===3)return m;i=i.return}return[]}function Q9(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function F2(i,o,c,m,v){for(var b=o._reactName,T=[];c!==null&&c!==m;){var L=c,G=L.alternate,se=L.stateNode;if(L=L.tag,G!==null&&G===m)break;L!==5&&L!==26&&L!==27||se===null||(G=se,v?(se=ni(c,b),se!=null&&T.unshift(Af(c,se,G))):v||(se=ni(c,b),se!=null&&T.push(Af(c,se,G)))),c=c.return}T.length!==0&&i.push({event:o,listeners:T})}var Z9=/\r\n?/g,J9=/\u0000|\uFFFD/g;function q2(i){return(typeof i=="string"?i:""+i).replace(Z9,`
`).replace(J9,"")}function H2(i,o){return o=q2(o),q2(i)===o}function Rt(i,o,c,m,v,b){switch(c){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||zr(i,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&zr(i,""+m);break;case"className":sa(i,"class",m);break;case"tabIndex":sa(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":sa(i,c,m);break;case"style":qd(i,m,b);break;case"data":if(o!=="object"){sa(i,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||c!=="href")){i.removeAttribute(c);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(c);break}m=Wc(""+m),i.setAttribute(c,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(c==="formAction"?(o!=="input"&&Rt(i,o,"name",v.name,v,null),Rt(i,o,"formEncType",v.formEncType,v,null),Rt(i,o,"formMethod",v.formMethod,v,null),Rt(i,o,"formTarget",v.formTarget,v,null)):(Rt(i,o,"encType",v.encType,v,null),Rt(i,o,"method",v.method,v,null),Rt(i,o,"target",v.target,v,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(c);break}m=Wc(""+m),i.setAttribute(c,m);break;case"onClick":m!=null&&(i.onclick=ti);break;case"onScroll":m!=null&&st("scroll",i);break;case"onScrollEnd":m!=null&&st("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}c=Wc(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(c,""+m):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":m===!0?i.setAttribute(c,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(c,m):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(c,m):i.removeAttribute(c);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(c):i.setAttribute(c,m);break;case"popover":st("beforetoggle",i),st("toggle",i),Kc(i,"popover",m);break;case"xlinkActuate":On(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":On(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":On(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":On(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":On(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":On(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":On(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":On(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":On(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Kc(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Im.get(c)||c,Kc(i,c,m))}}function Yx(i,o,c,m,v,b){switch(c){case"style":qd(i,m,b);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"children":typeof m=="string"?zr(i,m):(typeof m=="number"||typeof m=="bigint")&&zr(i,""+m);break;case"onScroll":m!=null&&st("scroll",i);break;case"onScrollEnd":m!=null&&st("scrollend",i);break;case"onClick":m!=null&&(i.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ld.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(v=c.endsWith("Capture"),o=c.slice(2,v?c.length-7:void 0),b=i[jn]||null,b=b!=null?b[c]:null,typeof b=="function"&&i.removeEventListener(o,b,v),typeof m=="function")){typeof b!="function"&&b!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(o,m,v);break e}c in i?i[c]=m:m===!0?i.setAttribute(c,""):Kc(i,c,m)}}}function mr(i,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":st("error",i),st("load",i);var m=!1,v=!1,b;for(b in c)if(c.hasOwnProperty(b)){var T=c[b];if(T!=null)switch(b){case"src":m=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Rt(i,o,b,T,c,null)}}v&&Rt(i,o,"srcSet",c.srcSet,c,null),m&&Rt(i,o,"src",c.src,c,null);return;case"input":st("invalid",i);var L=b=T=v=null,G=null,se=null;for(m in c)if(c.hasOwnProperty(m)){var pe=c[m];if(pe!=null)switch(m){case"name":v=pe;break;case"type":T=pe;break;case"checked":G=pe;break;case"defaultChecked":se=pe;break;case"value":b=pe;break;case"defaultValue":L=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(137,o));break;default:Rt(i,o,m,pe,c,null)}}Om(i,b,L,G,se,T,v,!1);return;case"select":st("invalid",i),m=T=b=null;for(v in c)if(c.hasOwnProperty(v)&&(L=c[v],L!=null))switch(v){case"value":b=L;break;case"defaultValue":T=L;break;case"multiple":m=L;default:Rt(i,o,v,L,c,null)}o=b,c=T,i.multiple=!!m,o!=null?fo(i,!!m,o,!1):c!=null&&fo(i,!!m,c,!0);return;case"textarea":st("invalid",i),b=v=m=null;for(T in c)if(c.hasOwnProperty(T)&&(L=c[T],L!=null))switch(T){case"value":m=L;break;case"defaultValue":v=L;break;case"children":b=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(91));break;default:Rt(i,o,T,L,c,null)}ho(i,m,v,b);return;case"option":for(G in c)c.hasOwnProperty(G)&&(m=c[G],m!=null)&&(G==="selected"?i.selected=m&&typeof m!="function"&&typeof m!="symbol":Rt(i,o,G,m,c,null));return;case"dialog":st("beforetoggle",i),st("toggle",i),st("cancel",i),st("close",i);break;case"iframe":case"object":st("load",i);break;case"video":case"audio":for(m=0;m<Nf.length;m++)st(Nf[m],i);break;case"image":st("error",i),st("load",i);break;case"details":st("toggle",i);break;case"embed":case"source":case"link":st("error",i),st("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in c)if(c.hasOwnProperty(se)&&(m=c[se],m!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Rt(i,o,se,m,c,null)}return;default:if(Yc(o)){for(pe in c)c.hasOwnProperty(pe)&&(m=c[pe],m!==void 0&&Yx(i,o,pe,m,c,void 0));return}}for(L in c)c.hasOwnProperty(L)&&(m=c[L],m!=null&&Rt(i,o,L,m,c,null))}function ez(i,o,c,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,b=null,T=null,L=null,G=null,se=null,pe=null;for(fe in c){var ve=c[fe];if(c.hasOwnProperty(fe)&&ve!=null)switch(fe){case"checked":break;case"value":break;case"defaultValue":G=ve;default:m.hasOwnProperty(fe)||Rt(i,o,fe,null,m,ve)}}for(var ce in m){var fe=m[ce];if(ve=c[ce],m.hasOwnProperty(ce)&&(fe!=null||ve!=null))switch(ce){case"type":b=fe;break;case"name":v=fe;break;case"checked":se=fe;break;case"defaultChecked":pe=fe;break;case"value":T=fe;break;case"defaultValue":L=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,o));break;default:fe!==ve&&Rt(i,o,ce,fe,m,ve)}}Gc(i,T,L,G,se,pe,b,v);return;case"select":fe=T=L=ce=null;for(b in c)if(G=c[b],c.hasOwnProperty(b)&&G!=null)switch(b){case"value":break;case"multiple":fe=G;default:m.hasOwnProperty(b)||Rt(i,o,b,null,m,G)}for(v in m)if(b=m[v],G=c[v],m.hasOwnProperty(v)&&(b!=null||G!=null))switch(v){case"value":ce=b;break;case"defaultValue":L=b;break;case"multiple":T=b;default:b!==G&&Rt(i,o,v,b,m,G)}o=L,c=T,m=fe,ce!=null?fo(i,!!c,ce,!1):!!m!=!!c&&(o!=null?fo(i,!!c,o,!0):fo(i,!!c,c?[]:"",!1));return;case"textarea":fe=ce=null;for(L in c)if(v=c[L],c.hasOwnProperty(L)&&v!=null&&!m.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:Rt(i,o,L,null,m,v)}for(T in m)if(v=m[T],b=c[T],m.hasOwnProperty(T)&&(v!=null||b!=null))switch(T){case"value":ce=v;break;case"defaultValue":fe=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==b&&Rt(i,o,T,v,m,b)}Pm(i,ce,fe);return;case"option":for(var Re in c)ce=c[Re],c.hasOwnProperty(Re)&&ce!=null&&!m.hasOwnProperty(Re)&&(Re==="selected"?i.selected=!1:Rt(i,o,Re,null,m,ce));for(G in m)ce=m[G],fe=c[G],m.hasOwnProperty(G)&&ce!==fe&&(ce!=null||fe!=null)&&(G==="selected"?i.selected=ce&&typeof ce!="function"&&typeof ce!="symbol":Rt(i,o,G,ce,m,fe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ge in c)ce=c[Ge],c.hasOwnProperty(Ge)&&ce!=null&&!m.hasOwnProperty(Ge)&&Rt(i,o,Ge,null,m,ce);for(se in m)if(ce=m[se],fe=c[se],m.hasOwnProperty(se)&&ce!==fe&&(ce!=null||fe!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,o));break;default:Rt(i,o,se,ce,m,fe)}return;default:if(Yc(o)){for(var Mt in c)ce=c[Mt],c.hasOwnProperty(Mt)&&ce!==void 0&&!m.hasOwnProperty(Mt)&&Yx(i,o,Mt,void 0,m,ce);for(pe in m)ce=m[pe],fe=c[pe],!m.hasOwnProperty(pe)||ce===fe||ce===void 0&&fe===void 0||Yx(i,o,pe,ce,m,fe);return}}for(var te in c)ce=c[te],c.hasOwnProperty(te)&&ce!=null&&!m.hasOwnProperty(te)&&Rt(i,o,te,null,m,ce);for(ve in m)ce=m[ve],fe=c[ve],!m.hasOwnProperty(ve)||ce===fe||ce==null&&fe==null||Rt(i,o,ve,ce,m,fe)}function K2(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tz(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,c=performance.getEntriesByType("resource"),m=0;m<c.length;m++){var v=c[m],b=v.transferSize,T=v.initiatorType,L=v.duration;if(b&&L&&K2(T)){for(T=0,L=v.responseEnd,m+=1;m<c.length;m++){var G=c[m],se=G.startTime;if(se>L)break;var pe=G.transferSize,ve=G.initiatorType;pe&&K2(ve)&&(G=G.responseEnd,T+=pe*(G<L?1:(L-se)/(G-se)))}if(--m,o+=8*(b+T)/(v.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Wx=null,Xx=null;function Rp(i){return i.nodeType===9?i:i.ownerDocument}function G2(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Y2(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function Qx(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Zx=null;function nz(){var i=window.event;return i&&i.type==="popstate"?i===Zx?!1:(Zx=i,!0):(Zx=null,!1)}var W2=typeof setTimeout=="function"?setTimeout:void 0,rz=typeof clearTimeout=="function"?clearTimeout:void 0,X2=typeof Promise=="function"?Promise:void 0,az=typeof queueMicrotask=="function"?queueMicrotask:typeof X2<"u"?function(i){return X2.resolve(null).then(i).catch(iz)}:W2;function iz(i){setTimeout(function(){throw i})}function Mo(i){return i==="head"}function Q2(i,o){var c=o,m=0;do{var v=c.nextSibling;if(i.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"||c==="/&"){if(m===0){i.removeChild(v),Cu(o);return}m--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")m++;else if(c==="html")Tf(i.ownerDocument.documentElement);else if(c==="head"){c=i.ownerDocument.head,Tf(c);for(var b=c.firstChild;b;){var T=b.nextSibling,L=b.nodeName;b[He]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&b.rel.toLowerCase()==="stylesheet"||c.removeChild(b),b=T}}else c==="body"&&Tf(i.ownerDocument.body);c=v}while(c);Cu(o)}function Z2(i,o){var c=i;i=0;do{var m=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(i===0)break;i--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||i++;c=m}while(c)}function Jx(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Jx(c),Cn(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function sz(i,o,c,m){for(;i.nodeType===1;){var v=c;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[He])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var b=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=Ma(i.nextSibling),i===null)break}return null}function oz(i,o,c){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=Ma(i.nextSibling),i===null))return null;return i}function J2(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Ma(i.nextSibling),i===null))return null;return i}function eb(i){return i.data==="$?"||i.data==="$~"}function tb(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function lz(i,o){var c=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||c.readyState!=="loading")o();else{var m=function(){o(),c.removeEventListener("DOMContentLoaded",m)};c.addEventListener("DOMContentLoaded",m),i._reactRetry=m}}function Ma(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var nb=null;function ej(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"||c==="/&"){if(o===0)return Ma(i.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}i=i.nextSibling}return null}function tj(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return i;o--}else c!=="/$"&&c!=="/&"||o++}i=i.previousSibling}return null}function nj(i,o,c){switch(o=Rp(c),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Tf(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Cn(i)}var La=new Map,rj=new Set;function Mp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ss=Y.d;Y.d={f:cz,r:uz,D:dz,C:fz,L:hz,m:mz,X:gz,S:pz,M:yz};function cz(){var i=Ss.f(),o=Tp();return i||o}function uz(i){var o=Aa(i);o!==null&&o.tag===5&&o.type==="form"?bT(o):Ss.r(i)}var Au=typeof document>"u"?null:document;function aj(i,o,c){var m=Au;if(m&&typeof o=="string"&&o){var v=Ur(o);v='link[rel="'+i+'"][href="'+v+'"]',typeof c=="string"&&(v+='[crossorigin="'+c+'"]'),rj.has(v)||(rj.add(v),i={rel:i,crossOrigin:c,href:o},m.querySelector(v)===null&&(o=m.createElement("link"),mr(o,"link",i),kn(o),m.head.appendChild(o)))}}function dz(i){Ss.D(i),aj("dns-prefetch",i,null)}function fz(i,o){Ss.C(i,o),aj("preconnect",i,o)}function hz(i,o,c){Ss.L(i,o,c);var m=Au;if(m&&i&&o){var v='link[rel="preload"][as="'+Ur(o)+'"]';o==="image"&&c&&c.imageSrcSet?(v+='[imagesrcset="'+Ur(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(v+='[imagesizes="'+Ur(c.imageSizes)+'"]')):v+='[href="'+Ur(i)+'"]';var b=v;switch(o){case"style":b=Tu(i);break;case"script":b=ju(i)}La.has(b)||(i=g({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:i,as:o},c),La.set(b,i),m.querySelector(v)!==null||o==="style"&&m.querySelector(jf(b))||o==="script"&&m.querySelector(Cf(b))||(o=m.createElement("link"),mr(o,"link",i),kn(o),m.head.appendChild(o)))}}function mz(i,o){Ss.m(i,o);var c=Au;if(c&&i){var m=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+Ur(m)+'"][href="'+Ur(i)+'"]',b=v;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=ju(i)}if(!La.has(b)&&(i=g({rel:"modulepreload",href:i},o),La.set(b,i),c.querySelector(v)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Cf(b)))return}m=c.createElement("link"),mr(m,"link",i),kn(m),c.head.appendChild(m)}}}function pz(i,o,c){Ss.S(i,o,c);var m=Au;if(m&&i){var v=Ai(m).hoistableStyles,b=Tu(i);o=o||"default";var T=v.get(b);if(!T){var L={loading:0,preload:null};if(T=m.querySelector(jf(b)))L.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},c),(c=La.get(b))&&rb(i,c);var G=T=m.createElement("link");kn(G),mr(G,"link",i),G._p=new Promise(function(se,pe){G.onload=se,G.onerror=pe}),G.addEventListener("load",function(){L.loading|=1}),G.addEventListener("error",function(){L.loading|=2}),L.loading|=4,Lp(T,o,m)}T={type:"stylesheet",instance:T,count:1,state:L},v.set(b,T)}}}function gz(i,o){Ss.X(i,o);var c=Au;if(c&&i){var m=Ai(c).hoistableScripts,v=ju(i),b=m.get(v);b||(b=c.querySelector(Cf(v)),b||(i=g({src:i,async:!0},o),(o=La.get(v))&&ab(i,o),b=c.createElement("script"),kn(b),mr(b,"link",i),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(v,b))}}function yz(i,o){Ss.M(i,o);var c=Au;if(c&&i){var m=Ai(c).hoistableScripts,v=ju(i),b=m.get(v);b||(b=c.querySelector(Cf(v)),b||(i=g({src:i,async:!0,type:"module"},o),(o=La.get(v))&&ab(i,o),b=c.createElement("script"),kn(b),mr(b,"link",i),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(v,b))}}function ij(i,o,c,m){var v=(v=Ee.current)?Mp(v):null;if(!v)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Tu(c.href),c=Ai(v).hoistableStyles,m=c.get(o),m||(m={type:"style",instance:null,count:0,state:null},c.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=Tu(c.href);var b=Ai(v).hoistableStyles,T=b.get(i);if(T||(v=v.ownerDocument||v,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,T),(b=v.querySelector(jf(i)))&&!b._p&&(T.instance=b,T.state.loading=5),La.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},La.set(i,c),b||vz(v,i,c,T.state))),o&&m===null)throw Error(r(528,""));return T}if(o&&m!==null)throw Error(r(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=ju(c),c=Ai(v).hoistableScripts,m=c.get(o),m||(m={type:"script",instance:null,count:0,state:null},c.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Tu(i){return'href="'+Ur(i)+'"'}function jf(i){return'link[rel="stylesheet"]['+i+"]"}function sj(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function vz(i,o,c,m){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=i.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),mr(o,"link",c),kn(o),i.head.appendChild(o))}function ju(i){return'[src="'+Ur(i)+'"]'}function Cf(i){return"script[async]"+i}function oj(i,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var m=i.querySelector('style[data-href~="'+Ur(c.href)+'"]');if(m)return o.instance=m,kn(m),m;var v=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),kn(m),mr(m,"style",v),Lp(m,c.precedence,i),o.instance=m;case"stylesheet":v=Tu(c.href);var b=i.querySelector(jf(v));if(b)return o.state.loading|=4,o.instance=b,kn(b),b;m=sj(c),(v=La.get(v))&&rb(m,v),b=(i.ownerDocument||i).createElement("link"),kn(b);var T=b;return T._p=new Promise(function(L,G){T.onload=L,T.onerror=G}),mr(b,"link",m),o.state.loading|=4,Lp(b,c.precedence,i),o.instance=b;case"script":return b=ju(c.src),(v=i.querySelector(Cf(b)))?(o.instance=v,kn(v),v):(m=c,(v=La.get(b))&&(m=g({},c),ab(m,v)),i=i.ownerDocument||i,v=i.createElement("script"),kn(v),mr(v,"link",m),i.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,Lp(m,c.precedence,i));return o.instance}function Lp(i,o,c){for(var m=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=m.length?m[m.length-1]:null,b=v,T=0;T<m.length;T++){var L=m[T];if(L.dataset.precedence===o)b=L;else if(b!==v)break}b?b.parentNode.insertBefore(i,b.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(i,o.firstChild))}function rb(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function ab(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Vp=null;function lj(i,o,c){if(Vp===null){var m=new Map,v=Vp=new Map;v.set(c,m)}else v=Vp,m=v.get(c),m||(m=new Map,v.set(c,m));if(m.has(i))return m;for(m.set(i,null),c=c.getElementsByTagName(i),v=0;v<c.length;v++){var b=c[v];if(!(b[He]||b[hn]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var T=b.getAttribute(o)||"";T=i+T;var L=m.get(T);L?L.push(b):m.set(T,[b])}}return m}function cj(i,o,c){i=i.ownerDocument||i,i.head.insertBefore(c,o==="title"?i.querySelector("head > title"):null)}function xz(i,o,c){if(c===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(i=o.disabled,typeof o.precedence=="string"&&i==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function uj(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function bz(i,o,c,m){if(c.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var v=Tu(m.href),b=o.querySelector(jf(v));if(b){o=b._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=Up.bind(i),o.then(i,i)),c.state.loading|=4,c.instance=b,kn(b);return}b=o.ownerDocument||o,m=sj(m),(v=La.get(v))&&rb(m,v),b=b.createElement("link"),kn(b);var T=b;T._p=new Promise(function(L,G){T.onload=L,T.onerror=G}),mr(b,"link",m),c.instance=b}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(i.count++,c=Up.bind(i),o.addEventListener("load",c),o.addEventListener("error",c))}}var ib=0;function wz(i,o){return i.stylesheets&&i.count===0&&$p(i,i.stylesheets),0<i.count||0<i.imgCount?function(c){var m=setTimeout(function(){if(i.stylesheets&&$p(i,i.stylesheets),i.unsuspend){var b=i.unsuspend;i.unsuspend=null,b()}},6e4+o);0<i.imgBytes&&ib===0&&(ib=62500*tz());var v=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&$p(i,i.stylesheets),i.unsuspend)){var b=i.unsuspend;i.unsuspend=null,b()}},(i.imgBytes>ib?50:800)+o);return i.unsuspend=c,function(){i.unsuspend=null,clearTimeout(m),clearTimeout(v)}}:null}function Up(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$p(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var zp=null;function $p(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,zp=new Map,o.forEach(_z,i),zp=null,Up.call(i))}function _z(i,o){if(!(o.state.loading&4)){var c=zp.get(i);if(c)var m=c.get(null);else{c=new Map,zp.set(i,c);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<v.length;b++){var T=v[b];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(c.set(T.dataset.precedence,T),m=T)}m&&c.set(null,m)}v=o.instance,T=v.getAttribute("data-precedence"),b=c.get(T)||m,b===m&&c.set(null,v),c.set(T,v),this.count++,m=Up.bind(this),v.addEventListener("load",m),v.addEventListener("error",m),b?b.parentNode.insertBefore(v,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),o.state.loading|=4}}var kf={$$typeof:P,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function Ez(i,o,c,m,v,b,T,L,G){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sa(0),this.hiddenUpdates=Sa(null),this.identifierPrefix=m,this.onUncaughtError=v,this.onCaughtError=b,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function dj(i,o,c,m,v,b,T,L,G,se,pe,ve){return i=new Ez(i,o,c,T,G,se,pe,ve,L),o=1,b===!0&&(o|=24),b=la(3,null,null,o),i.current=b,b.stateNode=i,o=V0(),o.refCount++,i.pooledCache=o,o.refCount++,b.memoizedState={element:m,isDehydrated:c,cache:o},B0(b),i}function fj(i){return i?(i=iu,i):iu}function hj(i,o,c,m,v,b){v=fj(v),m.context===null?m.context=v:m.pendingContext=v,m=No(o),m.payload={element:c},b=b===void 0?null:b,b!==null&&(m.callback=b),c=Ao(i,m,o),c!==null&&(Hr(c,i,o),lf(c,i,o))}function mj(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<o?c:o}}function sb(i,o){mj(i,o),(i=i.alternate)&&mj(i,o)}function pj(i){if(i.tag===13||i.tag===31){var o=zl(i,67108864);o!==null&&Hr(o,i,67108864),sb(i,67108864)}}function gj(i){if(i.tag===13||i.tag===31){var o=ha();o=ss(o);var c=zl(i,o);c!==null&&Hr(c,i,o),sb(i,o)}}var Bp=!0;function Sz(i,o,c,m){var v=Z.T;Z.T=null;var b=Y.p;try{Y.p=2,ob(i,o,c,m)}finally{Y.p=b,Z.T=v}}function Nz(i,o,c,m){var v=Z.T;Z.T=null;var b=Y.p;try{Y.p=8,ob(i,o,c,m)}finally{Y.p=b,Z.T=v}}function ob(i,o,c,m){if(Bp){var v=lb(m);if(v===null)Gx(i,o,m,Fp,c),vj(i,m);else if(Tz(v,i,o,c,m))m.stopPropagation();else if(vj(i,m),o&4&&-1<Az.indexOf(i)){for(;v!==null;){var b=Aa(v);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var T=ot(b.pendingLanes);if(T!==0){var L=b;for(L.pendingLanes|=2,L.entangledLanes|=2;T;){var G=1<<31-cn(T);L.entanglements[1]|=G,T&=~G}Ui(b),(St&6)===0&&(Np=Fe()+500,Sf(0))}}break;case 31:case 13:L=zl(b,2),L!==null&&Hr(L,b,2),Tp(),sb(b,2)}if(b=lb(m),b===null&&Gx(i,o,m,Fp,c),b===v)break;v=b}v!==null&&m.stopPropagation()}else Gx(i,o,m,null,c)}}function lb(i){return i=Ta(i),cb(i)}var Fp=null;function cb(i){if(Fp=null,i=Ni(i),i!==null){var o=s(i);if(o===null)i=null;else{var c=o.tag;if(c===13){if(i=l(o),i!==null)return i;i=null}else if(c===31){if(i=u(o),i!==null)return i;i=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Fp=i,null}function yj(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vt()){case ln:return 2;case ta:return 8;case _i:case Dd:return 32;case $c:return 268435456;default:return 32}default:return 32}}var ub=!1,Lo=null,Vo=null,Uo=null,Of=new Map,Pf=new Map,zo=[],Az="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vj(i,o){switch(i){case"focusin":case"focusout":Lo=null;break;case"dragenter":case"dragleave":Vo=null;break;case"mouseover":case"mouseout":Uo=null;break;case"pointerover":case"pointerout":Of.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pf.delete(o.pointerId)}}function Df(i,o,c,m,v,b){return i===null||i.nativeEvent!==b?(i={blockedOn:o,domEventName:c,eventSystemFlags:m,nativeEvent:b,targetContainers:[v]},o!==null&&(o=Aa(o),o!==null&&pj(o)),i):(i.eventSystemFlags|=m,o=i.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),i)}function Tz(i,o,c,m,v){switch(o){case"focusin":return Lo=Df(Lo,i,o,c,m,v),!0;case"dragenter":return Vo=Df(Vo,i,o,c,m,v),!0;case"mouseover":return Uo=Df(Uo,i,o,c,m,v),!0;case"pointerover":var b=v.pointerId;return Of.set(b,Df(Of.get(b)||null,i,o,c,m,v)),!0;case"gotpointercapture":return b=v.pointerId,Pf.set(b,Df(Pf.get(b)||null,i,o,c,m,v)),!0}return!1}function xj(i){var o=Ni(i.target);if(o!==null){var c=s(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){i.blockedOn=o,ra(i.priority,function(){gj(c)});return}}else if(o===31){if(o=u(c),o!==null){i.blockedOn=o,ra(i.priority,function(){gj(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function qp(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var c=lb(i.nativeEvent);if(c===null){c=i.nativeEvent;var m=new c.constructor(c.type,c);Hd=m,c.target.dispatchEvent(m),Hd=null}else return o=Aa(c),o!==null&&pj(o),i.blockedOn=c,!1;o.shift()}return!0}function bj(i,o,c){qp(i)&&c.delete(o)}function jz(){ub=!1,Lo!==null&&qp(Lo)&&(Lo=null),Vo!==null&&qp(Vo)&&(Vo=null),Uo!==null&&qp(Uo)&&(Uo=null),Of.forEach(bj),Pf.forEach(bj)}function Hp(i,o){i.blockedOn===o&&(i.blockedOn=null,ub||(ub=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,jz)))}var Kp=null;function wj(i){Kp!==i&&(Kp=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Kp===i&&(Kp=null);for(var o=0;o<i.length;o+=3){var c=i[o],m=i[o+1],v=i[o+2];if(typeof m!="function"){if(cb(m||c)===null)continue;break}var b=Aa(c);b!==null&&(i.splice(o,3),o-=3,lx(b,{pending:!0,data:v,method:c.method,action:m},m,v))}}))}function Cu(i){function o(G){return Hp(G,i)}Lo!==null&&Hp(Lo,i),Vo!==null&&Hp(Vo,i),Uo!==null&&Hp(Uo,i),Of.forEach(o),Pf.forEach(o);for(var c=0;c<zo.length;c++){var m=zo[c];m.blockedOn===i&&(m.blockedOn=null)}for(;0<zo.length&&(c=zo[0],c.blockedOn===null);)xj(c),c.blockedOn===null&&zo.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(m=0;m<c.length;m+=3){var v=c[m],b=c[m+1],T=v[jn]||null;if(typeof b=="function")T||wj(c);else if(T){var L=null;if(b&&b.hasAttribute("formAction")){if(v=b,T=b[jn]||null)L=T.formAction;else if(cb(v)!==null)continue}else L=T.action;typeof L=="function"?c[m+1]=L:(c.splice(m,3),m-=3),wj(c)}}}function _j(){function i(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(T){return v=T})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),m||setTimeout(c,20)}function c(){if(!m&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,v=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){m=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function db(i){this._internalRoot=i}Gp.prototype.render=db.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var c=o.current,m=ha();hj(c,m,i,o,null,null)},Gp.prototype.unmount=db.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;hj(i.current,2,null,i,null,null),Tp(),o[Na]=null}};function Gp(i){this._internalRoot=i}Gp.prototype.unstable_scheduleHydration=function(i){if(i){var o=Hc();i={blockedOn:null,target:i,priority:o};for(var c=0;c<zo.length&&o!==0&&o<zo[c].priority;c++);zo.splice(c,0,i),c===0&&xj(i)}};var Ej=e.version;if(Ej!=="19.2.3")throw Error(r(527,Ej,"19.2.3"));Y.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(o),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var Cz={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yp.isDisabled&&Yp.supportsFiber)try{na=Yp.inject(Cz),Bn=Yp}catch{}}return Rf.createRoot=function(i,o){if(!a(i))throw Error(r(299));var c=!1,m="",v=kT,b=OT,T=PT;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError)),o=dj(i,1,!1,null,null,c,m,null,v,b,T,_j),i[Na]=o.current,Kx(i),new db(o)},Rf.hydrateRoot=function(i,o,c){if(!a(i))throw Error(r(299));var m=!1,v="",b=kT,T=OT,L=PT,G=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(T=c.onCaughtError),c.onRecoverableError!==void 0&&(L=c.onRecoverableError),c.formState!==void 0&&(G=c.formState)),o=dj(i,1,!0,o,c??null,m,v,G,b,T,L,_j),o.context=fj(null),c=o.current,m=ha(),m=ss(m),v=No(m),v.callback=null,Ao(c,v,m),c=m,o.current.lanes=c,as(o,c),Ui(o),i[Na]=o.current,Kx(i),new Gp(o)},Rf.version="19.2.3",Rf}var Dj;function $z(){if(Dj)return mb.exports;Dj=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),mb.exports=zz(),mb.exports}var Bz=$z();var Ij="popstate";function Fz(t={}){function e(a,s){let{pathname:l="/",search:u="",hash:f=""}=Pc(a.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),b1("",{pathname:l,search:u,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(a,s){let l=a.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let f=a.location.href,h=f.indexOf("#");u=h===-1?f:f.slice(0,h)}return u+"#"+(typeof s=="string"?s:fh(s))}function r(a,s){ba(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return Hz(e,n,r,t)}function an(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ba(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qz(){return Math.random().toString(36).substring(2,10)}function Rj(t,e){return{usr:t.state,key:t.key,idx:e}}function b1(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Pc(e):e,state:n,key:e&&e.key||r||qz()}}function fh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Pc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Hz(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:s=!1}=r,l=a.history,u="POP",f=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function g(){u="POP";let A=p(),j=A==null?null:A-h;h=A,f&&f({action:u,location:S.location,delta:j})}function x(A,j){u="PUSH";let I=b1(S.location,A,j);n&&n(I,A),h=p()+1;let P=Rj(I,h),H=S.createHref(I);try{l.pushState(P,"",H)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;a.location.assign(H)}s&&f&&f({action:u,location:S.location,delta:1})}function w(A,j){u="REPLACE";let I=b1(S.location,A,j);n&&n(I,A),h=p();let P=Rj(I,h),H=S.createHref(I);l.replaceState(P,"",H),s&&f&&f({action:u,location:S.location,delta:0})}function E(A){return Kz(A)}let S={get action(){return u},get location(){return t(a,l)},listen(A){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(Ij,g),f=A,()=>{a.removeEventListener(Ij,g),f=null}},createHref(A){return e(a,A)},createURL:E,encodeLocation(A){let j=E(A);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:x,replace:w,go(A){return l.go(A)}};return S}function Kz(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),an(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:fh(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function PR(t,e,n="/"){return Gz(t,e,n,!1)}function Gz(t,e,n,r){let a=typeof e=="string"?Pc(e):e,s=Us(a.pathname||"/",n);if(s==null)return null;let l=DR(t);Yz(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let h=i8(s);u=r8(l[f],h,r)}return u}function DR(t,e=[],n=[],r="",a=!1){let s=(l,u,f=a,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&f)return;an(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=Is([r,p.relativePath]),x=n.concat(p);l.children&&l.children.length>0&&(an(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),DR(l.children,e,x,g,f)),!(l.path==null&&!l.index)&&e.push({path:g,score:t8(g,l.index),routesMeta:x})};return t.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))s(l,u);else for(let f of IR(l.path))s(l,u,!0,f)}),e}function IR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return a?[s,""]:[s];let l=IR(r.join("/")),u=[];return u.push(...l.map(f=>f===""?s:[s,f].join("/"))),a&&u.push(...l),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function Yz(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:n8(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Wz=/^:[\w-]+$/,Xz=3,Qz=2,Zz=1,Jz=10,e8=-2,Mj=t=>t==="*";function t8(t,e){let n=t.split("/"),r=n.length;return n.some(Mj)&&(r+=e8),e&&(r+=Qz),n.filter(a=>!Mj(a)).reduce((a,s)=>a+(Wz.test(s)?Xz:s===""?Zz:Jz),r)}function n8(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function r8(t,e,n=!1){let{routesMeta:r}=t,a={},s="/",l=[];for(let u=0;u<r.length;++u){let f=r[u],h=u===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",g=Vg({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),x=f.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=Vg({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(a,g.params),l.push({params:a,pathname:Is([s,g.pathname]),pathnameBase:c8(Is([s,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(s=Is([s,g.pathnameBase]))}return l}function Vg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=a8(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let s=a[0],l=s.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:g},x)=>{if(p==="*"){let E=u[x]||"";l=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const w=u[x];return g&&!w?h[p]=void 0:h[p]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:l,pattern:t}}function a8(t,e=!1,n=!0){ba(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function i8(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ba(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Us(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var RR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,s8=t=>RR.test(t);function o8(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?Pc(t):t,s;if(n)if(s8(n))s=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),ba(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?s=Lj(n.substring(1),"/"):s=Lj(n,e)}else s=e;return{pathname:s,search:u8(r),hash:d8(a)}}function Lj(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function vb(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function l8(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function nE(t){let e=l8(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function rE(t,e,n,r=!1){let a;typeof t=="string"?a=Pc(t):(a={...t},an(!a.pathname||!a.pathname.includes("?"),vb("?","pathname","search",a)),an(!a.pathname||!a.pathname.includes("#"),vb("#","pathname","hash",a)),an(!a.search||!a.search.includes("#"),vb("#","search","hash",a)));let s=t===""||a.pathname==="",l=s?"/":a.pathname,u;if(l==null)u=n;else{let g=e.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),g-=1;a.pathname=x.join("/")}u=g>=0?e[g]:"/"}let f=o8(a,u),h=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var Is=t=>t.join("/").replace(/\/\/+/g,"/"),c8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),u8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,d8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,f8=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function h8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function m8(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var MR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function LR(t,e){let n=t;if(typeof n!="string"||!RR.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(MR)try{let s=new URL(window.location.href),l=n.startsWith("//")?new URL(s.protocol+n):new URL(n),u=Us(l.pathname,e);l.origin===s.origin&&u!=null?n=u+l.search+l.hash:a=!0}catch{ba(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var VR=["POST","PUT","PATCH","DELETE"];new Set(VR);var p8=["GET",...VR];new Set(p8);var hd=_.createContext(null);hd.displayName="DataRouter";var ev=_.createContext(null);ev.displayName="DataRouterState";var g8=_.createContext(!1),UR=_.createContext({isTransitioning:!1});UR.displayName="ViewTransition";var y8=_.createContext(new Map);y8.displayName="Fetchers";var v8=_.createContext(null);v8.displayName="Await";var _a=_.createContext(null);_a.displayName="Navigation";var Fh=_.createContext(null);Fh.displayName="Location";var bi=_.createContext({outlet:null,matches:[],isDataRoute:!1});bi.displayName="Route";var aE=_.createContext(null);aE.displayName="RouteError";var zR="REACT_ROUTER_ERROR",x8="REDIRECT",b8="ROUTE_ERROR_RESPONSE";function w8(t){if(t.startsWith(`${zR}:${x8}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function _8(t){if(t.startsWith(`${zR}:${b8}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new f8(e.status,e.statusText,e.data)}catch{}}function E8(t,{relative:e}={}){an(md(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=_.useContext(_a),{hash:a,pathname:s,search:l}=qh(t,{relative:e}),u=s;return n!=="/"&&(u=s==="/"?n:Is([n,s])),r.createHref({pathname:u,search:l,hash:a})}function md(){return _.useContext(Fh)!=null}function vl(){return an(md(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(Fh).location}var $R="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function BR(t){_.useContext(_a).static||_.useLayoutEffect(t)}function FR(){let{isDataRoute:t}=_.useContext(bi);return t?V8():S8()}function S8(){an(md(),"useNavigate() may be used only in the context of a <Router> component.");let t=_.useContext(hd),{basename:e,navigator:n}=_.useContext(_a),{matches:r}=_.useContext(bi),{pathname:a}=vl(),s=JSON.stringify(nE(r)),l=_.useRef(!1);return BR(()=>{l.current=!0}),_.useCallback((f,h={})=>{if(ba(l.current,$R),!l.current)return;if(typeof f=="number"){n.go(f);return}let p=rE(f,JSON.parse(s),a,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Is([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,s,a,t])}var N8=_.createContext(null);function A8(t){let e=_.useContext(bi).outlet;return _.useMemo(()=>e&&_.createElement(N8.Provider,{value:t},e),[e,t])}function qh(t,{relative:e}={}){let{matches:n}=_.useContext(bi),{pathname:r}=vl(),a=JSON.stringify(nE(n));return _.useMemo(()=>rE(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function T8(t,e){return qR(t,e)}function qR(t,e,n,r,a){an(md(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=_.useContext(_a),{matches:l}=_.useContext(bi),u=l[l.length-1],f=u?u.params:{},h=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let I=g&&g.path||"";KR(h,!g||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let x=vl(),w;if(e){let I=typeof e=="string"?Pc(e):e;an(p==="/"||I.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${I.pathname}" was given in the \`location\` prop.`),w=I}else w=x;let E=w.pathname||"/",S=E;if(p!=="/"){let I=p.replace(/^\//,"").split("/");S="/"+E.replace(/^\//,"").split("/").slice(I.length).join("/")}let A=PR(t,{pathname:S});ba(g||A!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),ba(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=P8(A&&A.map(I=>Object.assign({},I,{params:Object.assign({},f,I.params),pathname:Is([p,s.encodeLocation?s.encodeLocation(I.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?p:Is([p,s.encodeLocation?s.encodeLocation(I.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathnameBase])})),l,n,r,a);return e&&j?_.createElement(Fh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},j):j}function j8(){let t=L8(),e=h8(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:s},"ErrorBoundary")," or"," ",_.createElement("code",{style:s},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:a},n):null,l)}var C8=_.createElement(j8,null),HR=class extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=_8(t.digest);n&&(t=n)}let e=t!==void 0?_.createElement(bi.Provider,{value:this.props.routeContext},_.createElement(aE.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?_.createElement(k8,{error:t},e):e}};HR.contextType=g8;var xb=new WeakMap;function k8({children:t,error:e}){let{basename:n}=_.useContext(_a);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=w8(e.digest);if(r){let a=xb.get(e);if(a)throw a;let s=LR(r.location,n);if(MR&&!xb.get(e))if(s.isExternal||r.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:r.replace}));throw xb.set(e,l),l}return _.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return t}function O8({routeContext:t,match:e,children:n}){let r=_.useContext(hd);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),_.createElement(bi.Provider,{value:t},n)}function P8(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,l=n?.errors;if(l!=null){let p=s.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);an(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let u=!1,f=-1;if(n)for(let p=0;p<s.length;p++){let g=s[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:x,errors:w}=n,E=g.route.loader&&!x.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||E){u=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}let h=n&&r?(p,g)=>{r(p,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:m8(n.matches),errorInfo:g})}:void 0;return s.reduceRight((p,g,x)=>{let w,E=!1,S=null,A=null;n&&(w=l&&g.route.id?l[g.route.id]:void 0,S=g.route.errorElement||C8,u&&(f<0&&x===0?(KR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,A=null):f===x&&(E=!0,A=g.route.hydrateFallbackElement||null)));let j=e.concat(s.slice(0,x+1)),I=()=>{let P;return w?P=S:E?P=A:g.route.Component?P=_.createElement(g.route.Component,null):g.route.element?P=g.route.element:P=p,_.createElement(O8,{match:g,routeContext:{outlet:p,matches:j,isDataRoute:n!=null},children:P})};return n&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?_.createElement(HR,{location:n.location,revalidation:n.revalidation,component:S,error:w,children:I(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:h}):I()},null)}function iE(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function D8(t){let e=_.useContext(hd);return an(e,iE(t)),e}function I8(t){let e=_.useContext(ev);return an(e,iE(t)),e}function R8(t){let e=_.useContext(bi);return an(e,iE(t)),e}function sE(t){let e=R8(t),n=e.matches[e.matches.length-1];return an(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function M8(){return sE("useRouteId")}function L8(){let t=_.useContext(aE),e=I8("useRouteError"),n=sE("useRouteError");return t!==void 0?t:e.errors?.[n]}function V8(){let{router:t}=D8("useNavigate"),e=sE("useNavigate"),n=_.useRef(!1);return BR(()=>{n.current=!0}),_.useCallback(async(a,s={})=>{ba(n.current,$R),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...s}))},[t,e])}var Vj={};function KR(t,e,n){!e&&!Vj[t]&&(Vj[t]=!0,ba(!1,n))}_.memo(U8);function U8({routes:t,future:e,state:n,onError:r}){return qR(t,void 0,n,r,e)}function oE({to:t,replace:e,state:n,relative:r}){an(md(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=_.useContext(_a);ba(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=_.useContext(bi),{pathname:l}=vl(),u=FR(),f=rE(t,nE(s),l,r==="path"),h=JSON.stringify(f);return _.useEffect(()=>{u(JSON.parse(h),{replace:e,state:n,relative:r})},[u,h,r,e,n]),null}function z8(t){return A8(t.context)}function Kr(t){an(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $8({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:s=!1,unstable_useTransitions:l}){an(!md(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=_.useMemo(()=>({basename:u,navigator:a,static:s,unstable_useTransitions:l,future:{}}),[u,a,s,l]);typeof n=="string"&&(n=Pc(n));let{pathname:h="/",search:p="",hash:g="",state:x=null,key:w="default"}=n,E=_.useMemo(()=>{let S=Us(h,u);return S==null?null:{location:{pathname:S,search:p,hash:g,state:x,key:w},navigationType:r}},[u,h,p,g,x,w,r]);return ba(E!=null,`<Router basename="${u}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:_.createElement(_a.Provider,{value:f},_.createElement(Fh.Provider,{children:e,value:E}))}function B8({children:t,location:e}){return T8(w1(t),e)}function w1(t,e=[]){let n=[];return _.Children.forEach(t,(r,a)=>{if(!_.isValidElement(r))return;let s=[...e,a];if(r.type===_.Fragment){n.push.apply(n,w1(r.props.children,s));return}an(r.type===Kr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),an(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=w1(r.props.children,s)),n.push(l)}),n}var wg="get",_g="application/x-www-form-urlencoded";function tv(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function F8(t){return tv(t)&&t.tagName.toLowerCase()==="button"}function q8(t){return tv(t)&&t.tagName.toLowerCase()==="form"}function H8(t){return tv(t)&&t.tagName.toLowerCase()==="input"}function K8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function G8(t,e){return t.button===0&&(!e||e==="_self")&&!K8(t)}var Wp=null;function Y8(){if(Wp===null)try{new FormData(document.createElement("form"),0),Wp=!1}catch{Wp=!0}return Wp}var W8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bb(t){return t!=null&&!W8.has(t)?(ba(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_g}"`),null):t}function X8(t,e){let n,r,a,s,l;if(q8(t)){let u=t.getAttribute("action");r=u?Us(u,e):null,n=t.getAttribute("method")||wg,a=bb(t.getAttribute("enctype"))||_g,s=new FormData(t)}else if(F8(t)||H8(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||u.getAttribute("action");if(r=f?Us(f,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||wg,a=bb(t.getAttribute("formenctype"))||bb(u.getAttribute("enctype"))||_g,s=new FormData(u,t),!Y8()){let{name:h,type:p,value:g}=t;if(p==="image"){let x=h?`${h}.`:"";s.append(`${x}x`,"0"),s.append(`${x}y`,"0")}else h&&s.append(h,g)}}else{if(tv(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=wg,r=null,a=_g,l=t}return s&&a==="text/plain"&&(l=s,s=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function lE(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Q8(t,e,n,r){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${r}`:a.pathname=`${a.pathname}.${r}`:a.pathname==="/"?a.pathname=`_root.${r}`:e&&Us(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function Z8(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function J8(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function e$(t,e,n){let r=await Promise.all(t.map(async a=>{let s=e.routes[a.route.id];if(s){let l=await Z8(s,n);return l.links?l.links():[]}return[]}));return a$(r.flat(1).filter(J8).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Uj(t,e,n,r,a,s){let l=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,u=(f,h)=>n[h].pathname!==f.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==f.params["*"];return s==="assets"?e.filter((f,h)=>l(f,h)||u(f,h)):s==="data"?e.filter((f,h)=>{let p=r.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(l(f,h)||u(f,h))return!0;if(f.route.shouldRevalidate){let g=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function t$(t,e,{includeHydrateFallback:n}={}){return n$(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function n$(t){return[...new Set(t)]}function r$(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function a$(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let s=JSON.stringify(r$(a));return n.has(s)||(n.add(s),r.push({key:s,link:a})),r},[])}function GR(){let t=_.useContext(hd);return lE(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function i$(){let t=_.useContext(ev);return lE(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var cE=_.createContext(void 0);cE.displayName="FrameworkContext";function YR(){let t=_.useContext(cE);return lE(t,"You must render this element inside a <HydratedRouter> element"),t}function s$(t,e){let n=_.useContext(cE),[r,a]=_.useState(!1),[s,l]=_.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,x=_.useRef(null);_.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let S=j=>{j.forEach(I=>{l(I.isIntersecting)})},A=new IntersectionObserver(S,{threshold:.5});return x.current&&A.observe(x.current),()=>{A.disconnect()}}},[t]),_.useEffect(()=>{if(r){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[r]);let w=()=>{a(!0)},E=()=>{a(!1),l(!1)};return n?t!=="intent"?[s,x,{}]:[s,x,{onFocus:Mf(u,w),onBlur:Mf(f,E),onMouseEnter:Mf(h,w),onMouseLeave:Mf(p,E),onTouchStart:Mf(g,w)}]:[!1,x,{}]}function Mf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function o$({page:t,...e}){let{router:n}=GR(),r=_.useMemo(()=>PR(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?_.createElement(c$,{page:t,matches:r,...e}):null}function l$(t){let{manifest:e,routeModules:n}=YR(),[r,a]=_.useState([]);return _.useEffect(()=>{let s=!1;return e$(t,e,n).then(l=>{s||a(l)}),()=>{s=!0}},[t,e,n]),r}function c$({page:t,matches:e,...n}){let r=vl(),{future:a,manifest:s,routeModules:l}=YR(),{basename:u}=GR(),{loaderData:f,matches:h}=i$(),p=_.useMemo(()=>Uj(t,e,h,s,r,"data"),[t,e,h,s,r]),g=_.useMemo(()=>Uj(t,e,h,s,r,"assets"),[t,e,h,s,r]),x=_.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,A=!1;if(e.forEach(I=>{let P=s.routes[I.route.id];!P||!P.hasLoader||(!p.some(H=>H.route.id===I.route.id)&&I.route.id in f&&l[I.route.id]?.shouldRevalidate||P.hasClientLoader?A=!0:S.add(I.route.id))}),S.size===0)return[];let j=Q8(t,u,a.unstable_trailingSlashAwareDataRequests,"data");return A&&S.size>0&&j.searchParams.set("_routes",e.filter(I=>S.has(I.route.id)).map(I=>I.route.id).join(",")),[j.pathname+j.search]},[u,a.unstable_trailingSlashAwareDataRequests,f,r,s,p,e,t,l]),w=_.useMemo(()=>t$(g,s),[g,s]),E=l$(g);return _.createElement(_.Fragment,null,x.map(S=>_.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),w.map(S=>_.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),E.map(({key:S,link:A})=>_.createElement("link",{key:S,nonce:n.nonce,...A})))}function u$(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var d$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{d$&&(window.__reactRouterVersion="7.12.0")}catch{}function f$({basename:t,children:e,unstable_useTransitions:n,window:r}){let a=_.useRef();a.current==null&&(a.current=Fz({window:r,v5Compat:!0}));let s=a.current,[l,u]=_.useState({action:s.action,location:s.location}),f=_.useCallback(h=>{n===!1?u(h):_.startTransition(()=>u(h))},[n]);return _.useLayoutEffect(()=>s.listen(f),[s,f]),_.createElement($8,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:s,unstable_useTransitions:n})}var WR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gr=_.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:s,replace:l,state:u,target:f,to:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:x,...w},E){let{basename:S,unstable_useTransitions:A}=_.useContext(_a),j=typeof h=="string"&&WR.test(h),I=LR(h,S);h=I.to;let P=E8(h,{relative:a}),[H,R,F]=s$(r,w),k=p$(h,{replace:l,state:u,target:f,preventScrollReset:p,relative:a,viewTransition:g,unstable_defaultShouldRevalidate:x,unstable_useTransitions:A});function O(q){e&&e(q),q.defaultPrevented||k(q)}let D=_.createElement("a",{...w,...F,href:I.absoluteURL||P,onClick:I.isExternal||s?e:O,ref:u$(E,R),target:f,"data-discover":!j&&n==="render"?"true":void 0});return H&&!j?_.createElement(_.Fragment,null,D,_.createElement(o$,{page:P})):D});Gr.displayName="Link";var qn=_.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:s,to:l,viewTransition:u,children:f,...h},p){let g=qh(l,{relative:h.relative}),x=vl(),w=_.useContext(ev),{navigator:E,basename:S}=_.useContext(_a),A=w!=null&&b$(g)&&u===!0,j=E.encodeLocation?E.encodeLocation(g).pathname:g.pathname,I=x.pathname,P=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(I=I.toLowerCase(),P=P?P.toLowerCase():null,j=j.toLowerCase()),P&&S&&(P=Us(P,S)||P);const H=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let R=I===j||!a&&I.startsWith(j)&&I.charAt(H)==="/",F=P!=null&&(P===j||!a&&P.startsWith(j)&&P.charAt(j.length)==="/"),k={isActive:R,isPending:F,isTransitioning:A},O=R?e:void 0,D;typeof r=="function"?D=r(k):D=[r,R?"active":null,F?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let q=typeof s=="function"?s(k):s;return _.createElement(Gr,{...h,"aria-current":O,className:D,ref:p,style:q,to:l,viewTransition:u},typeof f=="function"?f(k):f)});qn.displayName="NavLink";var h$=_.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:s,method:l=wg,action:u,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:x,...w},E)=>{let{unstable_useTransitions:S}=_.useContext(_a),A=v$(),j=x$(u,{relative:h}),I=l.toLowerCase()==="get"?"get":"post",P=typeof u=="string"&&WR.test(u),H=R=>{if(f&&f(R),R.defaultPrevented)return;R.preventDefault();let F=R.nativeEvent.submitter,k=F?.getAttribute("formmethod")||l,O=()=>A(F||R.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:a,state:s,relative:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:x});S&&n!==!1?_.startTransition(()=>O()):O()};return _.createElement("form",{ref:E,method:I,action:j,onSubmit:r?f:H,...w,"data-discover":!P&&t==="render"?"true":void 0})});h$.displayName="Form";function m$(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XR(t){let e=_.useContext(hd);return an(e,m$(t)),e}function p$(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:u,unstable_useTransitions:f}={}){let h=FR(),p=vl(),g=qh(t,{relative:s});return _.useCallback(x=>{if(G8(x,e)){x.preventDefault();let w=n!==void 0?n:fh(p)===fh(g),E=()=>h(t,{replace:w,state:r,preventScrollReset:a,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:u});f?_.startTransition(()=>E()):E()}},[p,h,g,n,r,e,t,a,s,l,u,f])}var g$=0,y$=()=>`__${String(++g$)}__`;function v$(){let{router:t}=XR("useSubmit"),{basename:e}=_.useContext(_a),n=M8(),r=t.fetch,a=t.navigate;return _.useCallback(async(s,l={})=>{let{action:u,method:f,encType:h,formData:p,body:g}=X8(s,e);if(l.navigate===!1){let x=l.fetcherKey||y$();await r(x,n,l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||f,formEncType:l.encType||h,flushSync:l.flushSync})}else await a(l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||f,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,a,e,n])}function x$(t,{relative:e}={}){let{basename:n}=_.useContext(_a),r=_.useContext(bi);an(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),s={...qh(t||".",{relative:e})},l=vl();if(t==null){s.search=l.search;let u=new URLSearchParams(s.search),f=u.getAll("index");if(f.some(p=>p==="")){u.delete("index"),f.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();s.search=p?`?${p}`:""}}return(!t||t===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Is([n,s.pathname])),fh(s)}function b$(t,{relative:e}={}){let n=_.useContext(UR);an(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=XR("useViewTransitionState"),a=qh(t,{relative:e});if(!n.isTransitioning)return!1;let s=Us(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Us(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Vg(a.pathname,l)!=null||Vg(a.pathname,s)!=null}var uE=OR();const w$=()=>{};var zj={};const QR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},_$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const s=t[n++];e[r++]=String.fromCharCode((a&31)<<6|s&63)}else if(a>239&&a<365){const s=t[n++],l=t[n++],u=t[n++],f=((a&7)<<18|(s&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(s&63)<<6|l&63)}}return e.join("")},ZR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const s=t[a],l=a+1<t.length,u=l?t[a+1]:0,f=a+2<t.length,h=f?t[a+2]:0,p=s>>2,g=(s&3)<<4|u>>4;let x=(u&15)<<2|h>>6,w=h&63;f||(w=64,l||(x=64)),r.push(n[p],n[g],n[x],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const s=n[t.charAt(a++)],u=a<t.length?n[t.charAt(a)]:0;++a;const h=a<t.length?n[t.charAt(a)]:64;++a;const g=a<t.length?n[t.charAt(a)]:64;if(++a,s==null||u==null||h==null||g==null)throw new E$;const x=s<<2|u>>4;if(r.push(x),h!==64){const w=u<<4&240|h>>2;if(r.push(w),g!==64){const E=h<<6&192|g;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class E$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const S$=function(t){const e=QR(t);return ZR.encodeByteArray(e,!0)},Ug=function(t){return S$(t).replace(/\./g,"")},JR=function(t){try{return ZR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function N$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const A$=()=>N$().__FIREBASE_DEFAULTS__,T$=()=>{if(typeof process>"u"||typeof zj>"u")return;const t=zj.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},j$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&JR(t[1]);return e&&JSON.parse(e)},nv=()=>{try{return w$()||A$()||T$()||j$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},eM=t=>nv()?.emulatorHosts?.[t],C$=t=>{const e=eM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},tM=()=>nv()?.config,nM=t=>nv()?.[`_${t}`];class k${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function pd(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rM(t){return(await fetch(t,{credentials:"include"})).ok}function O$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ug(JSON.stringify(n)),Ug(JSON.stringify(l)),""].join(".")}const ih={};function P$(){const t={prod:[],emulator:[]};for(const e of Object.keys(ih))ih[e]?t.emulator.push(e):t.prod.push(e);return t}function D$(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let $j=!1;function aM(t,e){if(typeof window>"u"||typeof document>"u"||!pd(window.location.host)||ih[t]===e||ih[t]||$j)return;ih[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",s=P$().prod.length>0;function l(){const x=document.getElementById(r);x&&x.remove()}function u(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function f(x,w){x.setAttribute("width","24"),x.setAttribute("id",w),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function h(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{$j=!0,l()},x}function p(x,w){x.setAttribute("id",w),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function g(){const x=D$(r),w=n("text"),E=document.getElementById(w)||document.createElement("span"),S=n("learnmore"),A=document.getElementById(S)||document.createElement("a"),j=n("preprendIcon"),I=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const P=x.element;u(P),p(A,S);const H=h();f(I,j),P.append(I,E,A,H),document.body.appendChild(P)}s?(E.innerText="Preview backend disconnected.",I.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(I.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function Tr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function I$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tr())}function R$(){const t=nv()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function M$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function L$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function V$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function U$(){const t=Tr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function z$(){return!R$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $$(){try{return typeof indexedDB=="object"}catch{return!1}}function B$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const F$="FirebaseError";class eo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=F$,Object.setPrototypeOf(this,eo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hh.prototype.create)}}class Hh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,s=this.errors[e],l=s?q$(s,r):"Error",u=`${this.serviceName}: ${l} (${a}).`;return new eo(a,u,r)}}function q$(t,e){return t.replace(H$,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const H$=/\{\$([^}]+)}/g;function K$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function gc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const s=t[a],l=e[a];if(Bj(s)&&Bj(l)){if(!gc(s,l))return!1}else if(s!==l)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function Bj(t){return t!==null&&typeof t=="object"}function Kh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Xf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,s]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(s)}}),e}function Qf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function G$(t,e){const n=new Y$(t,e);return n.subscribe.bind(n)}class Y${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");W$(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=wb),a.error===void 0&&(a.error=wb),a.complete===void 0&&(a.complete=wb);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function W$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function wb(){}function $n(t){return t&&t._delegate?t._delegate:t}class yc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Jl="[DEFAULT]";let X$=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new k$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Z$(e))try{this.getOrInitializeService({instanceIdentifier:Jl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:a});r.resolve(s)}catch{}}}}clearInstance(e=Jl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Jl){return this.instances.has(e)}getOptions(e=Jl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&l.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const s=this.instances.get(r);return s&&e(s,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Q$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Jl){return this.component?this.component.multipleInstances?e:Jl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Q$(t){return t===Jl?void 0:t}function Z$(t){return t.instantiationMode==="EAGER"}class J${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new X$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ut;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ut||(ut={}));const eB={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},tB=ut.INFO,nB={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},rB=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=nB[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dE{constructor(e){this.name=e,this._logLevel=tB,this._logHandler=rB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...e),this._logHandler(this,ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...e),this._logHandler(this,ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ut.INFO,...e),this._logHandler(this,ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ut.WARN,...e),this._logHandler(this,ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...e),this._logHandler(this,ut.ERROR,...e)}}const aB=(t,e)=>e.some(n=>t instanceof n);let Fj,qj;function iB(){return Fj||(Fj=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sB(){return qj||(qj=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iM=new WeakMap,_1=new WeakMap,sM=new WeakMap,_b=new WeakMap,fE=new WeakMap;function oB(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(Jo(t.result)),a()},l=()=>{r(t.error),a()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&iM.set(n,t)}).catch(()=>{}),fE.set(e,t),e}function lB(t){if(_1.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),a()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});_1.set(t,e)}let E1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||sM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function cB(t){E1=t(E1)}function uB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Eb(this),e,...n);return sM.set(r,e.sort?e.sort():[e]),Jo(r)}:sB().includes(t)?function(...e){return t.apply(Eb(this),e),Jo(iM.get(this))}:function(...e){return Jo(t.apply(Eb(this),e))}}function dB(t){return typeof t=="function"?uB(t):(t instanceof IDBTransaction&&lB(t),aB(t,iB())?new Proxy(t,E1):t)}function Jo(t){if(t instanceof IDBRequest)return oB(t);if(_b.has(t))return _b.get(t);const e=dB(t);return e!==t&&(_b.set(t,e),fE.set(e,t)),e}const Eb=t=>fE.get(t);function fB(t,e,{blocked:n,upgrade:r,blocking:a,terminated:s}={}){const l=indexedDB.open(t,e),u=Jo(l);return r&&l.addEventListener("upgradeneeded",f=>{r(Jo(l.result),f.oldVersion,f.newVersion,Jo(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),u.then(f=>{s&&f.addEventListener("close",()=>s()),a&&f.addEventListener("versionchange",h=>a(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const hB=["get","getKey","getAll","getAllKeys","count"],mB=["put","add","delete","clear"],Sb=new Map;function Hj(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sb.get(e))return Sb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=mB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||hB.includes(n)))return;const s=async function(l,...u){const f=this.transaction(l,a?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),a&&f.done]))[0]};return Sb.set(e,s),s}cB(t=>({...t,get:(e,n,r)=>Hj(e,n)||t.get(e,n,r),has:(e,n)=>!!Hj(e,n)||t.has(e,n)}));class pB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function gB(t){return t.getComponent()?.type==="VERSION"}const S1="@firebase/app",Kj="0.14.6";const zs=new dE("@firebase/app"),yB="@firebase/app-compat",vB="@firebase/analytics-compat",xB="@firebase/analytics",bB="@firebase/app-check-compat",wB="@firebase/app-check",_B="@firebase/auth",EB="@firebase/auth-compat",SB="@firebase/database",NB="@firebase/data-connect",AB="@firebase/database-compat",TB="@firebase/functions",jB="@firebase/functions-compat",CB="@firebase/installations",kB="@firebase/installations-compat",OB="@firebase/messaging",PB="@firebase/messaging-compat",DB="@firebase/performance",IB="@firebase/performance-compat",RB="@firebase/remote-config",MB="@firebase/remote-config-compat",LB="@firebase/storage",VB="@firebase/storage-compat",UB="@firebase/firestore",zB="@firebase/ai",$B="@firebase/firestore-compat",BB="firebase",FB="12.6.0";const N1="[DEFAULT]",qB={[S1]:"fire-core",[yB]:"fire-core-compat",[xB]:"fire-analytics",[vB]:"fire-analytics-compat",[wB]:"fire-app-check",[bB]:"fire-app-check-compat",[_B]:"fire-auth",[EB]:"fire-auth-compat",[SB]:"fire-rtdb",[NB]:"fire-data-connect",[AB]:"fire-rtdb-compat",[TB]:"fire-fn",[jB]:"fire-fn-compat",[CB]:"fire-iid",[kB]:"fire-iid-compat",[OB]:"fire-fcm",[PB]:"fire-fcm-compat",[DB]:"fire-perf",[IB]:"fire-perf-compat",[RB]:"fire-rc",[MB]:"fire-rc-compat",[LB]:"fire-gcs",[VB]:"fire-gcs-compat",[UB]:"fire-fst",[$B]:"fire-fst-compat",[zB]:"fire-vertex","fire-js":"fire-js",[BB]:"fire-js-all"};const zg=new Map,HB=new Map,A1=new Map;function Gj(t,e){try{t.container.addComponent(e)}catch(n){zs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xu(t){const e=t.name;if(A1.has(e))return zs.debug(`There were multiple attempts to register component ${e}.`),!1;A1.set(e,t);for(const n of zg.values())Gj(n,t);for(const n of HB.values())Gj(n,t);return!0}function hE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Fa(t){return t==null?!1:t.settings!==void 0}const KB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},el=new Hh("app","Firebase",KB);class GB{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw el.create("app-deleted",{appName:this._name})}}const gd=FB;function oM(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:N1,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw el.create("bad-app-name",{appName:String(a)});if(n||(n=tM()),!n)throw el.create("no-options");const s=zg.get(a);if(s){if(gc(n,s.options)&&gc(r,s.config))return s;throw el.create("duplicate-app",{appName:a})}const l=new J$(a);for(const f of A1.values())l.addComponent(f);const u=new GB(n,r,l);return zg.set(a,u),u}function lM(t=N1){const e=zg.get(t);if(!e&&t===N1&&tM())return oM();if(!e)throw el.create("no-app",{appName:t});return e}function tl(t,e,n){let r=qB[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const l=[`Unable to register library "${r}" with version "${e}":`];a&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zs.warn(l.join(" "));return}Xu(new yc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const YB="firebase-heartbeat-database",WB=1,hh="firebase-heartbeat-store";let Nb=null;function cM(){return Nb||(Nb=fB(YB,WB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(hh)}catch(n){console.warn(n)}}}}).catch(t=>{throw el.create("idb-open",{originalErrorMessage:t.message})})),Nb}async function XB(t){try{const n=(await cM()).transaction(hh),r=await n.objectStore(hh).get(uM(t));return await n.done,r}catch(e){if(e instanceof eo)zs.warn(e.message);else{const n=el.create("idb-get",{originalErrorMessage:e?.message});zs.warn(n.message)}}}async function Yj(t,e){try{const r=(await cM()).transaction(hh,"readwrite");await r.objectStore(hh).put(e,uM(t)),await r.done}catch(n){if(n instanceof eo)zs.warn(n.message);else{const r=el.create("idb-set",{originalErrorMessage:n?.message});zs.warn(r.message)}}}function uM(t){return`${t.name}!${t.options.appId}`}const QB=1024,ZB=30;class JB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new t7(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Wj();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>ZB){const a=n7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){zs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Wj(),{heartbeatsToSend:n,unsentEntries:r}=e7(this._heartbeatsCache.heartbeats),a=Ug(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return zs.warn(e),""}}}function Wj(){return new Date().toISOString().substring(0,10)}function e7(t,e=QB){const n=[];let r=t.slice();for(const a of t){const s=n.find(l=>l.agent===a.agent);if(s){if(s.dates.push(a.date),Xj(n)>e){s.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Xj(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class t7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $$()?B$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await XB(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Yj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Yj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Xj(t){return Ug(JSON.stringify({version:2,heartbeats:t})).length}function n7(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function r7(t){Xu(new yc("platform-logger",e=>new pB(e),"PRIVATE")),Xu(new yc("heartbeat",e=>new JB(e),"PRIVATE")),tl(S1,Kj,t),tl(S1,Kj,"esm2020"),tl("fire-js","")}r7("");function dM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const a7=dM,fM=new Hh("auth","Firebase",dM());const $g=new dE("@firebase/auth");function i7(t,...e){$g.logLevel<=ut.WARN&&$g.warn(`Auth (${gd}): ${t}`,...e)}function Eg(t,...e){$g.logLevel<=ut.ERROR&&$g.error(`Auth (${gd}): ${t}`,...e)}function yi(t,...e){throw mE(t,...e)}function qi(t,...e){return mE(t,...e)}function hM(t,e,n){const r={...a7(),[e]:n};return new Hh("auth","Firebase",r).create(e,{appName:t.name})}function Rs(t){return hM(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return fM.create(t,...e)}function We(t,e,...n){if(!t)throw mE(e,...n)}function ks(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Eg(e),new Error(e)}function $s(t,e){t||ks(e)}function T1(){return typeof self<"u"&&self.location?.href||""}function s7(){return Qj()==="http:"||Qj()==="https:"}function Qj(){return typeof self<"u"&&self.location?.protocol||null}function o7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(s7()||L$()||"connection"in navigator)?navigator.onLine:!0}function l7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Gh{constructor(e,n){this.shortDelay=e,this.longDelay=n,$s(n>e,"Short delay should be less than long delay!"),this.isMobile=I$()||V$()}get(){return o7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pE(t,e){$s(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class mM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ks("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ks("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ks("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const c7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const u7=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],d7=new Gh(3e4,6e4);function xl(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function bl(t,e,n,r,a={}){return pM(t,a,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const u=Kh({key:t.config.apiKey,...l}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:f,...s};return M$()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&pd(t.emulatorConfig.host)&&(h.credentials="include"),mM.fetch()(await gM(t,t.config.apiHost,n,u),h)})}async function pM(t,e,n){t._canInitEmulator=!1;const r={...c7,...e};try{const a=new h7(t),s=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw Xp(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const u=s.ok?l.errorMessage:l.error.message,[f,h]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xp(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw Xp(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw Xp(t,"user-disabled",l);const p=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw hM(t,p,h);yi(t,p)}}catch(a){if(a instanceof eo)throw a;yi(t,"network-request-failed",{message:String(a)})}}async function Yh(t,e,n,r,a={}){const s=await bl(t,e,n,r,a);return"mfaPendingCredential"in s&&yi(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function gM(t,e,n,r){const a=`${e}${n}?${r}`,s=t,l=s.config.emulator?pE(t.config,a):`${t.config.apiScheme}://${a}`;return u7.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}function f7(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class h7{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(qi(this.auth,"network-request-failed")),d7.get())})}}function Xp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=qi(t,e,r);return a.customData._tokenResponse=n,a}function Zj(t){return t!==void 0&&t.enterprise!==void 0}class m7{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return f7(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function p7(t,e){return bl(t,"GET","/v2/recaptchaConfig",xl(t,e))}async function g7(t,e){return bl(t,"POST","/v1/accounts:delete",e)}async function Bg(t,e){return bl(t,"POST","/v1/accounts:lookup",e)}function sh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function y7(t,e=!1){const n=$n(t),r=await n.getIdToken(e),a=gE(r);We(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const s=typeof a.firebase=="object"?a.firebase:void 0,l=s?.sign_in_provider;return{claims:a,token:r,authTime:sh(Ab(a.auth_time)),issuedAtTime:sh(Ab(a.iat)),expirationTime:sh(Ab(a.exp)),signInProvider:l||null,signInSecondFactor:s?.sign_in_second_factor||null}}function Ab(t){return Number(t)*1e3}function gE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Eg("JWT malformed, contained fewer than 3 sections"),null;try{const a=JR(n);return a?JSON.parse(a):(Eg("Failed to decode base64 JWT payload"),null)}catch(a){return Eg("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Jj(t){const e=gE(t);return We(e,"internal-error"),We(typeof e.exp<"u","internal-error"),We(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function mh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof eo&&v7(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function v7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class x7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class j1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=sh(this.lastLoginAt),this.creationTime=sh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Fg(t){const e=t.auth,n=await t.getIdToken(),r=await mh(t,Bg(e,{idToken:n}));We(r?.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const s=a.providerUserInfo?.length?yM(a.providerUserInfo):[],l=w7(t.providerData,s),u=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!l?.length,h=u?f:!1,p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new j1(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function b7(t){const e=$n(t);await Fg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function w7(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function yM(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function _7(t,e){const n=await pM(t,{},async()=>{const r=Kh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:s}=t.config,l=await gM(t,a,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:r};return t.emulatorConfig&&pd(t.emulatorConfig.host)&&(f.credentials="include"),mM.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function E7(t,e){return bl(t,"POST","/v2/accounts:revokeToken",xl(t,e))}class Fu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){We(e.idToken,"internal-error"),We(typeof e.idToken<"u","internal-error"),We(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Jj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){We(e.length!==0,"internal-error");const n=Jj(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(We(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:s}=await _7(e,n);this.updateTokensAndExpiration(r,a,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:s}=n,l=new Fu;return r&&(We(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),a&&(We(typeof a=="string","internal-error",{appName:e}),l.accessToken=a),s&&(We(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fu,this.toJSON())}_performRefresh(){return ks("not implemented")}}function Bo(t,e){We(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class pi{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new x7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new j1(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await mh(this,this.stsTokenManager.getToken(this.auth,e));return We(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return y7(this,e)}reload(){return b7(this)}_assign(e){this!==e&&(We(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new pi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){We(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Fg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fa(this.auth.app))return Promise.reject(Rs(this.auth));const e=await this.getIdToken();return await mh(this,g7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,s=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,f=n._redirectEventId??void 0,h=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:x,isAnonymous:w,providerData:E,stsTokenManager:S}=n;We(g&&S,e,"internal-error");const A=Fu.fromJSON(this.name,S);We(typeof g=="string",e,"internal-error"),Bo(r,e.name),Bo(a,e.name),We(typeof x=="boolean",e,"internal-error"),We(typeof w=="boolean",e,"internal-error"),Bo(s,e.name),Bo(l,e.name),Bo(u,e.name),Bo(f,e.name),Bo(h,e.name),Bo(p,e.name);const j=new pi({uid:g,auth:e,email:a,emailVerified:x,displayName:r,isAnonymous:w,photoURL:l,phoneNumber:s,tenantId:u,stsTokenManager:A,createdAt:h,lastLoginAt:p});return E&&Array.isArray(E)&&(j.providerData=E.map(I=>({...I}))),f&&(j._redirectEventId=f),j}static async _fromIdTokenResponse(e,n,r=!1){const a=new Fu;a.updateFromServerResponse(n);const s=new pi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Fg(s),s}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];We(a.localId!==void 0,"internal-error");const s=a.providerUserInfo!==void 0?yM(a.providerUserInfo):[],l=!(a.email&&a.passwordHash)&&!s?.length,u=new Fu;u.updateFromIdToken(r);const f=new pi({uid:a.localId,auth:e,stsTokenManager:u,isAnonymous:l}),h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new j1(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!s?.length};return Object.assign(f,h),f}}const eC=new Map;function Os(t){$s(t instanceof Function,"Expected a class definition");let e=eC.get(t);return e?($s(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,eC.set(t,e),e)}class vM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}vM.type="NONE";const tC=vM;function Sg(t,e,n){return`firebase:${t}:${e}:${n}`}class qu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:s}=this.auth;this.fullUserKey=Sg(this.userKey,a.apiKey,s),this.fullPersistenceKey=Sg("persistence",a.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Bg(this.auth,{idToken:e}).catch(()=>{});return n?pi._fromGetAccountInfoResponse(this.auth,n,e):null}return pi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new qu(Os(tC),e,r);const a=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=a[0]||Os(tC);const l=Sg(r,e.config.apiKey,e.name);let u=null;for(const h of n)try{const p=await h._get(l);if(p){let g;if(typeof p=="string"){const x=await Bg(e,{idToken:p}).catch(()=>{});if(!x)break;g=await pi._fromGetAccountInfoResponse(e,x,p)}else g=pi._fromJSON(e,p);h!==s&&(u=g),s=h;break}}catch{}const f=a.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!f.length?new qu(s,e,r):(s=f[0],u&&await s._set(l,u.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(l)}catch{}})),new qu(s,e,r))}}function nC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_M(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(SM(e))return"Blackberry";if(NM(e))return"Webos";if(bM(e))return"Safari";if((e.includes("chrome/")||wM(e))&&!e.includes("edge/"))return"Chrome";if(EM(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function xM(t=Tr()){return/firefox\//i.test(t)}function bM(t=Tr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wM(t=Tr()){return/crios\//i.test(t)}function _M(t=Tr()){return/iemobile/i.test(t)}function EM(t=Tr()){return/android/i.test(t)}function SM(t=Tr()){return/blackberry/i.test(t)}function NM(t=Tr()){return/webos/i.test(t)}function yE(t=Tr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function S7(t=Tr()){return yE(t)&&!!window.navigator?.standalone}function N7(){return U$()&&document.documentMode===10}function AM(t=Tr()){return yE(t)||EM(t)||NM(t)||SM(t)||/windows phone/i.test(t)||_M(t)}function TM(t,e=[]){let n;switch(t){case"Browser":n=nC(Tr());break;case"Worker":n=`${nC(Tr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${gd}/${r}`}class A7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,u)=>{try{const f=e(s);l(f)}catch(f){u(f)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function T7(t,e={}){return bl(t,"GET","/v2/passwordPolicy",xl(t,e))}const j7=6;class C7{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??j7,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class k7{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rC(this),this.idTokenSubscription=new rC(this),this.beforeStateQueue=new A7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Os(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await qu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Bg(this,{idToken:e}),r=await pi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Fa(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===l)&&u?.user&&(r=u.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return We(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fg(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=l7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fa(this.app))return Promise.reject(Rs(this));const n=e?$n(e):null;return n&&We(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&We(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fa(this.app)?Promise.reject(Rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fa(this.app)?Promise.reject(Rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Os(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await T7(this),n=new C7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Hh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await E7(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Os(e)||this._popupRedirectResolver;We(n,this,"argument-error"),this.redirectPersistenceManager=await qu.create(this,[Os(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(We(u,this,"internal-error"),u.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,a);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return We(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Fa(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&i7(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Dc(t){return $n(t)}class rC{constructor(e){this.auth=e,this.observer=null,this.addObserver=G$(n=>this.observer=n)}get next(){return We(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let rv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function O7(t){rv=t}function jM(t){return rv.loadJS(t)}function P7(){return rv.recaptchaEnterpriseScript}function D7(){return rv.gapiScript}function I7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class R7{constructor(){this.enterprise=new M7}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class M7{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const L7="recaptcha-enterprise",CM="NO_RECAPTCHA";class V7{constructor(e){this.type=L7,this.auth=Dc(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,u)=>{p7(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new m7(f);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,l(h.siteKey)}}).catch(f=>{u(f)})})}function a(s,l,u){const f=window.grecaptcha;Zj(f)?f.enterprise.ready(()=>{f.enterprise.execute(s,{action:e}).then(h=>{l(h)}).catch(()=>{l(CM)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new R7().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{r(this.auth).then(u=>{if(!n&&Zj(window.grecaptcha))a(u,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=P7();f.length!==0&&(f+=u),jM(f).then(()=>{a(u,s,l)}).catch(h=>{l(h)})}}).catch(u=>{l(u)})})}}async function aC(t,e,n,r=!1,a=!1){const s=new V7(t);let l;if(a)l=CM;else try{l=await s.verify(n)}catch{l=await s.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function C1(t,e,n,r,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await aC(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await aC(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(s)})}function U7(t,e){const n=hE(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),s=n.getOptions();if(gc(s,e??{}))return a;yi(a,"already-initialized")}return n.initialize({options:e})}function z7(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Os);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function $7(t,e,n){const r=Dc(t);We(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,s=kM(e),{host:l,port:u}=B7(e),f=u===null?"":`:${u}`,h={url:`${s}//${l}${f}/`},p=Object.freeze({host:l,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){We(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),We(gc(h,r.config.emulator)&&gc(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,pd(l)?(rM(`${s}//${l}${f}`),aM("Auth",!0)):F7()}function kM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function B7(t){const e=kM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const s=a[1];return{host:s,port:iC(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:iC(l)}}}function iC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function F7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class vE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ks("not implemented")}_getIdTokenResponse(e){return ks("not implemented")}_linkToIdToken(e,n){return ks("not implemented")}_getReauthenticationResolver(e){return ks("not implemented")}}async function q7(t,e){return bl(t,"POST","/v1/accounts:signUp",e)}async function H7(t,e){return Yh(t,"POST","/v1/accounts:signInWithPassword",xl(t,e))}async function K7(t,e){return Yh(t,"POST","/v1/accounts:signInWithEmailLink",xl(t,e))}async function G7(t,e){return Yh(t,"POST","/v1/accounts:signInWithEmailLink",xl(t,e))}class ph extends vE{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new ph(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ph(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return C1(e,n,"signInWithPassword",H7);case"emailLink":return K7(e,{email:this._email,oobCode:this._password});default:yi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return C1(e,r,"signUpPassword",q7);case"emailLink":return G7(e,{idToken:n,email:this._email,oobCode:this._password});default:yi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Hu(t,e){return Yh(t,"POST","/v1/accounts:signInWithIdp",xl(t,e))}const Y7="http://localhost";class vc extends vE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new vc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):yi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...s}=n;if(!r||!a)return null;const l=new vc(r,a);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Hu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Hu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Hu(e,n)}buildRequest(){const e={requestUri:Y7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Kh(n)}return e}}function W7(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function X7(t){const e=Xf(Qf(t)).link,n=e?Xf(Qf(e)).deep_link_id:null,r=Xf(Qf(t)).deep_link_id;return(r?Xf(Qf(r)).link:null)||r||n||e||t}class xE{constructor(e){const n=Xf(Qf(e)),r=n.apiKey??null,a=n.oobCode??null,s=W7(n.mode??null);We(r&&a&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=X7(e);try{return new xE(n)}catch{return null}}}class yd{constructor(){this.providerId=yd.PROVIDER_ID}static credential(e,n){return ph._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=xE.parseLink(n);return We(r,"argument-error"),ph._fromEmailAndCode(e,r.code,r.tenantId)}}yd.PROVIDER_ID="password";yd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class OM{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Wh extends OM{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ko extends Wh{constructor(){super("facebook.com")}static credential(e){return vc._fromParams({providerId:Ko.PROVIDER_ID,signInMethod:Ko.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ko.credentialFromTaggedObject(e)}static credentialFromError(e){return Ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ko.credential(e.oauthAccessToken)}catch{return null}}}Ko.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ko.PROVIDER_ID="facebook.com";class Go extends Wh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return vc._fromParams({providerId:Go.PROVIDER_ID,signInMethod:Go.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Go.credentialFromTaggedObject(e)}static credentialFromError(e){return Go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Go.credential(n,r)}catch{return null}}}Go.GOOGLE_SIGN_IN_METHOD="google.com";Go.PROVIDER_ID="google.com";class Yo extends Wh{constructor(){super("github.com")}static credential(e){return vc._fromParams({providerId:Yo.PROVIDER_ID,signInMethod:Yo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yo.credentialFromTaggedObject(e)}static credentialFromError(e){return Yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yo.credential(e.oauthAccessToken)}catch{return null}}}Yo.GITHUB_SIGN_IN_METHOD="github.com";Yo.PROVIDER_ID="github.com";class Wo extends Wh{constructor(){super("twitter.com")}static credential(e,n){return vc._fromParams({providerId:Wo.PROVIDER_ID,signInMethod:Wo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wo.credentialFromTaggedObject(e)}static credentialFromError(e){return Wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Wo.credential(n,r)}catch{return null}}}Wo.TWITTER_SIGN_IN_METHOD="twitter.com";Wo.PROVIDER_ID="twitter.com";async function Q7(t,e){return Yh(t,"POST","/v1/accounts:signUp",xl(t,e))}class xc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const s=await pi._fromIdTokenResponse(e,r,a),l=sC(r);return new xc({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=sC(r);return new xc({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function sC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class qg extends eo{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,qg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new qg(e,n,r,a)}}function PM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?qg._fromErrorAndOperation(t,s,e,r):s})}async function Z7(t,e,n=!1){const r=await mh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xc._forOperation(t,"link",r)}async function J7(t,e,n=!1){const{auth:r}=t;if(Fa(r.app))return Promise.reject(Rs(r));const a="reauthenticate";try{const s=await mh(t,PM(r,a,e,t),n);We(s.idToken,r,"internal-error");const l=gE(s.idToken);We(l,r,"internal-error");const{sub:u}=l;return We(t.uid===u,r,"user-mismatch"),xc._forOperation(t,a,s)}catch(s){throw s?.code==="auth/user-not-found"&&yi(r,"user-mismatch"),s}}async function DM(t,e,n=!1){if(Fa(t.app))return Promise.reject(Rs(t));const r="signIn",a=await PM(t,r,e),s=await xc._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(s.user),s}async function eF(t,e){return DM(Dc(t),e)}async function IM(t){const e=Dc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function tF(t,e,n){if(Fa(t.app))return Promise.reject(Rs(t));const r=Dc(t),l=await C1(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Q7).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&IM(t),f}),u=await xc._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function nF(t,e,n){return Fa(t.app)?Promise.reject(Rs(t)):eF($n(t),yd.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&IM(t),r})}function rF(t,e,n,r){return $n(t).onIdTokenChanged(e,n,r)}function aF(t,e,n){return $n(t).beforeAuthStateChanged(e,n)}function iF(t,e,n,r){return $n(t).onAuthStateChanged(e,n,r)}function sF(t){return $n(t).signOut()}const Hg="__sak";class RM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hg,"1"),this.storage.removeItem(Hg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const oF=1e3,lF=10;class MM extends RM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);N7()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,lF):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},oF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}MM.type="LOCAL";const cF=MM;class LM extends RM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}LM.type="SESSION";const VM=LM;function uF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class av{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new av(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:s}=n.data,l=this.handlersMap[a];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const u=Array.from(l).map(async h=>h(n.origin,s)),f=await uF(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}av.receivers=[];function bE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class dF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let s,l;return new Promise((u,f)=>{const h=bE("",20);a.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:a,onMessage(g){const x=g;if(x.data.eventId===h)switch(x.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(x.data.response);break;default:clearTimeout(p),clearTimeout(s),f(new Error("invalid_response"));break}}},this.handlers.add(l),a.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[a.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function Hi(){return window}function fF(t){Hi().location.href=t}function UM(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function hF(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mF(){return navigator?.serviceWorker?.controller||null}function pF(){return UM()?self:null}const zM="firebaseLocalStorageDb",gF=1,Kg="firebaseLocalStorage",$M="fbase_key";class Xh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function iv(t,e){return t.transaction([Kg],e?"readwrite":"readonly").objectStore(Kg)}function yF(){const t=indexedDB.deleteDatabase(zM);return new Xh(t).toPromise()}function k1(){const t=indexedDB.open(zM,gF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Kg,{keyPath:$M})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Kg)?e(r):(r.close(),await yF(),e(await k1()))})})}async function oC(t,e,n){const r=iv(t,!0).put({[$M]:e,value:n});return new Xh(r).toPromise()}async function vF(t,e){const n=iv(t,!1).get(e),r=await new Xh(n).toPromise();return r===void 0?null:r.value}function lC(t,e){const n=iv(t,!0).delete(e);return new Xh(n).toPromise()}const xF=800,bF=3;class BM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await k1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>bF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=av._getInstance(pF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await hF(),!this.activeServiceWorker)return;this.sender=new dF(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await k1();return await oC(e,Hg,"1"),await lC(e,Hg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>oC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>vF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>lC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const s=iv(a,!1).getAll();return new Xh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:s}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(s)&&(this.notifyListeners(a,s),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BM.type="LOCAL";const wF=BM;new Gh(3e4,6e4);function _F(t,e){return e?Os(e):(We(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class wE extends vE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Hu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Hu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function EF(t){return DM(t.auth,new wE(t),t.bypassAuthState)}function SF(t){const{auth:e,user:n}=t;return We(n,e,"internal-error"),J7(n,new wE(t),t.bypassAuthState)}async function NF(t){const{auth:e,user:n}=t;return We(n,e,"internal-error"),Z7(n,new wE(t),t.bypassAuthState)}class FM{constructor(e,n,r,a,s=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:s,error:l,type:u}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return EF;case"linkViaPopup":case"linkViaRedirect":return NF;case"reauthViaPopup":case"reauthViaRedirect":return SF;default:yi(this.auth,"internal-error")}}resolve(e){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const AF=new Gh(2e3,1e4);class zu extends FM{constructor(e,n,r,a,s){super(e,n,a,s),this.provider=r,this.authWindow=null,this.pollId=null,zu.currentPopupAction&&zu.currentPopupAction.cancel(),zu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return We(e,this.auth,"internal-error"),e}async onExecution(){$s(this.filter.length===1,"Popup operations only handle one event");const e=bE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zu.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,AF.get())};e()}}zu.currentPopupAction=null;const TF="pendingRedirect",Ng=new Map;class jF extends FM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ng.get(this.auth._key());if(!e){try{const r=await CF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ng.set(this.auth._key(),e)}return this.bypassAuthState||Ng.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CF(t,e){const n=PF(e),r=OF(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function kF(t,e){Ng.set(t._key(),e)}function OF(t){return Os(t._redirectPersistence)}function PF(t){return Sg(TF,t.config.apiKey,t.name)}async function DF(t,e,n=!1){if(Fa(t.app))return Promise.reject(Rs(t));const r=Dc(t),a=_F(r,e),l=await new jF(r,a,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const IF=600*1e3;class RF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!MF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!qM(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(qi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=IF&&this.cachedEventUids.clear(),this.cachedEventUids.has(cC(e))}saveEventToCache(e){this.cachedEventUids.add(cC(e)),this.lastProcessedEventTime=Date.now()}}function cC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function qM({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function MF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qM(t);default:return!1}}async function LF(t,e={}){return bl(t,"GET","/v1/projects",e)}const VF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UF=/^https?/;async function zF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await LF(t);for(const n of e)try{if($F(n))return}catch{}yi(t,"unauthorized-domain")}function $F(t){const e=T1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!UF.test(n))return!1;if(VF.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const BF=new Gh(3e4,6e4);function uC(){const t=Hi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function FF(t){return new Promise((e,n)=>{function r(){uC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uC(),n(qi(t,"network-request-failed"))},timeout:BF.get()})}if(Hi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Hi().gapi?.load)r();else{const a=I7("iframefcb");return Hi()[a]=()=>{gapi.load?r():n(qi(t,"network-request-failed"))},jM(`${D7()}?onload=${a}`).catch(s=>n(s))}}).catch(e=>{throw Ag=null,e})}let Ag=null;function qF(t){return Ag=Ag||FF(t),Ag}const HF=new Gh(5e3,15e3),KF="__/auth/iframe",GF="emulator/auth/iframe",YF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XF(t){const e=t.config;We(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?pE(e,GF):`https://${t.config.authDomain}/${KF}`,r={apiKey:e.apiKey,appName:t.name,v:gd},a=WF.get(t.config.apiHost);a&&(r.eid=a);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Kh(r).slice(1)}`}async function QF(t){const e=await qF(t),n=Hi().gapi;return We(n,t,"internal-error"),e.open({where:document.body,url:XF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YF,dontclear:!0},r=>new Promise(async(a,s)=>{await r.restyle({setHideOnLeave:!1});const l=qi(t,"network-request-failed"),u=Hi().setTimeout(()=>{s(l)},HF.get());function f(){Hi().clearTimeout(u),a(r)}r.ping(f).then(f,()=>{s(l)})}))}const ZF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JF=500,eq=600,tq="_blank",nq="http://localhost";class dC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rq(t,e,n,r=JF,a=eq){const s=Math.max((window.screen.availHeight-a)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const f={...ZF,width:r.toString(),height:a.toString(),top:s,left:l},h=Tr().toLowerCase();n&&(u=wM(h)?tq:n),xM(h)&&(e=e||nq,f.scrollbars="yes");const p=Object.entries(f).reduce((x,[w,E])=>`${x}${w}=${E},`,"");if(S7(h)&&u!=="_self")return aq(e||"",u),new dC(null);const g=window.open(e||"",u,p);We(g,t,"popup-blocked");try{g.focus()}catch{}return new dC(g)}function aq(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const iq="__/auth/handler",sq="emulator/auth/handler",oq=encodeURIComponent("fac");async function fC(t,e,n,r,a,s){We(t.config.authDomain,t,"auth-domain-config-required"),We(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:gd,eventId:a};if(e instanceof OM){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",K$(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))l[p]=g}if(e instanceof Wh){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const f=await t._getAppCheckToken(),h=f?`#${oq}=${encodeURIComponent(f)}`:"";return`${lq(t)}?${Kh(u).slice(1)}${h}`}function lq({config:t}){return t.emulator?pE(t,sq):`https://${t.authDomain}/${iq}`}const Tb="webStorageSupport";class cq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VM,this._completeRedirectFn=DF,this._overrideRedirectResult=kF}async _openPopup(e,n,r,a){$s(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await fC(e,n,r,T1(),a);return rq(e,s,bE())}async _openRedirect(e,n,r,a){await this._originValidation(e);const s=await fC(e,n,r,T1(),a);return fF(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:s}=this.eventManagers[n];return a?Promise.resolve(a):($s(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await QF(e),r=new RF(e);return n.register("authEvent",a=>(We(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tb,{type:Tb},a=>{const s=a?.[0]?.[Tb];s!==void 0&&n(!!s),yi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=zF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return AM()||bM()||yE()}}const uq=cq;var hC="@firebase/auth",mC="1.12.0";class dq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){We(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function fq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hq(t){Xu(new yc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;We(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TM(t)},h=new k7(r,a,s,f);return z7(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xu(new yc("auth-internal",e=>{const n=Dc(e.getProvider("auth").getImmediate());return(r=>new dq(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),tl(hC,mC,fq(t)),tl(hC,mC,"esm2020")}const mq=300,pq=nM("authIdTokenMaxAge")||mq;let pC=null;const gq=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>pq)return;const a=n?.token;pC!==a&&(pC=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function yq(t=lM()){const e=hE(t,"auth");if(e.isInitialized())return e.getImmediate();const n=U7(t,{popupRedirectResolver:uq,persistence:[wF,cF,VM]}),r=nM("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=gq(s.toString());aF(n,l,()=>l(n.currentUser)),rF(n,u=>l(u))}}const a=eM("auth");return a&&$7(n,`http://${a}`),n}function vq(){return document.getElementsByTagName("head")?.[0]??document}O7({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const s=qi("internal-error");s.customData=a,n(s)},r.type="text/javascript",r.charset="UTF-8",vq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hq("Browser");var xq="firebase",bq="12.7.0";tl(xq,bq,"app");var gC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var nl,HM;(function(){var t;function e(k,O){function D(){}D.prototype=O.prototype,k.F=O.prototype,k.prototype=new D,k.prototype.constructor=k,k.D=function(q,M,U){for(var V=Array(arguments.length-2),we=2;we<arguments.length;we++)V[we-2]=arguments[we];return O.prototype[M].apply(q,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,O,D){D||(D=0);const q=Array(16);if(typeof O=="string")for(var M=0;M<16;++M)q[M]=O.charCodeAt(D++)|O.charCodeAt(D++)<<8|O.charCodeAt(D++)<<16|O.charCodeAt(D++)<<24;else for(M=0;M<16;++M)q[M]=O[D++]|O[D++]<<8|O[D++]<<16|O[D++]<<24;O=k.g[0],D=k.g[1],M=k.g[2];let U=k.g[3],V;V=O+(U^D&(M^U))+q[0]+3614090360&4294967295,O=D+(V<<7&4294967295|V>>>25),V=U+(M^O&(D^M))+q[1]+3905402710&4294967295,U=O+(V<<12&4294967295|V>>>20),V=M+(D^U&(O^D))+q[2]+606105819&4294967295,M=U+(V<<17&4294967295|V>>>15),V=D+(O^M&(U^O))+q[3]+3250441966&4294967295,D=M+(V<<22&4294967295|V>>>10),V=O+(U^D&(M^U))+q[4]+4118548399&4294967295,O=D+(V<<7&4294967295|V>>>25),V=U+(M^O&(D^M))+q[5]+1200080426&4294967295,U=O+(V<<12&4294967295|V>>>20),V=M+(D^U&(O^D))+q[6]+2821735955&4294967295,M=U+(V<<17&4294967295|V>>>15),V=D+(O^M&(U^O))+q[7]+4249261313&4294967295,D=M+(V<<22&4294967295|V>>>10),V=O+(U^D&(M^U))+q[8]+1770035416&4294967295,O=D+(V<<7&4294967295|V>>>25),V=U+(M^O&(D^M))+q[9]+2336552879&4294967295,U=O+(V<<12&4294967295|V>>>20),V=M+(D^U&(O^D))+q[10]+4294925233&4294967295,M=U+(V<<17&4294967295|V>>>15),V=D+(O^M&(U^O))+q[11]+2304563134&4294967295,D=M+(V<<22&4294967295|V>>>10),V=O+(U^D&(M^U))+q[12]+1804603682&4294967295,O=D+(V<<7&4294967295|V>>>25),V=U+(M^O&(D^M))+q[13]+4254626195&4294967295,U=O+(V<<12&4294967295|V>>>20),V=M+(D^U&(O^D))+q[14]+2792965006&4294967295,M=U+(V<<17&4294967295|V>>>15),V=D+(O^M&(U^O))+q[15]+1236535329&4294967295,D=M+(V<<22&4294967295|V>>>10),V=O+(M^U&(D^M))+q[1]+4129170786&4294967295,O=D+(V<<5&4294967295|V>>>27),V=U+(D^M&(O^D))+q[6]+3225465664&4294967295,U=O+(V<<9&4294967295|V>>>23),V=M+(O^D&(U^O))+q[11]+643717713&4294967295,M=U+(V<<14&4294967295|V>>>18),V=D+(U^O&(M^U))+q[0]+3921069994&4294967295,D=M+(V<<20&4294967295|V>>>12),V=O+(M^U&(D^M))+q[5]+3593408605&4294967295,O=D+(V<<5&4294967295|V>>>27),V=U+(D^M&(O^D))+q[10]+38016083&4294967295,U=O+(V<<9&4294967295|V>>>23),V=M+(O^D&(U^O))+q[15]+3634488961&4294967295,M=U+(V<<14&4294967295|V>>>18),V=D+(U^O&(M^U))+q[4]+3889429448&4294967295,D=M+(V<<20&4294967295|V>>>12),V=O+(M^U&(D^M))+q[9]+568446438&4294967295,O=D+(V<<5&4294967295|V>>>27),V=U+(D^M&(O^D))+q[14]+3275163606&4294967295,U=O+(V<<9&4294967295|V>>>23),V=M+(O^D&(U^O))+q[3]+4107603335&4294967295,M=U+(V<<14&4294967295|V>>>18),V=D+(U^O&(M^U))+q[8]+1163531501&4294967295,D=M+(V<<20&4294967295|V>>>12),V=O+(M^U&(D^M))+q[13]+2850285829&4294967295,O=D+(V<<5&4294967295|V>>>27),V=U+(D^M&(O^D))+q[2]+4243563512&4294967295,U=O+(V<<9&4294967295|V>>>23),V=M+(O^D&(U^O))+q[7]+1735328473&4294967295,M=U+(V<<14&4294967295|V>>>18),V=D+(U^O&(M^U))+q[12]+2368359562&4294967295,D=M+(V<<20&4294967295|V>>>12),V=O+(D^M^U)+q[5]+4294588738&4294967295,O=D+(V<<4&4294967295|V>>>28),V=U+(O^D^M)+q[8]+2272392833&4294967295,U=O+(V<<11&4294967295|V>>>21),V=M+(U^O^D)+q[11]+1839030562&4294967295,M=U+(V<<16&4294967295|V>>>16),V=D+(M^U^O)+q[14]+4259657740&4294967295,D=M+(V<<23&4294967295|V>>>9),V=O+(D^M^U)+q[1]+2763975236&4294967295,O=D+(V<<4&4294967295|V>>>28),V=U+(O^D^M)+q[4]+1272893353&4294967295,U=O+(V<<11&4294967295|V>>>21),V=M+(U^O^D)+q[7]+4139469664&4294967295,M=U+(V<<16&4294967295|V>>>16),V=D+(M^U^O)+q[10]+3200236656&4294967295,D=M+(V<<23&4294967295|V>>>9),V=O+(D^M^U)+q[13]+681279174&4294967295,O=D+(V<<4&4294967295|V>>>28),V=U+(O^D^M)+q[0]+3936430074&4294967295,U=O+(V<<11&4294967295|V>>>21),V=M+(U^O^D)+q[3]+3572445317&4294967295,M=U+(V<<16&4294967295|V>>>16),V=D+(M^U^O)+q[6]+76029189&4294967295,D=M+(V<<23&4294967295|V>>>9),V=O+(D^M^U)+q[9]+3654602809&4294967295,O=D+(V<<4&4294967295|V>>>28),V=U+(O^D^M)+q[12]+3873151461&4294967295,U=O+(V<<11&4294967295|V>>>21),V=M+(U^O^D)+q[15]+530742520&4294967295,M=U+(V<<16&4294967295|V>>>16),V=D+(M^U^O)+q[2]+3299628645&4294967295,D=M+(V<<23&4294967295|V>>>9),V=O+(M^(D|~U))+q[0]+4096336452&4294967295,O=D+(V<<6&4294967295|V>>>26),V=U+(D^(O|~M))+q[7]+1126891415&4294967295,U=O+(V<<10&4294967295|V>>>22),V=M+(O^(U|~D))+q[14]+2878612391&4294967295,M=U+(V<<15&4294967295|V>>>17),V=D+(U^(M|~O))+q[5]+4237533241&4294967295,D=M+(V<<21&4294967295|V>>>11),V=O+(M^(D|~U))+q[12]+1700485571&4294967295,O=D+(V<<6&4294967295|V>>>26),V=U+(D^(O|~M))+q[3]+2399980690&4294967295,U=O+(V<<10&4294967295|V>>>22),V=M+(O^(U|~D))+q[10]+4293915773&4294967295,M=U+(V<<15&4294967295|V>>>17),V=D+(U^(M|~O))+q[1]+2240044497&4294967295,D=M+(V<<21&4294967295|V>>>11),V=O+(M^(D|~U))+q[8]+1873313359&4294967295,O=D+(V<<6&4294967295|V>>>26),V=U+(D^(O|~M))+q[15]+4264355552&4294967295,U=O+(V<<10&4294967295|V>>>22),V=M+(O^(U|~D))+q[6]+2734768916&4294967295,M=U+(V<<15&4294967295|V>>>17),V=D+(U^(M|~O))+q[13]+1309151649&4294967295,D=M+(V<<21&4294967295|V>>>11),V=O+(M^(D|~U))+q[4]+4149444226&4294967295,O=D+(V<<6&4294967295|V>>>26),V=U+(D^(O|~M))+q[11]+3174756917&4294967295,U=O+(V<<10&4294967295|V>>>22),V=M+(O^(U|~D))+q[2]+718787259&4294967295,M=U+(V<<15&4294967295|V>>>17),V=D+(U^(M|~O))+q[9]+3951481745&4294967295,k.g[0]=k.g[0]+O&4294967295,k.g[1]=k.g[1]+(M+(V<<21&4294967295|V>>>11))&4294967295,k.g[2]=k.g[2]+M&4294967295,k.g[3]=k.g[3]+U&4294967295}r.prototype.v=function(k,O){O===void 0&&(O=k.length);const D=O-this.blockSize,q=this.C;let M=this.h,U=0;for(;U<O;){if(M==0)for(;U<=D;)a(this,k,U),U+=this.blockSize;if(typeof k=="string"){for(;U<O;)if(q[M++]=k.charCodeAt(U++),M==this.blockSize){a(this,q),M=0;break}}else for(;U<O;)if(q[M++]=k[U++],M==this.blockSize){a(this,q),M=0;break}}this.h=M,this.o+=O},r.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var O=1;O<k.length-8;++O)k[O]=0;O=this.o*8;for(var D=k.length-8;D<k.length;++D)k[D]=O&255,O/=256;for(this.v(k),k=Array(16),O=0,D=0;D<4;++D)for(let q=0;q<32;q+=8)k[O++]=this.g[D]>>>q&255;return k};function s(k,O){var D=u;return Object.prototype.hasOwnProperty.call(D,k)?D[k]:D[k]=O(k)}function l(k,O){this.h=O;const D=[];let q=!0;for(let M=k.length-1;M>=0;M--){const U=k[M]|0;q&&U==O||(D[M]=U,q=!1)}this.g=D}var u={};function f(k){return-128<=k&&k<128?s(k,function(O){return new l([O|0],O<0?-1:0)}):new l([k|0],k<0?-1:0)}function h(k){if(isNaN(k)||!isFinite(k))return g;if(k<0)return A(h(-k));const O=[];let D=1;for(let q=0;k>=D;q++)O[q]=k/D|0,D*=4294967296;return new l(O,0)}function p(k,O){if(k.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(k.charAt(0)=="-")return A(p(k.substring(1),O));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=h(Math.pow(O,8));let q=g;for(let U=0;U<k.length;U+=8){var M=Math.min(8,k.length-U);const V=parseInt(k.substring(U,U+M),O);M<8?(M=h(Math.pow(O,M)),q=q.j(M).add(h(V))):(q=q.j(D),q=q.add(h(V)))}return q}var g=f(0),x=f(1),w=f(16777216);t=l.prototype,t.m=function(){if(S(this))return-A(this).m();let k=0,O=1;for(let D=0;D<this.g.length;D++){const q=this.i(D);k+=(q>=0?q:4294967296+q)*O,O*=4294967296}return k},t.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(E(this))return"0";if(S(this))return"-"+A(this).toString(k);const O=h(Math.pow(k,6));var D=this;let q="";for(;;){const M=H(D,O).g;D=j(D,M.j(O));let U=((D.g.length>0?D.g[0]:D.h)>>>0).toString(k);if(D=M,E(D))return U+q;for(;U.length<6;)U="0"+U;q=U+q}},t.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function E(k){if(k.h!=0)return!1;for(let O=0;O<k.g.length;O++)if(k.g[O]!=0)return!1;return!0}function S(k){return k.h==-1}t.l=function(k){return k=j(this,k),S(k)?-1:E(k)?0:1};function A(k){const O=k.g.length,D=[];for(let q=0;q<O;q++)D[q]=~k.g[q];return new l(D,~k.h).add(x)}t.abs=function(){return S(this)?A(this):this},t.add=function(k){const O=Math.max(this.g.length,k.g.length),D=[];let q=0;for(let M=0;M<=O;M++){let U=q+(this.i(M)&65535)+(k.i(M)&65535),V=(U>>>16)+(this.i(M)>>>16)+(k.i(M)>>>16);q=V>>>16,U&=65535,V&=65535,D[M]=V<<16|U}return new l(D,D[D.length-1]&-2147483648?-1:0)};function j(k,O){return k.add(A(O))}t.j=function(k){if(E(this)||E(k))return g;if(S(this))return S(k)?A(this).j(A(k)):A(A(this).j(k));if(S(k))return A(this.j(A(k)));if(this.l(w)<0&&k.l(w)<0)return h(this.m()*k.m());const O=this.g.length+k.g.length,D=[];for(var q=0;q<2*O;q++)D[q]=0;for(q=0;q<this.g.length;q++)for(let M=0;M<k.g.length;M++){const U=this.i(q)>>>16,V=this.i(q)&65535,we=k.i(M)>>>16,Se=k.i(M)&65535;D[2*q+2*M]+=V*Se,I(D,2*q+2*M),D[2*q+2*M+1]+=U*Se,I(D,2*q+2*M+1),D[2*q+2*M+1]+=V*we,I(D,2*q+2*M+1),D[2*q+2*M+2]+=U*we,I(D,2*q+2*M+2)}for(k=0;k<O;k++)D[k]=D[2*k+1]<<16|D[2*k];for(k=O;k<2*O;k++)D[k]=0;return new l(D,0)};function I(k,O){for(;(k[O]&65535)!=k[O];)k[O+1]+=k[O]>>>16,k[O]&=65535,O++}function P(k,O){this.g=k,this.h=O}function H(k,O){if(E(O))throw Error("division by zero");if(E(k))return new P(g,g);if(S(k))return O=H(A(k),O),new P(A(O.g),A(O.h));if(S(O))return O=H(k,A(O)),new P(A(O.g),O.h);if(k.g.length>30){if(S(k)||S(O))throw Error("slowDivide_ only works with positive integers.");for(var D=x,q=O;q.l(k)<=0;)D=R(D),q=R(q);var M=F(D,1),U=F(q,1);for(q=F(q,2),D=F(D,2);!E(q);){var V=U.add(q);V.l(k)<=0&&(M=M.add(D),U=V),q=F(q,1),D=F(D,1)}return O=j(k,M.j(O)),new P(M,O)}for(M=g;k.l(O)>=0;){for(D=Math.max(1,Math.floor(k.m()/O.m())),q=Math.ceil(Math.log(D)/Math.LN2),q=q<=48?1:Math.pow(2,q-48),U=h(D),V=U.j(O);S(V)||V.l(k)>0;)D-=q,U=h(D),V=U.j(O);E(U)&&(U=x),M=M.add(U),k=j(k,V)}return new P(M,k)}t.B=function(k){return H(this,k).h},t.and=function(k){const O=Math.max(this.g.length,k.g.length),D=[];for(let q=0;q<O;q++)D[q]=this.i(q)&k.i(q);return new l(D,this.h&k.h)},t.or=function(k){const O=Math.max(this.g.length,k.g.length),D=[];for(let q=0;q<O;q++)D[q]=this.i(q)|k.i(q);return new l(D,this.h|k.h)},t.xor=function(k){const O=Math.max(this.g.length,k.g.length),D=[];for(let q=0;q<O;q++)D[q]=this.i(q)^k.i(q);return new l(D,this.h^k.h)};function R(k){const O=k.g.length+1,D=[];for(let q=0;q<O;q++)D[q]=k.i(q)<<1|k.i(q-1)>>>31;return new l(D,k.h)}function F(k,O){const D=O>>5;O%=32;const q=k.g.length-D,M=[];for(let U=0;U<q;U++)M[U]=O>0?k.i(U+D)>>>O|k.i(U+D+1)<<32-O:k.i(U+D);return new l(M,k.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,HM=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,nl=l}).apply(typeof gC<"u"?gC:typeof self<"u"?self:typeof window<"u"?window:{});var Qp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var KM,Zf,GM,Tg,O1,YM,WM,XM;(function(){var t,e=Object.defineProperty;function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qp=="object"&&Qp];for(var N=0;N<y.length;++N){var C=y[N];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function a(y,N){if(N)e:{var C=r;y=y.split(".");for(var B=0;B<y.length-1;B++){var ae=y[B];if(!(ae in C))break e;C=C[ae]}y=y[y.length-1],B=C[y],N=N(B),N!=B&&N!=null&&e(C,y,{configurable:!0,writable:!0,value:N})}}a("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(y){return y||function(N){var C=[],B;for(B in N)Object.prototype.hasOwnProperty.call(N,B)&&C.push([B,N[B]]);return C}});var s=s||{},l=this||self;function u(y){var N=typeof y;return N=="object"&&y!=null||N=="function"}function f(y,N,C){return y.call.apply(y.bind,arguments)}function h(y,N,C){return h=f,h.apply(null,arguments)}function p(y,N){var C=Array.prototype.slice.call(arguments,1);return function(){var B=C.slice();return B.push.apply(B,arguments),y.apply(this,B)}}function g(y,N){function C(){}C.prototype=N.prototype,y.Z=N.prototype,y.prototype=new C,y.prototype.constructor=y,y.Ob=function(B,ae,de){for(var Ae=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)Ae[tt-2]=arguments[tt];return N.prototype[ae].apply(B,Ae)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function w(y){const N=y.length;if(N>0){const C=Array(N);for(let B=0;B<N;B++)C[B]=y[B];return C}return[]}function E(y,N){for(let B=1;B<arguments.length;B++){const ae=arguments[B];var C=typeof ae;if(C=C!="object"?C:ae?Array.isArray(ae)?"array":C:"null",C=="array"||C=="object"&&typeof ae.length=="number"){C=y.length||0;const de=ae.length||0;y.length=C+de;for(let Ae=0;Ae<de;Ae++)y[C+Ae]=ae[Ae]}else y.push(ae)}}class S{constructor(N,C){this.i=N,this.j=C,this.h=0,this.g=null}get(){let N;return this.h>0?(this.h--,N=this.g,this.g=N.next,N.next=null):N=this.i(),N}}function A(y){l.setTimeout(()=>{throw y},0)}function j(){var y=k;let N=null;return y.g&&(N=y.g,y.g=y.g.next,y.g||(y.h=null),N.next=null),N}class I{constructor(){this.h=this.g=null}add(N,C){const B=P.get();B.set(N,C),this.h?this.h.next=B:this.g=B,this.h=B}}var P=new S(()=>new H,y=>y.reset());class H{constructor(){this.next=this.g=this.h=null}set(N,C){this.h=N,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let R,F=!1,k=new I,O=()=>{const y=Promise.resolve(void 0);R=()=>{y.then(D)}};function D(){for(var y;y=j();){try{y.h.call(y.g)}catch(C){A(C)}var N=P;N.j(y),N.h<100&&(N.h++,y.next=N.g,N.g=y)}F=!1}function q(){this.u=this.u,this.C=this.C}q.prototype.u=!1,q.prototype.dispose=function(){this.u||(this.u=!0,this.N())},q.prototype[Symbol.dispose]=function(){this.dispose()},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(y,N){this.type=y,this.g=this.target=N,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var y=!1,N=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const C=()=>{};l.addEventListener("test",C,N),l.removeEventListener("test",C,N)}catch{}return y})();function V(y){return/^[\s\xa0]*$/.test(y)}function we(y,N){M.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,N)}g(we,M),we.prototype.init=function(y,N){const C=this.type=y.type,B=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=N,N=y.relatedTarget,N||(C=="mouseover"?N=y.fromElement:C=="mouseout"&&(N=y.toElement)),this.relatedTarget=N,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&we.Z.h.call(this)},we.prototype.h=function(){we.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var Se="closure_listenable_"+(Math.random()*1e6|0),Z=0;function Y(y,N,C,B,ae){this.listener=y,this.proxy=null,this.src=N,this.type=C,this.capture=!!B,this.ha=ae,this.key=++Z,this.da=this.fa=!1}function J(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function he(y,N,C){for(const B in y)N.call(C,y[B],B,y)}function Te(y,N){for(const C in y)N.call(void 0,y[C],C,y)}function $(y){const N={};for(const C in y)N[C]=y[C];return N}const z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(y,N){let C,B;for(let ae=1;ae<arguments.length;ae++){B=arguments[ae];for(C in B)y[C]=B[C];for(let de=0;de<z.length;de++)C=z[de],Object.prototype.hasOwnProperty.call(B,C)&&(y[C]=B[C])}}function re(y){this.src=y,this.g={},this.h=0}re.prototype.add=function(y,N,C,B,ae){const de=y.toString();y=this.g[de],y||(y=this.g[de]=[],this.h++);const Ae=Ee(y,N,B,ae);return Ae>-1?(N=y[Ae],C||(N.fa=!1)):(N=new Y(N,this.src,de,!!B,ae),N.fa=C,y.push(N)),N};function ge(y,N){const C=N.type;if(C in y.g){var B=y.g[C],ae=Array.prototype.indexOf.call(B,N,void 0),de;(de=ae>=0)&&Array.prototype.splice.call(B,ae,1),de&&(J(N),y.g[C].length==0&&(delete y.g[C],y.h--))}}function Ee(y,N,C,B){for(let ae=0;ae<y.length;++ae){const de=y[ae];if(!de.da&&de.listener==N&&de.capture==!!C&&de.ha==B)return ae}return-1}var ne="closure_lm_"+(Math.random()*1e6|0),Pe={};function le(y,N,C,B,ae){if(Array.isArray(N)){for(let de=0;de<N.length;de++)le(y,N[de],C,B,ae);return null}return C=Tn(C),y&&y[Se]?y.J(N,C,u(B)?!!B.capture:!1,ae):je(y,N,C,!1,B,ae)}function je(y,N,C,B,ae,de){if(!N)throw Error("Invalid event type");const Ae=u(ae)?!!ae.capture:!!ae;let tt=at(y);if(tt||(y[ne]=tt=new re(y)),C=tt.add(N,C,B,Ae,de),C.proxy)return C;if(B=Le(),C.proxy=B,B.src=y,B.listener=C,y.addEventListener)U||(ae=Ae),ae===void 0&&(ae=!1),y.addEventListener(N.toString(),B,ae);else if(y.attachEvent)y.attachEvent(ke(N.toString()),B);else if(y.addListener&&y.removeListener)y.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Le(){function y(C){return N.call(y.src,y.listener,C)}const N=Qe;return y}function X(y,N,C,B,ae){if(Array.isArray(N))for(var de=0;de<N.length;de++)X(y,N[de],C,B,ae);else B=u(B)?!!B.capture:!!B,C=Tn(C),y&&y[Se]?(y=y.i,de=String(N).toString(),de in y.g&&(N=y.g[de],C=Ee(N,C,B,ae),C>-1&&(J(N[C]),Array.prototype.splice.call(N,C,1),N.length==0&&(delete y.g[de],y.h--)))):y&&(y=at(y))&&(N=y.g[N.toString()],y=-1,N&&(y=Ee(N,C,B,ae)),(C=y>-1?N[y]:null)&&Oe(C))}function Oe(y){if(typeof y!="number"&&y&&!y.da){var N=y.src;if(N&&N[Se])ge(N.i,y);else{var C=y.type,B=y.proxy;N.removeEventListener?N.removeEventListener(C,B,y.capture):N.detachEvent?N.detachEvent(ke(C),B):N.addListener&&N.removeListener&&N.removeListener(B),(C=at(N))?(ge(C,y),C.h==0&&(C.src=null,N[ne]=null)):J(y)}}}function ke(y){return y in Pe?Pe[y]:Pe[y]="on"+y}function Qe(y,N){if(y.da)y=!0;else{N=new we(N,this);const C=y.listener,B=y.ha||y.src;y.fa&&Oe(y),y=C.call(B,N)}return y}function at(y){return y=y[ne],y instanceof re?y:null}var Gt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Tn(y){return typeof y=="function"?y:(y[Gt]||(y[Gt]=function(N){return y.handleEvent(N)}),y[Gt])}function Nt(){q.call(this),this.i=new re(this),this.M=this,this.G=null}g(Nt,q),Nt.prototype[Se]=!0,Nt.prototype.removeEventListener=function(y,N,C,B){X(this,y,N,C,B)};function Ft(y,N){var C,B=y.G;if(B)for(C=[];B;B=B.G)C.push(B);if(y=y.M,B=N.type||N,typeof N=="string")N=new M(N,y);else if(N instanceof M)N.target=N.target||y;else{var ae=N;N=new M(B,y),K(N,ae)}ae=!0;let de,Ae;if(C)for(Ae=C.length-1;Ae>=0;Ae--)de=N.g=C[Ae],ae=ee(de,B,!0,N)&&ae;if(de=N.g=y,ae=ee(de,B,!0,N)&&ae,ae=ee(de,B,!1,N)&&ae,C)for(Ae=0;Ae<C.length;Ae++)de=N.g=C[Ae],ae=ee(de,B,!1,N)&&ae}Nt.prototype.N=function(){if(Nt.Z.N.call(this),this.i){var y=this.i;for(const N in y.g){const C=y.g[N];for(let B=0;B<C.length;B++)J(C[B]);delete y.g[N],y.h--}}this.G=null},Nt.prototype.J=function(y,N,C,B){return this.i.add(String(y),N,!1,C,B)},Nt.prototype.K=function(y,N,C,B){return this.i.add(String(y),N,!0,C,B)};function ee(y,N,C,B){if(N=y.i.g[String(N)],!N)return!0;N=N.concat();let ae=!0;for(let de=0;de<N.length;++de){const Ae=N[de];if(Ae&&!Ae.da&&Ae.capture==C){const tt=Ae.listener,xn=Ae.ha||Ae.src;Ae.fa&&ge(y.i,Ae),ae=tt.call(xn,B)!==!1&&ae}}return ae&&!B.defaultPrevented}function W(y,N){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=h(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(N)>2147483647?-1:l.setTimeout(y,N||0)}function Ne(y){y.g=W(()=>{y.g=null,y.i&&(y.i=!1,Ne(y))},y.l);const N=y.h;y.h=null,y.m.apply(null,N)}class Fe extends q{constructor(N,C){super(),this.m=N,this.l=C,this.h=null,this.i=!1,this.g=null}j(N){this.h=arguments,this.g?this.i=!0:Ne(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vt(y){q.call(this),this.h=y,this.g={}}g(vt,q);var ln=[];function ta(y){he(y.g,function(N,C){this.g.hasOwnProperty(C)&&Oe(N)},y),y.g={}}vt.prototype.N=function(){vt.Z.N.call(this),ta(this)},vt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _i=l.JSON.stringify,Dd=l.JSON.parse,$c=class{stringify(y){return l.JSON.stringify(y,void 0)}parse(y){return l.JSON.parse(y,void 0)}};function Bc(){}function Fc(){}var na={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bn(){M.call(this,"d")}g(Bn,M);function Vr(){M.call(this,"c")}g(Vr,M);var cn={},qc=null;function lo(){return qc=qc||new Nt}cn.Ia="serverreachability";function me(y){M.call(this,cn.Ia,y)}g(me,M);function ue(y){const N=lo();Ft(N,new me(N))}cn.STAT_EVENT="statevent";function xe(y,N){M.call(this,cn.STAT_EVENT,y),this.stat=N}g(xe,M);function Ue(y){const N=lo();Ft(N,new xe(N,y))}cn.Ja="timingevent";function ot(y,N){M.call(this,cn.Ja,y),this.size=N}g(ot,M);function mt(y,N){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){y()},N)}function Pt(){this.g=!0}Pt.prototype.ua=function(){this.g=!1};function Ei(y,N,C,B,ae,de){y.info(function(){if(y.g)if(de){var Ae="",tt=de.split("&");for(let Et=0;Et<tt.length;Et++){var xn=tt[Et].split("=");if(xn.length>1){const Jt=xn[0];xn=xn[1];const Ca=Jt.split("_");Ae=Ca.length>=2&&Ca[1]=="type"?Ae+(Jt+"="+xn+"&"):Ae+(Jt+"=redacted&")}}}else Ae=null;else Ae=de;return"XMLHTTP REQ ("+B+") [attempt "+ae+"]: "+N+`
`+C+`
`+Ae})}function Si(y,N,C,B,ae,de,Ae){y.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+ae+"]: "+N+`
`+C+`
`+de+" "+Ae})}function Sa(y,N,C,B){y.info(function(){return"XMLHTTP TEXT ("+N+"): "+Id(y,C)+(B?" "+B:"")})}function as(y,N){y.info(function(){return"TIMEOUT: "+N})}Pt.prototype.info=function(){};function Id(y,N){if(!y.g)return N;if(!N)return null;try{const de=JSON.parse(N);if(de){for(y=0;y<de.length;y++)if(Array.isArray(de[y])){var C=de[y];if(!(C.length<2)){var B=C[1];if(Array.isArray(B)&&!(B.length<1)){var ae=B[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(let Ae=1;Ae<B.length;Ae++)B[Ae]=""}}}}return _i(de)}catch{return N}}var is={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Tl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},jl;function ss(){}g(ss,Bc),ss.prototype.g=function(){return new XMLHttpRequest},jl=new ss;function ei(y){return encodeURIComponent(String(y))}function Hc(y){var N=1;y=y.split(":");const C=[];for(;N>0&&y.length;)C.push(y.shift()),N--;return y.length&&C.push(y.join(":")),C}function ra(y,N,C,B){this.j=y,this.i=N,this.l=C,this.S=B||1,this.V=new vt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new aa}function aa(){this.i=null,this.g="",this.h=!1}var hn={},jn={};function Na(y,N,C){y.M=1,y.A=Cl(On(N)),y.u=C,y.R=!0,co(y,null)}function co(y,N){y.F=Date.now(),He(y),y.B=On(y.A);var C=y.B,B=y.S;Array.isArray(B)||(B=[String(B)]),Yc(C.i,"t",B),y.C=0,C=y.j.L,y.h=new aa,y.g=Bm(y.j,C?N:null,!y.u),y.P>0&&(y.O=new Fe(h(y.Y,y,y.g),y.P)),N=y.V,C=y.g,B=y.ba;var ae="readystatechange";Array.isArray(ae)||(ae&&(ln[0]=ae.toString()),ae=ln);for(let de=0;de<ae.length;de++){const Ae=le(C,ae[de],B||N.handleEvent,!1,N.h||N);if(!Ae)break;N.g[Ae.key]=Ae}N=y.J?$(y.J):{},y.u?(y.v||(y.v="POST"),N["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,N)):(y.v="GET",y.g.ea(y.B,y.v,null,N)),ue(),Ei(y.i,y.v,y.B,y.l,y.S,y.u)}ra.prototype.ba=function(y){y=y.target;const N=this.O;N&&ri(y)==3?N.j():this.Y(y)},ra.prototype.Y=function(y){try{if(y==this.g)e:{const tt=ri(this.g),xn=this.g.ya(),Et=this.g.ca();if(!(tt<3)&&(tt!=3||this.g&&(this.h.h||this.g.la()||ur(this.g)))){this.K||tt!=4||xn==7||(xn==8||Et<=0?ue(3):ue(2)),Ni(this);var N=this.g.ca();this.X=N;var C=Rd(this);if(this.o=N==200,Si(this.i,this.v,this.B,this.l,this.S,tt,N),this.o){if(this.U&&!this.L){t:{if(this.g){var B,ae=this.g;if((B=ae.g?ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(B)){var de=B;break t}}de=null}if(y=de)Sa(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ai(this,y);else{this.o=!1,this.m=3,Ue(12),ia(this),Aa(this);break e}}if(this.R){y=!0;let Jt;for(;!this.K&&this.C<C.length;)if(Jt=pt(this,C),Jt==jn){tt==4&&(this.m=4,Ue(14),y=!1),Sa(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==hn){this.m=4,Ue(15),Sa(this.i,this.l,C,"[Invalid Chunk]"),y=!1;break}else Sa(this.i,this.l,Jt,null),Ai(this,Jt);if(zt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tt!=4||C.length!=0||this.h.h||(this.m=1,Ue(16),y=!1),this.o=this.o&&y,!y)Sa(this.i,this.l,C,"[Invalid Chunked Response]"),ia(this),Aa(this);else if(C.length>0&&!this.W){this.W=!0;var Ae=this.j;Ae.g==this&&Ae.aa&&!Ae.P&&(Ae.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),Xd(Ae),Ae.P=!0,Ue(11))}}else Sa(this.i,this.l,C,null),Ai(this,C);tt==4&&ia(this),this.o&&!this.K&&(tt==4?Vm(this.j,this):(this.o=!1,He(this)))}else ls(this.g),N==400&&C.indexOf("Unknown SID")>0?(this.m=3,Ue(12)):(this.m=0,Ue(13)),ia(this),Aa(this)}}}catch{}};function Rd(y){if(!zt(y))return y.g.la();const N=ur(y.g);if(N==="")return"";let C="";const B=N.length,ae=ri(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return ia(y),Aa(y),"";y.h.i=new l.TextDecoder}for(let de=0;de<B;de++)y.h.h=!0,C+=y.h.i.decode(N[de],{stream:!(ae&&de==B-1)});return N.length=0,y.h.g+=C,y.C=0,y.h.g}function zt(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function pt(y,N){var C=y.C,B=N.indexOf(`
`,C);return B==-1?jn:(C=Number(N.substring(C,B)),isNaN(C)?hn:(B+=1,B+C>N.length?jn:(N=N.slice(B,B+C),y.C=B+C,N)))}ra.prototype.cancel=function(){this.K=!0,ia(this)};function He(y){y.T=Date.now()+y.H,Cn(y,y.H)}function Cn(y,N){if(y.D!=null)throw Error("WatchDog timer not null");y.D=mt(h(y.aa,y),N)}function Ni(y){y.D&&(l.clearTimeout(y.D),y.D=null)}ra.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(as(this.i,this.B),this.M!=2&&(ue(),Ue(17)),ia(this),this.m=2,Aa(this)):Cn(this,this.T-y)};function Aa(y){y.j.I==0||y.K||Vm(y.j,y)}function ia(y){Ni(y);var N=y.O;N&&typeof N.dispose=="function"&&N.dispose(),y.O=null,ta(y.V),y.g&&(N=y.g,y.g=null,N.abort(),N.dispose())}function Ai(y,N){try{var C=y.j;if(C.I!=0&&(C.g==y||ji(C.h,y))){if(!y.L&&ji(C.h,y)&&C.I==3){try{var B=C.Ba.g.parse(N)}catch{B=null}if(Array.isArray(B)&&B.length==3){var ae=B;if(ae[0]==0){e:if(!C.v){if(C.g)if(C.g.F+3e3<y.F)Jc(C),vo(C);else break e;Ml(C),Ue(18)}}else C.xa=ae[1],0<C.xa-C.K&&ae[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=mt(h(C.Va,C),6e3));Ti(C.h)<=1&&C.ta&&(C.ta=void 0)}else Ii(C,11)}else if((y.L||C.g==y)&&Jc(C),!V(N))for(ae=C.Ba.g.parse(N),N=0;N<ae.length;N++){let Et=ae[N];const Jt=Et[0];if(!(Jt<=C.K))if(C.K=Jt,Et=Et[1],C.I==2)if(Et[0]=="c"){C.M=Et[1],C.ba=Et[2];const Ca=Et[3];Ca!=null&&(C.ka=Ca,C.j.info("VER="+C.ka));const Ri=Et[4];Ri!=null&&(C.za=Ri,C.j.info("SVER="+C.za));const ai=Et[5];ai!=null&&typeof ai=="number"&&ai>0&&(B=1.5*ai,C.O=B,C.j.info("backChannelRequestTimeoutMs_="+B)),B=C;const ii=y.g;if(ii){const Ll=ii.g?ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ll){var de=B.h;de.g||Ll.indexOf("spdy")==-1&&Ll.indexOf("quic")==-1&&Ll.indexOf("h2")==-1||(de.j=de.l,de.g=new Set,de.h&&(Vd(de,de.h),de.h=null))}if(B.G){const eu=ii.g?ii.g.getResponseHeader("X-HTTP-Session-Id"):null;eu&&(B.wa=eu,Tt(B.J,B.G,eu))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-y.F,C.j.info("Handshake RTT: "+C.T+"ms")),B=C;var Ae=y;if(B.na=$m(B,B.L?B.ba:null,B.W),Ae.L){Ud(B.h,Ae);var tt=Ae,xn=B.O;xn&&(tt.H=xn),tt.D&&(Ni(tt),He(tt)),B.g=Ae}else Mm(B);C.i.length>0&&Di(C)}else Et[0]!="stop"&&Et[0]!="close"||Ii(C,7);else C.I==3&&(Et[0]=="stop"||Et[0]=="close"?Et[0]=="stop"?Ii(C,7):Yd(C):Et[0]!="noop"&&C.l&&C.l.qa(Et),C.A=0)}}ue(4)}catch{}}var kn=class{constructor(y,N){this.g=y,this.map=N}};function Md(y){this.l=y||10,l.PerformanceNavigationTiming?(y=l.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ld(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function Ti(y){return y.h?1:y.g?y.g.size:0}function ji(y,N){return y.h?y.h==N:y.g?y.g.has(N):!1}function Vd(y,N){y.g?y.g.add(N):y.h=N}function Ud(y,N){y.h&&y.h==N?y.h=null:y.g&&y.g.has(N)&&y.g.delete(N)}Md.prototype.cancel=function(){if(this.i=zd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function zd(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let N=y.i;for(const C of y.g.values())N=N.concat(C.G);return N}return w(y.i)}var km=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kc(y,N){if(y){y=y.split("&");for(let C=0;C<y.length;C++){const B=y[C].indexOf("=");let ae,de=null;B>=0?(ae=y[C].substring(0,B),de=y[C].substring(B+1)):ae=y[C],N(ae,de?decodeURIComponent(de.replace(/\+/g," ")):"")}}}function sa(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let N;y instanceof sa?(this.l=y.l,tr(this,y.j),this.o=y.o,this.g=y.g,uo(this,y.u),this.h=y.h,$d(this,Im(y.i)),this.m=y.m):y&&(N=String(y).match(km))?(this.l=!1,tr(this,N[1]||"",!0),this.o=Ci(N[2]||""),this.g=Ci(N[3]||"",!0),uo(this,N[4]),this.h=Ci(N[5]||"",!0),$d(this,N[6]||"",!0),this.m=Ci(N[7]||"")):(this.l=!1,this.i=new ho(null,this.l))}sa.prototype.toString=function(){const y=[];var N=this.j;N&&y.push(kl(N,Gc,!0),":");var C=this.g;return(C||N=="file")&&(y.push("//"),(N=this.o)&&y.push(kl(N,Gc,!0),"@"),y.push(ei(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&y.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&y.push("/"),y.push(kl(C,C.charAt(0)=="/"?Bd:Om,!0))),(C=this.i.toString())&&y.push("?",C),(C=this.m)&&y.push("#",kl(C,Pm)),y.join("")},sa.prototype.resolve=function(y){const N=On(this);let C=!!y.j;C?tr(N,y.j):C=!!y.o,C?N.o=y.o:C=!!y.g,C?N.g=y.g:C=y.u!=null;var B=y.h;if(C)uo(N,y.u);else if(C=!!y.h){if(B.charAt(0)!="/")if(this.g&&!this.h)B="/"+B;else{var ae=N.h.lastIndexOf("/");ae!=-1&&(B=N.h.slice(0,ae+1)+B)}if(ae=B,ae==".."||ae==".")B="";else if(ae.indexOf("./")!=-1||ae.indexOf("/.")!=-1){B=ae.lastIndexOf("/",0)==0,ae=ae.split("/");const de=[];for(let Ae=0;Ae<ae.length;){const tt=ae[Ae++];tt=="."?B&&Ae==ae.length&&de.push(""):tt==".."?((de.length>1||de.length==1&&de[0]!="")&&de.pop(),B&&Ae==ae.length&&de.push("")):(de.push(tt),B=!0)}B=de.join("/")}else B=ae}return C?N.h=B:C=y.i.toString()!=="",C?$d(N,Im(y.i)):C=!!y.m,C&&(N.m=y.m),N};function On(y){return new sa(y)}function tr(y,N,C){y.j=C?Ci(N,!0):N,y.j&&(y.j=y.j.replace(/:$/,""))}function uo(y,N){if(N){if(N=Number(N),isNaN(N)||N<0)throw Error("Bad port number "+N);y.u=N}else y.u=null}function $d(y,N,C){N instanceof ho?(y.i=N,Wc(y.i,y.l)):(C||(N=kl(N,fo)),y.i=new ho(N,y.l))}function Tt(y,N,C){y.i.set(N,C)}function Cl(y){return Tt(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function Ci(y,N){return y?N?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function kl(y,N,C){return typeof y=="string"?(y=encodeURI(y).replace(N,Ur),C&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Ur(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var Gc=/[#\/\?@]/g,Om=/[#\?:]/g,Bd=/[#\?]/g,fo=/[#\?@]/g,Pm=/#/g;function ho(y,N){this.h=this.g=null,this.i=y||null,this.j=!!N}function zr(y){y.g||(y.g=new Map,y.h=0,y.i&&Kc(y.i,function(N,C){y.add(decodeURIComponent(N.replace(/\+/g," ")),C)}))}t=ho.prototype,t.add=function(y,N){zr(this),this.i=null,y=mo(this,y);let C=this.g.get(y);return C||this.g.set(y,C=[]),C.push(N),this.h+=1,this};function Dm(y,N){zr(y),N=mo(y,N),y.g.has(N)&&(y.i=null,y.h-=y.g.get(N).length,y.g.delete(N))}function Fd(y,N){return zr(y),N=mo(y,N),y.g.has(N)}t.forEach=function(y,N){zr(this),this.g.forEach(function(C,B){C.forEach(function(ae){y.call(N,ae,B,this)},this)},this)};function qd(y,N){zr(y);let C=[];if(typeof N=="string")Fd(y,N)&&(C=C.concat(y.g.get(mo(y,N))));else for(y=Array.from(y.g.values()),N=0;N<y.length;N++)C=C.concat(y[N]);return C}t.set=function(y,N){return zr(this),this.i=null,y=mo(this,y),Fd(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[N]),this.h+=1,this},t.get=function(y,N){return y?(y=qd(this,y),y.length>0?String(y[0]):N):N};function Yc(y,N,C){Dm(y,N),C.length>0&&(y.i=null,y.g.set(mo(y,N),w(C)),y.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],N=Array.from(this.g.keys());for(let B=0;B<N.length;B++){var C=N[B];const ae=ei(C);C=qd(this,C);for(let de=0;de<C.length;de++){let Ae=ae;C[de]!==""&&(Ae+="="+ei(C[de])),y.push(Ae)}}return this.i=y.join("&")};function Im(y){const N=new ho;return N.i=y.i,y.g&&(N.g=new Map(y.g),N.h=y.h),N}function mo(y,N){return N=String(N),y.j&&(N=N.toLowerCase()),N}function Wc(y,N){N&&!y.j&&(zr(y),y.i=null,y.g.forEach(function(C,B){const ae=B.toLowerCase();B!=ae&&(Dm(this,B),Yc(this,ae,C))},y)),y.j=N}function ti(y,N){const C=new Pt;if(l.Image){const B=new Image;B.onload=p(Ta,C,"TestLoadImage: loaded",!0,N,B),B.onerror=p(Ta,C,"TestLoadImage: error",!1,N,B),B.onabort=p(Ta,C,"TestLoadImage: abort",!1,N,B),B.ontimeout=p(Ta,C,"TestLoadImage: timeout",!1,N,B),l.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=y}else N(!1)}function Hd(y,N){const C=new Pt,B=new AbortController,ae=setTimeout(()=>{B.abort(),Ta(C,"TestPingServer: timeout",!1,N)},1e4);fetch(y,{signal:B.signal}).then(de=>{clearTimeout(ae),de.ok?Ta(C,"TestPingServer: ok",!0,N):Ta(C,"TestPingServer: server error",!1,N)}).catch(()=>{clearTimeout(ae),Ta(C,"TestPingServer: error",!1,N)})}function Ta(y,N,C,B,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),B(C)}catch{}}function po(){this.g=new $c}function ki(y){this.i=y.Sb||null,this.h=y.ab||!1}g(ki,Bc),ki.prototype.g=function(){return new Ol(this.i,this.h)};function Ol(y,N){Nt.call(this),this.H=y,this.o=N,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Ol,Nt),t=Ol.prototype,t.open=function(y,N){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=N,this.readyState=1,ni(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const N={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(N.body=y),(this.H||l).fetch(new Request(this.D,N)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,go(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Xc(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function Xc(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var N=y.value?y.value:new Uint8Array(0);(N=this.B.decode(N,{stream:!y.done}))&&(this.response=this.responseText+=N)}y.done?go(this):ni(this),this.readyState==3&&Xc(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,go(this))},t.Na=function(y){this.g&&(this.response=y,go(this))},t.ga=function(){this.g&&go(this)};function go(y){y.readyState=4,y.l=null,y.j=null,y.B=null,ni(y)}t.setRequestHeader=function(y,N){this.A.append(y,N)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],N=this.h.entries();for(var C=N.next();!C.done;)C=C.value,y.push(C[0]+": "+C[1]),C=N.next();return y.join(`\r
`)};function ni(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(Ol.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function ja(y){let N="";return he(y,function(C,B){N+=B,N+=":",N+=C,N+=`\r
`}),N}function Pl(y,N,C){e:{for(B in C){var B=!1;break e}B=!0}B||(C=ja(C),typeof y=="string"?C!=null&&ei(C):Tt(y,N,C))}function Dt(y){Nt.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(Dt,Nt);var Oi=/^https?$/i,Kd=["POST","PUT"];t=Dt.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,N,C,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);N=N?N.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():jl.g(),this.g.onreadystatechange=x(h(this.Ca,this));try{this.B=!0,this.g.open(N,String(y),!0),this.B=!1}catch(de){Dl(this,de);return}if(y=C||"",C=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var ae in B)C.set(ae,B[ae]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const de of B.keys())C.set(de,B.get(de));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(C.keys()).find(de=>de.toLowerCase()=="content-type"),ae=l.FormData&&y instanceof l.FormData,!(Array.prototype.indexOf.call(Kd,N,void 0)>=0)||B||ae||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[de,Ae]of C)this.g.setRequestHeader(de,Ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(de){Dl(this,de)}};function Dl(y,N){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=N,y.o=5,Gd(y),os(y)}function Gd(y){y.A||(y.A=!0,Ft(y,"complete"),Ft(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,Ft(this,"complete"),Ft(this,"abort"),os(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),os(this,!0)),Dt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Il(this):this.Xa())},t.Xa=function(){Il(this)};function Il(y){if(y.h&&typeof s<"u"){if(y.v&&ri(y)==4)setTimeout(y.Ca.bind(y),0);else if(Ft(y,"readystatechange"),ri(y)==4){y.h=!1;try{const de=y.ca();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var N=!0;break e;default:N=!1}var C;if(!(C=N)){var B;if(B=de===0){let Ae=String(y.D).match(km)[1]||null;!Ae&&l.self&&l.self.location&&(Ae=l.self.location.protocol.slice(0,-1)),B=!Oi.test(Ae?Ae.toLowerCase():"")}C=B}if(C)Ft(y,"complete"),Ft(y,"success");else{y.o=6;try{var ae=ri(y)>2?y.g.statusText:""}catch{ae=""}y.l=ae+" ["+y.ca()+"]",Gd(y)}}finally{os(y)}}}}function os(y,N){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const C=y.g;y.g=null,N||Ft(y,"ready");try{C.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ri(y){return y.g?y.g.readyState:0}t.ca=function(){try{return ri(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var N=this.g.responseText;return y&&N.indexOf(y)==0&&(N=N.substring(y.length)),Dd(N)}};function ur(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function ls(y){const N={};y=(y.g&&ri(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<y.length;B++){if(V(y[B]))continue;var C=Hc(y[B]);const ae=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const de=N[ae]||[];N[ae]=de,de.push(C)}Te(N,function(B){return B.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pi(y,N,C){return C&&C.internalChannelParams&&C.internalChannelParams[y]||N}function yo(y){this.za=0,this.i=[],this.j=new Pt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Pi("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Pi("baseRetryDelayMs",5e3,y),this.Za=Pi("retryDelaySeedMs",1e4,y),this.Ta=Pi("forwardChannelMaxRetries",2,y),this.va=Pi("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new Md(y&&y.concurrentRequestLimit),this.Ba=new po,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=yo.prototype,t.ka=8,t.I=1,t.connect=function(y,N,C,B){Ue(0),this.W=y,this.H=N||{},C&&B!==void 0&&(this.H.OSID=C,this.H.OAID=B),this.F=this.X,this.J=$m(this,null,this.W),Di(this)};function Yd(y){if(Qc(y),y.I==3){var N=y.V++,C=On(y.J);if(Tt(C,"SID",y.M),Tt(C,"RID",N),Tt(C,"TYPE","terminate"),Rl(y,C),N=new ra(y,y.j,N),N.M=2,N.A=Cl(On(C)),C=!1,l.navigator&&l.navigator.sendBeacon)try{C=l.navigator.sendBeacon(N.A.toString(),"")}catch{}!C&&l.Image&&(new Image().src=N.A,C=!0),C||(N.g=Bm(N.j,null),N.g.ea(N.A)),N.F=Date.now(),He(N)}zm(y)}function vo(y){y.g&&(Xd(y),y.g.cancel(),y.g=null)}function Qc(y){vo(y),y.v&&(l.clearTimeout(y.v),y.v=null),Jc(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&l.clearTimeout(y.m),y.m=null)}function Di(y){if(!Ld(y.h)&&!y.m){y.m=!0;var N=y.Ea;R||O(),F||(R(),F=!0),k.add(N,y),y.D=0}}function Zc(y,N){return Ti(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=N.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=mt(h(y.Ea,y,N),Um(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const ae=new ra(this,this.j,y);let de=this.o;if(this.U&&(de?(de=$(de),K(de,this.U)):de=this.U),this.u!==null||this.R||(ae.J=de,de=null),this.S)e:{for(var N=0,C=0;C<this.i.length;C++){t:{var B=this.i[C];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(N+=B,N>4096){N=C;break e}if(N===4096||C===this.i.length-1){N=C+1;break e}}N=1e3}else N=1e3;N=Rm(this,ae,N),C=On(this.J),Tt(C,"RID",y),Tt(C,"CVER",22),this.G&&Tt(C,"X-HTTP-Session-Id",this.G),Rl(this,C),de&&(this.R?N="headers="+ei(ja(de))+"&"+N:this.u&&Pl(C,this.u,de)),Vd(this.h,ae),this.Ra&&Tt(C,"TYPE","init"),this.S?(Tt(C,"$req",N),Tt(C,"SID","null"),ae.U=!0,Na(ae,C,null)):Na(ae,C,N),this.I=2}}else this.I==3&&(y?Wd(this,y):this.i.length==0||Ld(this.h)||Wd(this))};function Wd(y,N){var C;N?C=N.l:C=y.V++;const B=On(y.J);Tt(B,"SID",y.M),Tt(B,"RID",C),Tt(B,"AID",y.K),Rl(y,B),y.u&&y.o&&Pl(B,y.u,y.o),C=new ra(y,y.j,C,y.D+1),y.u===null&&(C.J=y.o),N&&(y.i=N.G.concat(y.i)),N=Rm(y,C,1e3),C.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),Vd(y.h,C),Na(C,B,N)}function Rl(y,N){y.H&&he(y.H,function(C,B){Tt(N,B,C)}),y.l&&he({},function(C,B){Tt(N,B,C)})}function Rm(y,N,C){C=Math.min(y.i.length,C);const B=y.l?h(y.l.Ka,y.l,y):null;e:{var ae=y.i;let tt=-1;for(;;){const xn=["count="+C];tt==-1?C>0?(tt=ae[0].g,xn.push("ofs="+tt)):tt=0:xn.push("ofs="+tt);let Et=!0;for(let Jt=0;Jt<C;Jt++){var de=ae[Jt].g;const Ca=ae[Jt].map;if(de-=tt,de<0)tt=Math.max(0,ae[Jt].g-100),Et=!1;else try{de="req"+de+"_"||"";try{var Ae=Ca instanceof Map?Ca:Object.entries(Ca);for(const[Ri,ai]of Ae){let ii=ai;u(ai)&&(ii=_i(ai)),xn.push(de+Ri+"="+encodeURIComponent(ii))}}catch(Ri){throw xn.push(de+"type="+encodeURIComponent("_badmap")),Ri}}catch{B&&B(Ca)}}if(Et){Ae=xn.join("&");break e}}Ae=void 0}return y=y.i.splice(0,C),N.G=y,Ae}function Mm(y){if(!y.g&&!y.v){y.Y=1;var N=y.Da;R||O(),F||(R(),F=!0),k.add(N,y),y.A=0}}function Ml(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=mt(h(y.Da,y),Um(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,Lm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=mt(h(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ue(10),vo(this),Lm(this))};function Xd(y){y.B!=null&&(l.clearTimeout(y.B),y.B=null)}function Lm(y){y.g=new ra(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var N=On(y.na);Tt(N,"RID","rpc"),Tt(N,"SID",y.M),Tt(N,"AID",y.K),Tt(N,"CI",y.F?"0":"1"),!y.F&&y.ia&&Tt(N,"TO",y.ia),Tt(N,"TYPE","xmlhttp"),Rl(y,N),y.u&&y.o&&Pl(N,y.u,y.o),y.O&&(y.g.H=y.O);var C=y.g;y=y.ba,C.M=1,C.A=Cl(On(N)),C.u=null,C.R=!0,co(C,y)}t.Va=function(){this.C!=null&&(this.C=null,vo(this),Ml(this),Ue(19))};function Jc(y){y.C!=null&&(l.clearTimeout(y.C),y.C=null)}function Vm(y,N){var C=null;if(y.g==N){Jc(y),Xd(y),y.g=null;var B=2}else if(ji(y.h,N))C=N.G,Ud(y.h,N),B=1;else return;if(y.I!=0){if(N.o)if(B==1){C=N.u?N.u.length:0,N=Date.now()-N.F;var ae=y.D;B=lo(),Ft(B,new ot(B,C)),Di(y)}else Mm(y);else if(ae=N.m,ae==3||ae==0&&N.X>0||!(B==1&&Zc(y,N)||B==2&&Ml(y)))switch(C&&C.length>0&&(N=y.h,N.i=N.i.concat(C)),ae){case 1:Ii(y,5);break;case 4:Ii(y,10);break;case 3:Ii(y,6);break;default:Ii(y,2)}}}function Um(y,N){let C=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(C*=2),C*N}function Ii(y,N){if(y.j.info("Error code "+N),N==2){var C=h(y.bb,y),B=y.Ua;const ae=!B;B=new sa(B||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||tr(B,"https"),Cl(B),ae?ti(B.toString(),C):Hd(B.toString(),C)}else Ue(2);y.I=0,y.l&&y.l.pa(N),zm(y),Qc(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),Ue(2)):(this.j.info("Failed to ping google.com"),Ue(1))};function zm(y){if(y.I=0,y.ja=[],y.l){const N=zd(y.h);(N.length!=0||y.i.length!=0)&&(E(y.ja,N),E(y.ja,y.i),y.h.i.length=0,w(y.i),y.i.length=0),y.l.oa()}}function $m(y,N,C){var B=C instanceof sa?On(C):new sa(C);if(B.g!="")N&&(B.g=N+"."+B.g),uo(B,B.u);else{var ae=l.location;B=ae.protocol,N=N?N+"."+ae.hostname:ae.hostname,ae=+ae.port;const de=new sa(null);B&&tr(de,B),N&&(de.g=N),ae&&uo(de,ae),C&&(de.h=C),B=de}return C=y.G,N=y.wa,C&&N&&Tt(B,C,N),Tt(B,"VER",y.ka),Rl(y,B),B}function Bm(y,N,C){if(N&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return N=y.Aa&&!y.ma?new Dt(new ki({ab:C})):new Dt(y.ma),N.Fa(y.L),N}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fm(){}t=Fm.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function xo(){}xo.prototype.g=function(y,N){return new jr(y,N)};function jr(y,N){Nt.call(this),this.g=new yo(N),this.l=y,this.h=N&&N.messageUrlParams||null,y=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(y?y["X-WebChannel-Content-Type"]=N.messageContentType:y={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.sa&&(y?y["X-WebChannel-Client-Profile"]=N.sa:y={"X-WebChannel-Client-Profile":N.sa}),this.g.U=y,(y=N&&N.Qb)&&!V(y)&&(this.g.u=y),this.A=N&&N.supportsCrossDomainXhr||!1,this.v=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!V(N)&&(this.g.G=N,y=this.h,y!==null&&N in y&&(y=this.h,N in y&&delete y[N])),this.j=new cs(this)}g(jr,Nt),jr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},jr.prototype.close=function(){Yd(this.g)},jr.prototype.o=function(y){var N=this.g;if(typeof y=="string"){var C={};C.__data__=y,y=C}else this.v&&(C={},C.__data__=_i(y),y=C);N.i.push(new kn(N.Ya++,y)),N.I==3&&Di(N)},jr.prototype.N=function(){this.g.l=null,delete this.j,Yd(this.g),delete this.g,jr.Z.N.call(this)};function qm(y){Bn.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var N=y.__sm__;if(N){e:{for(const C in N){y=C;break e}y=void 0}(this.i=y)&&(y=this.i,N=N!==null&&y in N?N[y]:void 0),this.data=N}else this.data=y}g(qm,Bn);function Hm(){Vr.call(this),this.status=1}g(Hm,Vr);function cs(y){this.g=y}g(cs,Fm),cs.prototype.ra=function(){Ft(this.g,"a")},cs.prototype.qa=function(y){Ft(this.g,new qm(y))},cs.prototype.pa=function(y){Ft(this.g,new Hm)},cs.prototype.oa=function(){Ft(this.g,"b")},xo.prototype.createWebChannel=xo.prototype.g,jr.prototype.send=jr.prototype.o,jr.prototype.open=jr.prototype.m,jr.prototype.close=jr.prototype.close,XM=function(){return new xo},WM=function(){return lo()},YM=cn,O1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},is.NO_ERROR=0,is.TIMEOUT=8,is.HTTP_ERROR=6,Tg=is,Tl.COMPLETE="complete",GM=Tl,Fc.EventType=na,na.OPEN="a",na.CLOSE="b",na.ERROR="c",na.MESSAGE="d",Nt.prototype.listen=Nt.prototype.J,Zf=Fc,Dt.prototype.listenOnce=Dt.prototype.K,Dt.prototype.getLastError=Dt.prototype.Ha,Dt.prototype.getLastErrorCode=Dt.prototype.ya,Dt.prototype.getStatus=Dt.prototype.ca,Dt.prototype.getResponseJson=Dt.prototype.La,Dt.prototype.getResponseText=Dt.prototype.la,Dt.prototype.send=Dt.prototype.ea,Dt.prototype.setWithCredentials=Dt.prototype.Fa,KM=Dt}).apply(typeof Qp<"u"?Qp:typeof self<"u"?self:typeof window<"u"?window:{});const yC="@firebase/firestore",vC="4.9.3";let Sr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Sr.UNAUTHENTICATED=new Sr(null),Sr.GOOGLE_CREDENTIALS=new Sr("google-credentials-uid"),Sr.FIRST_PARTY=new Sr("first-party-uid"),Sr.MOCK_USER=new Sr("mock-user");let vd="12.7.0";const bc=new dE("@firebase/firestore");function Ru(){return bc.logLevel}function De(t,...e){if(bc.logLevel<=ut.DEBUG){const n=e.map(_E);bc.debug(`Firestore (${vd}): ${t}`,...n)}}function Bs(t,...e){if(bc.logLevel<=ut.ERROR){const n=e.map(_E);bc.error(`Firestore (${vd}): ${t}`,...n)}}function Qu(t,...e){if(bc.logLevel<=ut.WARN){const n=e.map(_E);bc.warn(`Firestore (${vd}): ${t}`,...n)}}function _E(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Xe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,QM(t,r,n)}function QM(t,e,n){let r=`FIRESTORE (${vd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Bs(r),new Error(r)}function At(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||QM(e,a,r)}function et(t,e){return t}const _e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends eo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ms{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class ZM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Sr.UNAUTHENTICATED)))}shutdown(){}}class _q{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Eq{constructor(e){this.t=e,this.currentUser=Sr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){At(this.o===void 0,42304);let r=this.i;const a=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let s=new Ms;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ms,e.enqueueRetryable((()=>a(this.currentUser)))};const l=()=>{const f=s;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},u=f=>{De("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(De("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ms)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(De("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(At(typeof r.accessToken=="string",31837,{l:r}),new ZM(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return At(e===null||typeof e=="string",2055,{h:e}),new Sr(e)}}class Sq{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Sr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Nq{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Sq(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Sr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class xC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Aq{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fa(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){At(this.o===void 0,3512);const r=s=>{s.error!=null&&De("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,De("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const a=s=>{De("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>a(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?a(s):De("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new xC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(At(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new xC(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Tq(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class EE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=Tq(40);for(let s=0;s<a.length;++s)r.length<20&&a[s]<n&&(r+=e.charAt(a[s]%62))}return r}}function dt(t,e){return t<e?-1:t>e?1:0}function P1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),s=e.charAt(r);if(a!==s)return jb(a)===jb(s)?dt(a,s):jb(a)?1:-1}return dt(t.length,e.length)}const jq=55296,Cq=57343;function jb(t){const e=t.charCodeAt(0);return e>=jq&&e<=Cq}function Zu(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}const bC="__name__";class $i{constructor(e,n,r){n===void 0?n=0:n>e.length&&Xe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Xe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return $i.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $i?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const s=$i.compareSegments(e.get(a),n.get(a));if(s!==0)return s}return dt(e.length,n.length)}static compareSegments(e,n){const r=$i.isNumericId(e),a=$i.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?$i.extractNumericId(e).compare($i.extractNumericId(n)):P1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return nl.fromString(e.substring(4,e.length-2))}}class Qt extends $i{construct(e,n,r){return new Qt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Me(_e.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new Qt(n)}static emptyPath(){return new Qt([])}}const kq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vr extends $i{construct(e,n,r){return new vr(e,n,r)}static isValidIdentifier(e){return kq.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bC}static keyField(){return new vr([bC])}static fromServerFormat(e){const n=[];let r="",a=0;const s=()=>{if(r.length===0)throw new Me(_e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;a<e.length;){const u=e[a];if(u==="\\"){if(a+1===e.length)throw new Me(_e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Me(_e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,a+=2}else u==="`"?(l=!l,a++):u!=="."||l?(r+=u,a++):(s(),a++)}if(s(),l)throw new Me(_e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vr(n)}static emptyPath(){return new vr([])}}class Ke{constructor(e){this.path=e}static fromPath(e){return new Ke(Qt.fromString(e))}static fromName(e){return new Ke(Qt.fromString(e).popFirst(5))}static empty(){return new Ke(Qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ke(new Qt(e.slice()))}}function JM(t,e,n){if(!n)throw new Me(_e.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Oq(t,e,n,r){if(e===!0&&r===!0)throw new Me(_e.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function wC(t){if(!Ke.isDocumentKey(t))throw new Me(_e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _C(t){if(Ke.isDocumentKey(t))throw new Me(_e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function e4(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function SE(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Xe(12329,{type:typeof t})}function Pr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Me(_e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=SE(t);throw new Me(_e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Vn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Qh(t,e){if(!e4(t))throw new Me(_e.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(a&&typeof l!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Me(_e.INVALID_ARGUMENT,n);return!0}const EC=-62135596800,SC=1e6;class Zt{static now(){return Zt.fromMillis(Date.now())}static fromDate(e){return Zt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*SC);return new Zt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Me(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Me(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<EC)throw new Me(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/SC}_compareTo(e){return this.seconds===e.seconds?dt(this.nanoseconds,e.nanoseconds):dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Zt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Qh(e,Zt._jsonSchema))return new Zt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-EC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Zt._jsonSchemaVersion="firestore/timestamp/1.0",Zt._jsonSchema={type:Vn("string",Zt._jsonSchemaVersion),seconds:Vn("number"),nanoseconds:Vn("number")};class Ze{static fromTimestamp(e){return new Ze(e)}static min(){return new Ze(new Zt(0,0))}static max(){return new Ze(new Zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const gh=-1;function Pq(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Ze.fromTimestamp(r===1e9?new Zt(n+1,0):new Zt(n,r));return new sl(a,Ke.empty(),e)}function Dq(t){return new sl(t.readTime,t.key,gh)}class sl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new sl(Ze.min(),Ke.empty(),gh)}static max(){return new sl(Ze.max(),Ke.empty(),gh)}}function Iq(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ke.comparator(t.documentKey,e.documentKey),n!==0?n:dt(t.largestBatchId,e.largestBatchId))}const Rq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function xd(t){if(t.code!==_e.FAILED_PRECONDITION||t.message!==Rq)throw t;De("LocalStore","Unexpectedly lost primary lease")}class be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new be(((r,a)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,a)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof be?n:be.resolve(n)}catch(n){return be.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):be.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):be.reject(n)}static resolve(e){return new be(((n,r)=>{n(e)}))}static reject(e){return new be(((n,r)=>{r(e)}))}static waitFor(e){return new be(((n,r)=>{let a=0,s=0,l=!1;e.forEach((u=>{++a,u.next((()=>{++s,l&&s===a&&n()}),(f=>r(f)))})),l=!0,s===a&&n()}))}static or(e){let n=be.resolve(!1);for(const r of e)n=n.next((a=>a?be.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,s)=>{r.push(n.call(this,a,s))})),this.waitFor(r)}static mapArray(e,n){return new be(((r,a)=>{const s=e.length,l=new Array(s);let u=0;for(let f=0;f<s;f++){const h=f;n(e[h]).next((p=>{l[h]=p,++u,u===s&&r(l)}),(p=>a(p)))}}))}static doWhile(e,n){return new be(((r,a)=>{const s=()=>{e()===!0?n().next((()=>{s()}),a):r()};s()}))}}function Lq(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bd(t){return t.name==="IndexedDbTransactionError"}class sv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}sv.ce=-1;const NE=-1;function ov(t){return t==null}function Gg(t){return t===0&&1/t==-1/0}function Vq(t){return typeof t=="number"&&Number.isInteger(t)&&!Gg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const t4="";function Uq(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=NC(e)),e=zq(t.get(n),e);return NC(e)}function zq(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const s=t.charAt(a);switch(s){case"\0":n+="";break;case t4:n+="";break;default:n+=s}}return n}function NC(t){return t+t4+""}function AC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function wl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function n4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class un{constructor(e,n){this.comparator=e,this.root=n||yr.EMPTY}insert(e,n){return new un(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yr.BLACK,null,null))}remove(e){return new un(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zp(this.root,e,this.comparator,!0)}}class Zp{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&a&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yr{constructor(e,n,r,a,s){this.key=e,this.value=n,this.color=r??yr.RED,this.left=a??yr.EMPTY,this.right=s??yr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,s){return new yr(e??this.key,n??this.value,r??this.color,a??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const s=r(e,a.key);return a=s<0?a.copy(null,null,null,a.left.insert(e,n,r),null):s===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return yr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return yr.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Xe(27949);return e+(this.isRed()?0:1)}}yr.EMPTY=null,yr.RED=!0,yr.BLACK=!1;yr.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe(57766)}get value(){throw Xe(16141)}get color(){throw Xe(16727)}get left(){throw Xe(29726)}get right(){throw Xe(36894)}copy(e,n,r,a,s){return this}insert(e,n,r){return new yr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wn{constructor(e){this.comparator=e,this.data=new un(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new TC(this.data.getIterator())}getIteratorFrom(e){return new TC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Wn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,s=r.getNext().key;if(this.comparator(a,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Wn(this.comparator);return n.data=e,n}}class TC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ga{constructor(e){this.fields=e,e.sort(vr.comparator)}static empty(){return new ga([])}unionWith(e){let n=new Wn(vr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ga(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class r4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class br{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new r4("Invalid base64 string: "+s):s}})(e);return new br(n)}static fromUint8Array(e){const n=(function(a){let s="";for(let l=0;l<a.length;++l)s+=String.fromCharCode(a[l]);return s})(e);return new br(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}br.EMPTY_BYTE_STRING=new br("");const $q=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ol(t){if(At(!!t,39018),typeof t=="string"){let e=0;const n=$q.exec(t);if(At(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Sn(t.seconds),nanos:Sn(t.nanos)}}function Sn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ll(t){return typeof t=="string"?br.fromBase64String(t):br.fromUint8Array(t)}const a4="server_timestamp",i4="__type__",s4="__previous_value__",o4="__local_write_time__";function AE(t){return(t?.mapValue?.fields||{})[i4]?.stringValue===a4}function lv(t){const e=t.mapValue.fields[s4];return AE(e)?lv(e):e}function yh(t){const e=ol(t.mapValue.fields[o4].timestampValue);return new Zt(e.seconds,e.nanos)}class Bq{constructor(e,n,r,a,s,l,u,f,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=p}}const Yg="(default)";class vh{constructor(e,n){this.projectId=e,this.database=n||Yg}static empty(){return new vh("","")}get isDefaultDatabase(){return this.database===Yg}isEqual(e){return e instanceof vh&&e.projectId===this.projectId&&e.database===this.database}}const l4="__type__",Fq="__max__",Jp={mapValue:{}},c4="__vector__",Wg="value";function cl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?AE(t)?4:Hq(t)?9007199254740991:qq(t)?10:11:Xe(28295,{value:t})}function Qi(t,e){if(t===e)return!0;const n=cl(t);if(n!==cl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yh(t).isEqual(yh(e));case 3:return(function(a,s){if(typeof a.timestampValue=="string"&&typeof s.timestampValue=="string"&&a.timestampValue.length===s.timestampValue.length)return a.timestampValue===s.timestampValue;const l=ol(a.timestampValue),u=ol(s.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,s){return ll(a.bytesValue).isEqual(ll(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,s){return Sn(a.geoPointValue.latitude)===Sn(s.geoPointValue.latitude)&&Sn(a.geoPointValue.longitude)===Sn(s.geoPointValue.longitude)})(t,e);case 2:return(function(a,s){if("integerValue"in a&&"integerValue"in s)return Sn(a.integerValue)===Sn(s.integerValue);if("doubleValue"in a&&"doubleValue"in s){const l=Sn(a.doubleValue),u=Sn(s.doubleValue);return l===u?Gg(l)===Gg(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return Zu(t.arrayValue.values||[],e.arrayValue.values||[],Qi);case 10:case 11:return(function(a,s){const l=a.mapValue.fields||{},u=s.mapValue.fields||{};if(AC(l)!==AC(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!Qi(l[f],u[f])))return!1;return!0})(t,e);default:return Xe(52216,{left:t})}}function xh(t,e){return(t.values||[]).find((n=>Qi(n,e)))!==void 0}function Ju(t,e){if(t===e)return 0;const n=cl(t),r=cl(e);if(n!==r)return dt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return dt(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const u=Sn(s.integerValue||s.doubleValue),f=Sn(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(t,e);case 3:return jC(t.timestampValue,e.timestampValue);case 4:return jC(yh(t),yh(e));case 5:return P1(t.stringValue,e.stringValue);case 6:return(function(s,l){const u=ll(s),f=ll(l);return u.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const u=s.split("/"),f=l.split("/");for(let h=0;h<u.length&&h<f.length;h++){const p=dt(u[h],f[h]);if(p!==0)return p}return dt(u.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const u=dt(Sn(s.latitude),Sn(l.latitude));return u!==0?u:dt(Sn(s.longitude),Sn(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return CC(t.arrayValue,e.arrayValue);case 10:return(function(s,l){const u=s.fields||{},f=l.fields||{},h=u[Wg]?.arrayValue,p=f[Wg]?.arrayValue,g=dt(h?.values?.length||0,p?.values?.length||0);return g!==0?g:CC(h,p)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===Jp.mapValue&&l===Jp.mapValue)return 0;if(s===Jp.mapValue)return 1;if(l===Jp.mapValue)return-1;const u=s.fields||{},f=Object.keys(u),h=l.fields||{},p=Object.keys(h);f.sort(),p.sort();for(let g=0;g<f.length&&g<p.length;++g){const x=P1(f[g],p[g]);if(x!==0)return x;const w=Ju(u[f[g]],h[p[g]]);if(w!==0)return w}return dt(f.length,p.length)})(t.mapValue,e.mapValue);default:throw Xe(23264,{he:n})}}function jC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return dt(t,e);const n=ol(t),r=ol(e),a=dt(n.seconds,r.seconds);return a!==0?a:dt(n.nanos,r.nanos)}function CC(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const s=Ju(n[a],r[a]);if(s)return s}return dt(n.length,r.length)}function ed(t){return D1(t)}function D1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ol(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ll(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ke.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const s of n.values||[])a?a=!1:r+=",",r+=D1(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",s=!0;for(const l of r)s?s=!1:a+=",",a+=`${l}:${D1(n.fields[l])}`;return a+"}"})(t.mapValue):Xe(61005,{value:t})}function jg(t){switch(cl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lv(t);return e?16+jg(e):16;case 5:return 2*t.stringValue.length;case 6:return ll(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,s)=>a+jg(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return wl(r.fields,((s,l)=>{a+=s.length+jg(l)})),a})(t.mapValue);default:throw Xe(13486,{value:t})}}function I1(t){return!!t&&"integerValue"in t}function TE(t){return!!t&&"arrayValue"in t}function kC(t){return!!t&&"nullValue"in t}function OC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cg(t){return!!t&&"mapValue"in t}function qq(t){return(t?.mapValue?.fields||{})[l4]?.stringValue===c4}function oh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return wl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=oh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=oh(t.arrayValue.values[n]);return e}return{...t}}function Hq(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Fq}class Wr{constructor(e){this.value=e}static empty(){return new Wr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Cg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=oh(n)}setAll(e){let n=vr.emptyPath(),r={},a=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const f=this.getFieldsMap(n);this.applyChanges(f,r,a),r={},a=[],n=u.popLast()}l?r[u.lastSegment()]=oh(l):a.push(u.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,a)}delete(e){const n=this.field(e.popLast());Cg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Cg(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){wl(n,((a,s)=>e[a]=s));for(const a of r)delete e[a]}clone(){return new Wr(oh(this.value))}}function u4(t){const e=[];return wl(t.fields,((n,r)=>{const a=new vr([n]);if(Cg(r)){const s=u4(r.mapValue).fields;if(s.length===0)e.push(a);else for(const l of s)e.push(a.child(l))}else e.push(a)})),new ga(e)}class Nr{constructor(e,n,r,a,s,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=s,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Nr(e,0,Ze.min(),Ze.min(),Ze.min(),Wr.empty(),0)}static newFoundDocument(e,n,r,a){return new Nr(e,1,n,Ze.min(),r,a,0)}static newNoDocument(e,n){return new Nr(e,2,n,Ze.min(),Ze.min(),Wr.empty(),0)}static newUnknownDocument(e,n){return new Nr(e,3,n,Ze.min(),Ze.min(),Wr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xg{constructor(e,n){this.position=e,this.inclusive=n}}function PC(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const s=e[a],l=t.position[a];if(s.field.isKeyField()?r=Ke.comparator(Ke.fromName(l.referenceValue),n.key):r=Ju(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function DC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qi(t.position[n],e.position[n]))return!1;return!0}class Qg{constructor(e,n="asc"){this.field=e,this.dir=n}}function Kq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class d4{}class Gn extends d4{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Yq(e,n,r):n==="array-contains"?new Qq(e,r):n==="in"?new Zq(e,r):n==="not-in"?new Jq(e,r):n==="array-contains-any"?new eH(e,r):new Gn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Wq(e,r):new Xq(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ju(n,this.value)):n!==null&&cl(this.value)===cl(n)&&this.matchesComparison(Ju(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zi extends d4{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Zi(e,n)}matches(e){return f4(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function f4(t){return t.op==="and"}function h4(t){return Gq(t)&&f4(t)}function Gq(t){for(const e of t.filters)if(e instanceof Zi)return!1;return!0}function R1(t){if(t instanceof Gn)return t.field.canonicalString()+t.op.toString()+ed(t.value);if(h4(t))return t.filters.map((e=>R1(e))).join(",");{const e=t.filters.map((n=>R1(n))).join(",");return`${t.op}(${e})`}}function m4(t,e){return t instanceof Gn?(function(r,a){return a instanceof Gn&&r.op===a.op&&r.field.isEqual(a.field)&&Qi(r.value,a.value)})(t,e):t instanceof Zi?(function(r,a){return a instanceof Zi&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((s,l,u)=>s&&m4(l,a.filters[u])),!0):!1})(t,e):void Xe(19439)}function p4(t){return t instanceof Gn?(function(n){return`${n.field.canonicalString()} ${n.op} ${ed(n.value)}`})(t):t instanceof Zi?(function(n){return n.op.toString()+" {"+n.getFilters().map(p4).join(" ,")+"}"})(t):"Filter"}class Yq extends Gn{constructor(e,n,r){super(e,n,r),this.key=Ke.fromName(r.referenceValue)}matches(e){const n=Ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class Wq extends Gn{constructor(e,n){super(e,"in",n),this.keys=g4("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Xq extends Gn{constructor(e,n){super(e,"not-in",n),this.keys=g4("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function g4(t,e){return(e.arrayValue?.values||[]).map((n=>Ke.fromName(n.referenceValue)))}class Qq extends Gn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return TE(n)&&xh(n.arrayValue,this.value)}}class Zq extends Gn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xh(this.value.arrayValue,n)}}class Jq extends Gn{constructor(e,n){super(e,"not-in",n)}matches(e){if(xh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!xh(this.value.arrayValue,n)}}class eH extends Gn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!TE(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>xh(this.value.arrayValue,r)))}}class tH{constructor(e,n=null,r=[],a=[],s=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=s,this.startAt=l,this.endAt=u,this.Te=null}}function IC(t,e=null,n=[],r=[],a=null,s=null,l=null){return new tH(t,e,n,r,a,s,l)}function jE(t){const e=et(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>R1(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),ov(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>ed(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>ed(r))).join(",")),e.Te=n}return e.Te}function CE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Kq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!m4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!DC(t.startAt,e.startAt)&&DC(t.endAt,e.endAt)}function M1(t){return Ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class cv{constructor(e,n=null,r=[],a=[],s=null,l="F",u=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=s,this.limitType=l,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function nH(t,e,n,r,a,s,l,u){return new cv(t,e,n,r,a,s,l,u)}function uv(t){return new cv(t)}function RC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function rH(t){return t.collectionGroup!==null}function lh(t){const e=et(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Wn(vr.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((h=>{h.isInequality()&&(u=u.add(h.field))}))})),u})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Qg(s,r))})),n.has(vr.keyField().canonicalString())||e.Ie.push(new Qg(vr.keyField(),r))}return e.Ie}function Ki(t){const e=et(t);return e.Ee||(e.Ee=aH(e,lh(t))),e.Ee}function aH(t,e){if(t.limitType==="F")return IC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const s=a.dir==="desc"?"asc":"desc";return new Qg(a.field,s)}));const n=t.endAt?new Xg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Xg(t.startAt.position,t.startAt.inclusive):null;return IC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function L1(t,e,n){return new cv(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dv(t,e){return CE(Ki(t),Ki(e))&&t.limitType===e.limitType}function y4(t){return`${jE(Ki(t))}|lt:${t.limitType}`}function Mu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>p4(a))).join(", ")}]`),ov(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>ed(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>ed(a))).join(",")),`Target(${r})`})(Ki(t))}; limitType=${t.limitType})`}function fv(t,e){return e.isFoundDocument()&&(function(r,a){const s=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ke.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,a){for(const s of lh(r))if(!s.field.isKeyField()&&a.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const s of r.filters)if(!s.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(l,u,f){const h=PC(l,u,f);return l.inclusive?h<=0:h<0})(r.startAt,lh(r),a)||r.endAt&&!(function(l,u,f){const h=PC(l,u,f);return l.inclusive?h>=0:h>0})(r.endAt,lh(r),a))})(t,e)}function iH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function v4(t){return(e,n)=>{let r=!1;for(const a of lh(t)){const s=sH(a,e,n);if(s!==0)return s;r=r||a.field.isKeyField()}return 0}}function sH(t,e,n){const r=t.field.isKeyField()?Ke.comparator(e.key,n.key):(function(s,l,u){const f=l.data.field(s),h=u.data.field(s);return f!==null&&h!==null?Ju(f,h):Xe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Xe(19790,{direction:t.dir})}}class Ic{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,s]of r)if(this.equalsFn(a,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],e))return void(a[s]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){wl(this.inner,((n,r)=>{for(const[a,s]of r)e(a,s)}))}isEmpty(){return n4(this.inner)}size(){return this.innerSize}}const oH=new un(Ke.comparator);function Fs(){return oH}const x4=new un(Ke.comparator);function Jf(...t){let e=x4;for(const n of t)e=e.insert(n.key,n);return e}function b4(t){let e=x4;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ac(){return ch()}function w4(){return ch()}function ch(){return new Ic((t=>t.toString()),((t,e)=>t.isEqual(e)))}const lH=new un(Ke.comparator),cH=new Wn(Ke.comparator);function ft(...t){let e=cH;for(const n of t)e=e.add(n);return e}const uH=new Wn(dt);function dH(){return uH}function kE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gg(e)?"-0":e}}function _4(t){return{integerValue:""+t}}function fH(t,e){return Vq(e)?_4(e):kE(t,e)}class hv{constructor(){this._=void 0}}function hH(t,e,n){return t instanceof Zg?(function(a,s){const l={fields:{[i4]:{stringValue:a4},[o4]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return s&&AE(s)&&(s=lv(s)),s&&(l.fields[s4]=s),{mapValue:l}})(n,e):t instanceof bh?S4(t,e):t instanceof wh?N4(t,e):(function(a,s){const l=E4(a,s),u=MC(l)+MC(a.Ae);return I1(l)&&I1(a.Ae)?_4(u):kE(a.serializer,u)})(t,e)}function mH(t,e,n){return t instanceof bh?S4(t,e):t instanceof wh?N4(t,e):n}function E4(t,e){return t instanceof Jg?(function(r){return I1(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class Zg extends hv{}class bh extends hv{constructor(e){super(),this.elements=e}}function S4(t,e){const n=A4(e);for(const r of t.elements)n.some((a=>Qi(a,r)))||n.push(r);return{arrayValue:{values:n}}}class wh extends hv{constructor(e){super(),this.elements=e}}function N4(t,e){let n=A4(e);for(const r of t.elements)n=n.filter((a=>!Qi(a,r)));return{arrayValue:{values:n}}}class Jg extends hv{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function MC(t){return Sn(t.integerValue||t.doubleValue)}function A4(t){return TE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function pH(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof bh&&a instanceof bh||r instanceof wh&&a instanceof wh?Zu(r.elements,a.elements,Qi):r instanceof Jg&&a instanceof Jg?Qi(r.Ae,a.Ae):r instanceof Zg&&a instanceof Zg})(t.transform,e.transform)}class gH{constructor(e,n){this.version=e,this.transformResults=n}}class Dr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Dr}static exists(e){return new Dr(void 0,e)}static updateTime(e){return new Dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class mv{}function T4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new pv(t.key,Dr.none()):new Zh(t.key,t.data,Dr.none());{const n=t.data,r=Wr.empty();let a=new Wn(vr.comparator);for(let s of e.fields)if(!a.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),a=a.add(s)}return new _l(t.key,r,new ga(a.toArray()),Dr.none())}}function yH(t,e,n){t instanceof Zh?(function(a,s,l){const u=a.value.clone(),f=VC(a.fieldTransforms,s,l.transformResults);u.setAll(f),s.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof _l?(function(a,s,l){if(!kg(a.precondition,s))return void s.convertToUnknownDocument(l.version);const u=VC(a.fieldTransforms,s,l.transformResults),f=s.data;f.setAll(j4(a)),f.setAll(u),s.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(a,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function uh(t,e,n,r){return t instanceof Zh?(function(s,l,u,f){if(!kg(s.precondition,l))return u;const h=s.value.clone(),p=UC(s.fieldTransforms,f,l);return h.setAll(p),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof _l?(function(s,l,u,f){if(!kg(s.precondition,l))return u;const h=UC(s.fieldTransforms,f,l),p=l.data;return p.setAll(j4(s)),p.setAll(h),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(s,l,u){return kg(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function vH(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),s=E4(r.transform,a||null);s!=null&&(n===null&&(n=Wr.empty()),n.set(r.field,s))}return n||null}function LC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Zu(r,a,((s,l)=>pH(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zh extends mv{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class _l extends mv{constructor(e,n,r,a,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function j4(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function VC(t,e,n){const r=new Map;At(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const s=t[a],l=s.transform,u=e.data.field(s.field);r.set(s.field,mH(l,u,n[a]))}return r}function UC(t,e,n){const r=new Map;for(const a of t){const s=a.transform,l=n.data.field(a.field);r.set(a.field,hH(s,l,e))}return r}class pv extends mv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xH extends mv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bH{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const s=this.mutations[a];s.key.isEqual(e.key)&&yH(s,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=uh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=uh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=w4();return this.mutations.forEach((a=>{const s=e.get(a.key),l=s.overlayedDocument;let u=this.applyToLocalView(l,s.mutatedFields);u=n.has(a.key)?null:u;const f=T4(l,u);f!==null&&r.set(a.key,f),l.isValidDocument()||l.convertToNoDocument(Ze.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ft())}isEqual(e){return this.batchId===e.batchId&&Zu(this.mutations,e.mutations,((n,r)=>LC(n,r)))&&Zu(this.baseMutations,e.baseMutations,((n,r)=>LC(n,r)))}}class OE{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){At(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return lH})();const s=e.mutations;for(let l=0;l<s.length;l++)a=a.insert(s[l].key,r[l].version);return new OE(e,n,r,a)}}class wH{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class _H{constructor(e,n){this.count=e,this.unchangedNames=n}}var Mn,gt;function EH(t){switch(t){case _e.OK:return Xe(64938);case _e.CANCELLED:case _e.UNKNOWN:case _e.DEADLINE_EXCEEDED:case _e.RESOURCE_EXHAUSTED:case _e.INTERNAL:case _e.UNAVAILABLE:case _e.UNAUTHENTICATED:return!1;case _e.INVALID_ARGUMENT:case _e.NOT_FOUND:case _e.ALREADY_EXISTS:case _e.PERMISSION_DENIED:case _e.FAILED_PRECONDITION:case _e.ABORTED:case _e.OUT_OF_RANGE:case _e.UNIMPLEMENTED:case _e.DATA_LOSS:return!0;default:return Xe(15467,{code:t})}}function C4(t){if(t===void 0)return Bs("GRPC error has no .code"),_e.UNKNOWN;switch(t){case Mn.OK:return _e.OK;case Mn.CANCELLED:return _e.CANCELLED;case Mn.UNKNOWN:return _e.UNKNOWN;case Mn.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case Mn.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case Mn.INTERNAL:return _e.INTERNAL;case Mn.UNAVAILABLE:return _e.UNAVAILABLE;case Mn.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case Mn.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case Mn.NOT_FOUND:return _e.NOT_FOUND;case Mn.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case Mn.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case Mn.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case Mn.ABORTED:return _e.ABORTED;case Mn.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case Mn.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case Mn.DATA_LOSS:return _e.DATA_LOSS;default:return Xe(39323,{code:t})}}(gt=Mn||(Mn={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";function SH(){return new TextEncoder}const NH=new nl([4294967295,4294967295],0);function zC(t){const e=SH().encode(t),n=new HM;return n.update(e),new Uint8Array(n.digest())}function $C(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new nl([n,r],0),new nl([a,s],0)]}class PE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new eh(`Invalid padding: ${n}`);if(r<0)throw new eh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new eh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new eh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=nl.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(nl.fromNumber(r)));return a.compare(NH)===1&&(a=new nl([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=zC(e),[r,a]=$C(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,a,s);if(!this.we(l))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new PE(s,a,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=zC(e),[r,a]=$C(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,a,s);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class eh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class gv{constructor(e,n,r,a,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,Jh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new gv(Ze.min(),a,new un(dt),Fs(),ft())}}class Jh{constructor(e,n,r,a,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Jh(r,n,ft(),ft(),ft())}}class Og{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class k4{constructor(e,n){this.targetId=e,this.Ce=n}}class O4{constructor(e,n,r=br.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class BC{constructor(){this.ve=0,this.Fe=FC(),this.Me=br.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ft(),n=ft(),r=ft();return this.Fe.forEach(((a,s)=>{switch(s){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Xe(38017,{changeType:s})}})),new Jh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=FC()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,At(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class AH{constructor(e){this.Ge=e,this.ze=new Map,this.je=Fs(),this.Je=eg(),this.He=eg(),this.Ye=new un(dt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const s=a.target;if(M1(s))if(r===0){const l=new Ke(s.path);this.et(n,l,Nr.newNoDocument(l,Ze.min()))}else At(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),f=u?this.ct(u,e,l):1;if(f!==0){this.it(n);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:s=0}=n;let l,u;try{l=ll(r).toUint8Array()}catch(f){if(f instanceof r4)return Qu("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new PE(l,a,s)}catch(f){return Qu(f instanceof eh?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((s=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.et(n,s,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((s,l)=>{const u=this.ot(l);if(u){if(s.current&&M1(u.target)){const f=new Ke(u.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,Nr.newNoDocument(f,e))}s.Be&&(n.set(l,s.ke()),s.qe())}}));let r=ft();this.He.forEach(((s,l)=>{let u=!0;l.forEachWhile((f=>{const h=this.ot(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const a=new gv(e,n,this.Ye,this.je,r);return this.je=Fs(),this.Je=eg(),this.He=eg(),this.Ye=new un(dt),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new BC,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Wn(dt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Wn(dt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||De("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new BC),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function eg(){return new un(Ke.comparator)}function FC(){return new un(Ke.comparator)}const TH={asc:"ASCENDING",desc:"DESCENDING"},jH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CH={and:"AND",or:"OR"};class kH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function V1(t,e){return t.useProto3Json||ov(e)?e:{value:e}}function ey(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function P4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function OH(t,e){return ey(t,e.toTimestamp())}function Gi(t){return At(!!t,49232),Ze.fromTimestamp((function(n){const r=ol(n);return new Zt(r.seconds,r.nanos)})(t))}function DE(t,e){return U1(t,e).canonicalString()}function U1(t,e){const n=(function(a){return new Qt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function D4(t){const e=Qt.fromString(t);return At(V4(e),10190,{key:e.toString()}),e}function z1(t,e){return DE(t.databaseId,e.path)}function Cb(t,e){const n=D4(e);if(n.get(1)!==t.databaseId.projectId)throw new Me(_e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Me(_e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ke(R4(n))}function I4(t,e){return DE(t.databaseId,e)}function PH(t){const e=D4(t);return e.length===4?Qt.emptyPath():R4(e)}function $1(t){return new Qt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function R4(t){return At(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function qC(t,e,n){return{name:z1(t,e),fields:n.value.mapValue.fields}}function DH(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Xe(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],s=(function(h,p){return h.useProto3Json?(At(p===void 0||typeof p=="string",58123),br.fromBase64String(p||"")):(At(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),br.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(h){const p=h.code===void 0?_e.UNKNOWN:C4(h.code);return new Me(p,h.message||"")})(l);n=new O4(r,a,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Cb(t,r.document.name),s=Gi(r.document.updateTime),l=r.document.createTime?Gi(r.document.createTime):Ze.min(),u=new Wr({mapValue:{fields:r.document.fields}}),f=Nr.newFoundDocument(a,s,l,u),h=r.targetIds||[],p=r.removedTargetIds||[];n=new Og(h,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Cb(t,r.document),s=r.readTime?Gi(r.readTime):Ze.min(),l=Nr.newNoDocument(a,s),u=r.removedTargetIds||[];n=new Og([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Cb(t,r.document),s=r.removedTargetIds||[];n=new Og([],s,a,null)}else{if(!("filter"in e))return Xe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:s}=r,l=new _H(a,s),u=r.targetId;n=new k4(u,l)}}return n}function IH(t,e){let n;if(e instanceof Zh)n={update:qC(t,e.key,e.value)};else if(e instanceof pv)n={delete:z1(t,e.key)};else if(e instanceof _l)n={update:qC(t,e.key,e.data),updateMask:FH(e.fieldMask)};else{if(!(e instanceof xH))return Xe(16599,{Vt:e.type});n={verify:z1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const u=l.transform;if(u instanceof Zg)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof bh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof wh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Jg)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Xe(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,s){return s.updateTime!==void 0?{updateTime:OH(a,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Xe(27497)})(t,e.precondition)),n}function RH(t,e){return t&&t.length>0?(At(e!==void 0,14353),t.map((n=>(function(a,s){let l=a.updateTime?Gi(a.updateTime):Gi(s);return l.isEqual(Ze.min())&&(l=Gi(s)),new gH(l,a.transformResults||[])})(n,e)))):[]}function MH(t,e){return{documents:[I4(t,e.path)]}}function LH(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=I4(t,a);const s=(function(h){if(h.length!==0)return L4(Zi.create(h,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const l=(function(h){if(h.length!==0)return h.map((p=>(function(x){return{field:Lu(x.field),direction:zH(x.dir)}})(p)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=V1(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:a}}function VH(t){let e=PH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){At(r===1,65062);const p=n.from[0];p.allDescendants?a=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=(function(g){const x=M4(g);return x instanceof Zi&&h4(x)?x.getFilters():[x]})(n.where));let l=[];n.orderBy&&(l=(function(g){return g.map((x=>(function(E){return new Qg(Vu(E.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(x)))})(n.orderBy));let u=null;n.limit&&(u=(function(g){let x;return x=typeof g=="object"?g.value:g,ov(x)?null:x})(n.limit));let f=null;n.startAt&&(f=(function(g){const x=!!g.before,w=g.values||[];return new Xg(w,x)})(n.startAt));let h=null;return n.endAt&&(h=(function(g){const x=!g.before,w=g.values||[];return new Xg(w,x)})(n.endAt)),nH(e,a,l,s,u,"F",f,h)}function UH(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function M4(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Vu(n.unaryFilter.field);return Gn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Vu(n.unaryFilter.field);return Gn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Vu(n.unaryFilter.field);return Gn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Vu(n.unaryFilter.field);return Gn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Xe(61313);default:return Xe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Gn.create(Vu(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Xe(58110);default:return Xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Zi.create(n.compositeFilter.filters.map((r=>M4(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Xe(1026)}})(n.compositeFilter.op))})(t):Xe(30097,{filter:t})}function zH(t){return TH[t]}function $H(t){return jH[t]}function BH(t){return CH[t]}function Lu(t){return{fieldPath:t.canonicalString()}}function Vu(t){return vr.fromServerFormat(t.fieldPath)}function L4(t){return t instanceof Gn?(function(n){if(n.op==="=="){if(OC(n.value))return{unaryFilter:{field:Lu(n.field),op:"IS_NAN"}};if(kC(n.value))return{unaryFilter:{field:Lu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(OC(n.value))return{unaryFilter:{field:Lu(n.field),op:"IS_NOT_NAN"}};if(kC(n.value))return{unaryFilter:{field:Lu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lu(n.field),op:$H(n.op),value:n.value}}})(t):t instanceof Zi?(function(n){const r=n.getFilters().map((a=>L4(a)));return r.length===1?r[0]:{compositeFilter:{op:BH(n.op),filters:r}}})(t):Xe(54877,{filter:t})}function FH(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function V4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Qo{constructor(e,n,r,a,s=Ze.min(),l=Ze.min(),u=br.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new Qo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class qH{constructor(e){this.yt=e}}function HH(t){const e=VH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?L1(e,e.limit,"L"):e}class KH{constructor(){this.Cn=new GH}addToCollectionParentIndex(e,n){return this.Cn.add(n),be.resolve()}getCollectionParents(e,n){return be.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return be.resolve()}deleteFieldIndex(e,n){return be.resolve()}deleteAllFieldIndexes(e){return be.resolve()}createTargetIndexes(e,n){return be.resolve()}getDocumentsMatchingTarget(e,n){return be.resolve(null)}getIndexType(e,n){return be.resolve(0)}getFieldIndexes(e,n){return be.resolve([])}getNextCollectionGroupToUpdate(e){return be.resolve(null)}getMinOffset(e,n){return be.resolve(sl.min())}getMinOffsetFromCollectionGroup(e,n){return be.resolve(sl.min())}updateCollectionGroup(e,n,r){return be.resolve()}updateIndexEntries(e,n){return be.resolve()}}class GH{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new Wn(Qt.comparator),s=!a.has(r);return this.index[n]=a.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Wn(Qt.comparator)).toArray()}}const HC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},U4=41943040;class Yr{static withCacheSize(e){return new Yr(e,Yr.DEFAULT_COLLECTION_PERCENTILE,Yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Yr.DEFAULT_COLLECTION_PERCENTILE=10,Yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yr.DEFAULT=new Yr(U4,Yr.DEFAULT_COLLECTION_PERCENTILE,Yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yr.DISABLED=new Yr(-1,0,0);class td{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new td(0)}static cr(){return new td(-1)}}const KC="LruGarbageCollector",YH=1048576;function GC([t,e],[n,r]){const a=dt(t,n);return a===0?dt(e,r):a}class WH{constructor(e){this.Ir=e,this.buffer=new Wn(GC),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();GC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class XH{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){De(KC,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bd(n)?De(KC,"Ignoring IndexedDB error during garbage collection: ",n):await xd(n)}await this.Vr(3e5)}))}}class QH{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return be.resolve(sv.ce);const r=new WH(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(De("LruGarbageCollector","Garbage collection skipped; disabled"),be.resolve(HC)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(De("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),HC):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,s,l,u,f,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(De("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),a=this.params.maximumSequenceNumbersToCollect):a=g,l=Date.now(),this.nthSequenceNumber(e,a)))).next((g=>(r=g,u=Date.now(),this.removeTargets(e,r,n)))).next((g=>(s=g,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(h=Date.now(),Ru()<=ut.DEBUG&&De("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${a} in `+(u-l)+`ms
	Removed ${s} targets in `+(f-u)+`ms
	Removed ${g} documents in `+(h-f)+`ms
Total Duration: ${h-p}ms`),be.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:s,documentsRemoved:g}))))}}function ZH(t,e){return new QH(t,e)}class JH{constructor(){this.changes=new Ic((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?be.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class eK{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class tK{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&uh(r.mutation,a,ga.empty(),Zt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ft()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ft()){const a=ac();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((s=>{let l=Jf();return s.forEach(((u,f)=>{l=l.insert(u,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=ac();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ft())))}populateOverlays(e,n,r){const a=[];return r.forEach((s=>{n.has(s)||a.push(s)})),this.documentOverlayCache.getOverlays(e,a).next((s=>{s.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,a){let s=Fs();const l=ch(),u=(function(){return ch()})();return n.forEach(((f,h)=>{const p=r.get(h.key);a.has(h.key)&&(p===void 0||p.mutation instanceof _l)?s=s.insert(h.key,h):p!==void 0?(l.set(h.key,p.mutation.getFieldMask()),uh(p.mutation,h,p.mutation.getFieldMask(),Zt.now())):l.set(h.key,ga.empty())})),this.recalculateAndSaveOverlays(e,s).next((f=>(f.forEach(((h,p)=>l.set(h,p))),n.forEach(((h,p)=>u.set(h,new eK(p,l.get(h)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=ch();let a=new un(((l,u)=>l-u)),s=ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((f=>{const h=n.get(f);if(h===null)return;let p=r.get(f)||ga.empty();p=u.applyToLocalView(h,p),r.set(f,p);const g=(a.get(u.batchId)||ft()).add(f);a=a.insert(u.batchId,g)}))})).next((()=>{const l=[],u=a.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),h=f.key,p=f.value,g=w4();p.forEach((x=>{if(!s.has(x)){const w=T4(n.get(x),r.get(x));w!==null&&g.set(x,w),s=s.add(x)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,g))}return be.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(l){return Ke.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):rH(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((s=>{const l=a-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-s.size):be.resolve(ac());let u=gh,f=s;return l.next((h=>be.forEach(h,((p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),s.get(p)?be.resolve():this.remoteDocumentCache.getEntry(e,p).next((x=>{f=f.insert(p,x)}))))).next((()=>this.populateOverlays(e,h,s))).next((()=>this.computeViews(e,f,h,ft()))).next((p=>({batchId:u,changes:b4(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ke(n)).next((r=>{let a=Jf();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const s=n.collectionGroup;let l=Jf();return this.indexManager.getCollectionParents(e,s).next((u=>be.forEach(u,(f=>{const h=(function(g,x){return new cv(x,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,a).next((p=>{p.forEach(((g,x)=>{l=l.insert(g,x)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,a)))).next((l=>{s.forEach(((f,h)=>{const p=h.getKey();l.get(p)===null&&(l=l.insert(p,Nr.newInvalidDocument(p)))}));let u=Jf();return l.forEach(((f,h)=>{const p=s.get(f);p!==void 0&&uh(p.mutation,h,ga.empty(),Zt.now()),fv(n,h)&&(u=u.insert(f,h))})),u}))}}class nK{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return be.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Gi(a.createTime)}})(n)),be.resolve()}getNamedQuery(e,n){return be.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:HH(a.bundledQuery),readTime:Gi(a.readTime)}})(n)),be.resolve()}}class rK{constructor(){this.overlays=new un(Ke.comparator),this.qr=new Map}getOverlay(e,n){return be.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ac();return be.forEach(n,(a=>this.getOverlay(e,a).next((s=>{s!==null&&r.set(a,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,s)=>{this.St(e,n,s)})),be.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),be.resolve()}getOverlaysForCollection(e,n,r){const a=ac(),s=n.length+1,l=new Ke(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const f=u.getNext().value,h=f.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&f.largestBatchId>r&&a.set(f.getKey(),f)}return be.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let s=new un(((h,p)=>h-p));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=ac(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const u=ac(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((h,p)=>u.set(h,p))),!(u.size()>=a)););return be.resolve(u)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const l=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new wH(n,r));let s=this.qr.get(n);s===void 0&&(s=ft(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}class aK{constructor(){this.sessionToken=br.EMPTY_BYTE_STRING}getSessionToken(e){return be.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,be.resolve()}}class IE{constructor(){this.Qr=new Wn(ir.$r),this.Ur=new Wn(ir.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new ir(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new ir(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ke(new Qt([])),r=new ir(n,e),a=new ir(n,e+1),s=[];return this.Ur.forEachInRange([r,a],(l=>{this.Gr(l),s.push(l.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ke(new Qt([])),r=new ir(n,e),a=new ir(n,e+1);let s=ft();return this.Ur.forEachInRange([r,a],(l=>{s=s.add(l.key)})),s}containsKey(e){const n=new ir(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ir{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ke.comparator(e.key,n.key)||dt(e.Yr,n.Yr)}static Kr(e,n){return dt(e.Yr,n.Yr)||Ke.comparator(e.key,n.key)}}class iK{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Wn(ir.$r)}checkEmpty(e){return be.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new bH(s,n,r,a);this.mutationQueue.push(l);for(const u of a)this.Zr=this.Zr.add(new ir(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return be.resolve(l)}lookupMutationBatch(e,n){return be.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),s=a<0?0:a;return be.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(this.mutationQueue.length===0?NE:this.tr-1)}getAllMutationBatches(e){return be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ir(n,0),a=new ir(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,a],(l=>{const u=this.Xr(l.Yr);s.push(u)})),be.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Wn(dt);return n.forEach((a=>{const s=new ir(a,0),l=new ir(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,l],(u=>{r=r.add(u.Yr)}))})),be.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let s=r;Ke.isDocumentKey(s)||(s=s.child(""));const l=new ir(new Ke(s),0);let u=new Wn(dt);return this.Zr.forEachWhile((f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===a&&(u=u.add(f.Yr)),!0)}),l),be.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){At(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return be.forEach(n.mutations,(a=>{const s=new ir(a.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new ir(n,0),a=this.Zr.firstAfterOrEqual(r);return be.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,be.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class sK{constructor(e){this.ri=e,this.docs=(function(){return new un(Ke.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),s=a?a.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return be.resolve(r?r.document.mutableCopy():Nr.newInvalidDocument(n))}getEntries(e,n){let r=Fs();return n.forEach((a=>{const s=this.docs.get(a);r=r.insert(a,s?s.document.mutableCopy():Nr.newInvalidDocument(a))})),be.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let s=Fs();const l=n.path,u=new Ke(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:h,value:{document:p}}=f.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||Iq(Dq(p),r)<=0||(a.has(p.key)||fv(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return be.resolve(s)}getAllFromCollectionGroup(e,n,r,a){Xe(9500)}ii(e,n){return be.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new oK(this)}getSize(e){return be.resolve(this.size)}}class oK extends JH{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),be.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class lK{constructor(e){this.persistence=e,this.si=new Ic((n=>jE(n)),CE),this.lastRemoteSnapshotVersion=Ze.min(),this.highestTargetId=0,this.oi=0,this._i=new IE,this.targetCount=0,this.ai=td.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),be.resolve()}getLastRemoteSnapshotVersion(e){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return be.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),be.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new td(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,be.resolve()}updateTargetData(e,n){return this.Pr(n),be.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,be.resolve()}removeTargets(e,n,r){let a=0;const s=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(l),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),a++)})),be.waitFor(s).next((()=>a))}getTargetCount(e){return be.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return be.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),be.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,s=[];return a&&n.forEach((l=>{s.push(a.markPotentiallyOrphaned(e,l))})),be.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),be.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return be.resolve(r)}containsKey(e,n){return be.resolve(this._i.containsKey(n))}}class z4{constructor(e,n){this.ui={},this.overlays={},this.ci=new sv(0),this.li=!1,this.li=!0,this.hi=new aK,this.referenceDelegate=e(this),this.Pi=new lK(this),this.indexManager=new KH,this.remoteDocumentCache=(function(a){return new sK(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new qH(n),this.Ii=new nK(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rK,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new iK(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){De("MemoryPersistence","Starting transaction:",e);const a=new cK(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((s=>this.referenceDelegate.di(a).next((()=>s)))).toPromise().then((s=>(a.raiseOnCommittedEvent(),s)))}Ai(e,n){return be.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class cK extends Mq{constructor(e){super(),this.currentSequenceNumber=e}}class RE{constructor(e){this.persistence=e,this.Ri=new IE,this.Vi=null}static mi(e){return new RE(e)}get fi(){if(this.Vi)return this.Vi;throw Xe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),be.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),be.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),be.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.fi,(r=>{const a=Ke.fromPath(r);return this.gi(e,a).next((s=>{s||n.removeEntry(a,Ze.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return be.or([()=>be.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ty{constructor(e,n){this.persistence=e,this.pi=new Ic((r=>Uq(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=ZH(this,n)}static mi(e,n){return new ty(e,n)}Ei(){}di(e){return be.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return be.forEach(this.pi,((r,a)=>this.br(e,r,a).next((s=>s?be.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),s=a.newChangeBuffer();return a.ii(e,(l=>this.br(e,l,n).next((u=>{u||(r++,s.removeEntry(l,Ze.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),be.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),be.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),be.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),be.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=jg(e.data.value)),n}br(e,n,r){return be.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return be.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ME{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=ft(),a=ft();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}return new ME(e,n.fromCache,r,a)}}class uK{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class dK{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return z$()?8:Lq(Tr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const s={result:null};return this.ys(e,n).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ws(e,n,a,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new uK;return this.Ss(e,n,l).next((u=>{if(s.result=u,this.Vs)return this.bs(e,n,l,u.size)}))})).next((()=>s.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(Ru()<=ut.DEBUG&&De("QueryEngine","SDK will not create cache indexes for query:",Mu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),be.resolve()):(Ru()<=ut.DEBUG&&De("QueryEngine","Query:",Mu(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(Ru()<=ut.DEBUG&&De("QueryEngine","The SDK decides to create cache indexes for query:",Mu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ki(n))):be.resolve())}ys(e,n){if(RC(n))return be.resolve(null);let r=Ki(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=L1(n,null,"F"),r=Ki(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=ft(...s);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((f=>{const h=this.Ds(n,u);return this.Cs(n,h,l,f.readTime)?this.ys(e,L1(n,null,"F")):this.vs(e,h,n,f)}))))})))))}ws(e,n,r,a){return RC(n)||a.isEqual(Ze.min())?be.resolve(null):this.ps.getDocuments(e,r).next((s=>{const l=this.Ds(n,s);return this.Cs(n,l,r,a)?be.resolve(null):(Ru()<=ut.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Mu(n)),this.vs(e,l,n,Pq(a,gh)).next((u=>u)))}))}Ds(e,n){let r=new Wn(v4(e));return n.forEach(((a,s)=>{fv(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(a)>0)}Ss(e,n,r){return Ru()<=ut.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",Mu(n)),this.ps.getDocumentsMatchingQuery(e,n,sl.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((s=>(n.forEach((l=>{s=s.insert(l.key,l)})),s)))}}const LE="LocalStore",fK=3e8;class hK{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new un(dt),this.xs=new Ic((s=>jE(s)),CE),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tK(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function mK(t,e,n,r){return new hK(t,e,n,r)}async function $4(t,e){const n=et(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((s=>(a=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],u=[];let f=ft();for(const h of a){l.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}for(const h of s){u.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}return n.localDocuments.getDocuments(r,f).next((h=>({Ls:h,removedBatchIds:l,addedBatchIds:u})))}))}))}function pK(t,e){const n=et(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,f,h,p){const g=h.batch,x=g.keys();let w=be.resolve();return x.forEach((E=>{w=w.next((()=>p.getEntry(f,E))).next((S=>{const A=h.docVersions.get(E);At(A!==null,48541),S.version.compareTo(A)<0&&(g.applyToRemoteDocument(S,h),S.isValidDocument()&&(S.setReadTime(h.commitVersion),p.addEntry(S)))}))})),w.next((()=>u.mutationQueue.removeMutationBatch(f,g)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let f=ft();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(f=f.add(u.batch.mutations[h].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function B4(t){const e=et(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function gK(t,e){const n=et(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const u=[];e.targetChanges.forEach(((p,g)=>{const x=a.get(g);if(!x)return;u.push(n.Pi.removeMatchingKeys(s,p.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(s,p.addedDocuments,g))));let w=x.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?w=w.withResumeToken(br.EMPTY_BYTE_STRING,Ze.min()).withLastLimboFreeSnapshotVersion(Ze.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,r)),a=a.insert(g,w),(function(S,A,j){return S.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=fK?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(x,w,p)&&u.push(n.Pi.updateTargetData(s,w))}));let f=Fs(),h=ft();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))})),u.push(yK(s,l,e.documentUpdates).next((p=>{f=p.ks,h=p.qs}))),!r.isEqual(Ze.min())){const p=n.Pi.getLastRemoteSnapshotVersion(s).next((g=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));u.push(p)}return be.waitFor(u).next((()=>l.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,f,h))).next((()=>f))})).then((s=>(n.Ms=a,s)))}function yK(t,e,n){let r=ft(),a=ft();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let l=Fs();return n.forEach(((u,f)=>{const h=s.get(u);f.isFoundDocument()!==h.isFoundDocument()&&(a=a.add(u)),f.isNoDocument()&&f.version.isEqual(Ze.min())?(e.removeEntry(u,f.readTime),l=l.insert(u,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),l=l.insert(u,f)):De(LE,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",f.version)})),{ks:l,qs:a}}))}function vK(t,e){const n=et(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=NE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function xK(t,e){const n=et(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((s=>s?(a=s,be.resolve(a)):n.Pi.allocateTargetId(r).next((l=>(a=new Qo(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function B1(t,e,n){const r=et(t),a=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,a)))}catch(l){if(!bd(l))throw l;De(LE,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function YC(t,e,n){const r=et(t);let a=Ze.min(),s=ft();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,h,p){const g=et(f),x=g.xs.get(p);return x!==void 0?be.resolve(g.Ms.get(x)):g.Pi.getTargetData(h,p)})(r,l,Ki(e)).next((u=>{if(u)return a=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((f=>{s=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?a:Ze.min(),n?s:ft()))).next((u=>(bK(r,iH(e),u),{documents:u,Qs:s})))))}function bK(t,e,n){let r=t.Os.get(e)||Ze.min();n.forEach(((a,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class WC{constructor(){this.activeTargetIds=dH()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wK{constructor(){this.Mo=new WC,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new WC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _K{Oo(e){}shutdown(){}}const XC="ConnectivityMonitor";class QC{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){De(XC,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){De(XC,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let tg=null;function F1(){return tg===null?tg=(function(){return 268435456+Math.round(2147483648*Math.random())})():tg++,"0x"+tg.toString(16)}const kb="RestConnection",EK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class SK{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Yg?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,s){const l=F1(),u=this.zo(e,n.toUriEncodedString());De(kb,`Sending RPC '${e}' ${l}:`,u,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,a,s);const{host:h}=new URL(u),p=pd(h);return this.Jo(e,u,f,r,p).then((g=>(De(kb,`Received RPC '${e}' ${l}: `,g),g)),(g=>{throw Qu(kb,`RPC '${e}' ${l} failed with error: `,g,"url: ",u,"request:",r),g}))}Ho(e,n,r,a,s,l){return this.Go(e,n,r,a,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vd})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,s)=>e[s]=a)),r&&r.headers.forEach(((a,s)=>e[s]=a))}zo(e,n){const r=EK[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class NK{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const _r="WebChannelConnection";class AK extends SK{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,s){const l=F1();return new Promise(((u,f)=>{const h=new KM;h.setWithCredentials(!0),h.listenOnce(GM.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Tg.NO_ERROR:const g=h.getResponseJson();De(_r,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),u(g);break;case Tg.TIMEOUT:De(_r,`RPC '${e}' ${l} timed out`),f(new Me(_e.DEADLINE_EXCEEDED,"Request time out"));break;case Tg.HTTP_ERROR:const x=h.getStatus();if(De(_r,`RPC '${e}' ${l} failed with status:`,x,"response text:",h.getResponseText()),x>0){let w=h.getResponseJson();Array.isArray(w)&&(w=w[0]);const E=w?.error;if(E&&E.status&&E.message){const S=(function(j){const I=j.toLowerCase().replace(/_/g,"-");return Object.values(_e).indexOf(I)>=0?I:_e.UNKNOWN})(E.status);f(new Me(S,E.message))}else f(new Me(_e.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new Me(_e.UNAVAILABLE,"Connection failed."));break;default:Xe(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{De(_r,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(a);De(_r,`RPC '${e}' ${l} sending request:`,a),h.send(n,"POST",p,r,15)}))}T_(e,n,r){const a=F1(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=XM(),u=WM(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const p=s.join("");De(_r,`Creating RPC '${e}' stream ${a}: ${p}`,f);const g=l.createWebChannel(p,f);this.I_(g);let x=!1,w=!1;const E=new NK({Yo:A=>{w?De(_r,`Not sending because RPC '${e}' stream ${a} is closed:`,A):(x||(De(_r,`Opening RPC '${e}' stream ${a} transport.`),g.open(),x=!0),De(_r,`RPC '${e}' stream ${a} sending:`,A),g.send(A))},Zo:()=>g.close()}),S=(A,j,I)=>{A.listen(j,(P=>{try{I(P)}catch(H){setTimeout((()=>{throw H}),0)}}))};return S(g,Zf.EventType.OPEN,(()=>{w||(De(_r,`RPC '${e}' stream ${a} transport opened.`),E.o_())})),S(g,Zf.EventType.CLOSE,(()=>{w||(w=!0,De(_r,`RPC '${e}' stream ${a} transport closed`),E.a_(),this.E_(g))})),S(g,Zf.EventType.ERROR,(A=>{w||(w=!0,Qu(_r,`RPC '${e}' stream ${a} transport errored. Name:`,A.name,"Message:",A.message),E.a_(new Me(_e.UNAVAILABLE,"The operation could not be completed")))})),S(g,Zf.EventType.MESSAGE,(A=>{if(!w){const j=A.data[0];At(!!j,16349);const I=j,P=I?.error||I[0]?.error;if(P){De(_r,`RPC '${e}' stream ${a} received error:`,P);const H=P.status;let R=(function(O){const D=Mn[O];if(D!==void 0)return C4(D)})(H),F=P.message;R===void 0&&(R=_e.INTERNAL,F="Unknown error status: "+H+" with message "+P.message),w=!0,E.a_(new Me(R,F)),g.close()}else De(_r,`RPC '${e}' stream ${a} received:`,j),E.u_(j)}})),S(u,YM.STAT_EVENT,(A=>{A.stat===O1.PROXY?De(_r,`RPC '${e}' stream ${a} detected buffering proxy`):A.stat===O1.NOPROXY&&De(_r,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{E.__()}),0),E}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Ob(){return typeof document<"u"?document:null}function yv(t){return new kH(t,!0)}class F4{constructor(e,n,r=1e3,a=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&De("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const ZC="PersistentStream";class q4{constructor(e,n,r,a,s,l,u,f){this.Mi=e,this.S_=r,this.b_=a,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new F4(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===_e.RESOURCE_EXHAUSTED?(Bs(n.toString()),Bs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===_e.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new Me(_e.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return De(ZC,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(De(ZC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class TK extends q4{constructor(e,n,r,a,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,l),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=DH(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Ze.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Ze.min():l.readTime?Gi(l.readTime):Ze.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=$1(this.serializer),n.addTarget=(function(s,l){let u;const f=l.target;if(u=M1(f)?{documents:MH(s,f)}:{query:LH(s,f).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=P4(s,l.resumeToken);const h=V1(s,l.expectedCount);h!==null&&(u.expectedCount=h)}else if(l.snapshotVersion.compareTo(Ze.min())>0){u.readTime=ey(s,l.snapshotVersion.toTimestamp());const h=V1(s,l.expectedCount);h!==null&&(u.expectedCount=h)}return u})(this.serializer,e);const r=UH(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=$1(this.serializer),n.removeTarget=e,this.q_(n)}}class jK extends q4{constructor(e,n,r,a,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,l),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return At(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,At(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){At(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=RH(e.writeResults,e.commitTime),r=Gi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=$1(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>IH(this.serializer,r)))};this.q_(n)}}class CK{}class kK extends CK{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Me(_e.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Go(e,U1(n,r),a,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Me(_e.UNKNOWN,s.toString())}))}Ho(e,n,r,a,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,U1(n,r),a,l,u,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Me(_e.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class OK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Bs(n),this.aa=!1):De("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const wc="RemoteStore";class PK{constructor(e,n,r,a,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Rc(this)&&(De(wc,"Restarting streams for network reachability change."),await(async function(f){const h=et(f);h.Ea.add(4),await em(h),h.Ra.set("Unknown"),h.Ea.delete(4),await vv(h)})(this))}))})),this.Ra=new OK(r,a)}}async function vv(t){if(Rc(t))for(const e of t.da)await e(!0)}async function em(t){for(const e of t.da)await e(!1)}function H4(t,e){const n=et(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),$E(n)?zE(n):wd(n).O_()&&UE(n,e))}function VE(t,e){const n=et(t),r=wd(n);n.Ia.delete(e),r.O_()&&K4(n,e),n.Ia.size===0&&(r.O_()?r.L_():Rc(n)&&n.Ra.set("Unknown"))}function UE(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ze.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wd(t).Y_(e)}function K4(t,e){t.Va.Ue(e),wd(t).Z_(e)}function zE(t){t.Va=new AH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),wd(t).start(),t.Ra.ua()}function $E(t){return Rc(t)&&!wd(t).x_()&&t.Ia.size>0}function Rc(t){return et(t).Ea.size===0}function G4(t){t.Va=void 0}async function DK(t){t.Ra.set("Online")}async function IK(t){t.Ia.forEach(((e,n)=>{UE(t,e)}))}async function RK(t,e){G4(t),$E(t)?(t.Ra.ha(e),zE(t)):t.Ra.set("Unknown")}async function MK(t,e,n){if(t.Ra.set("Online"),e instanceof O4&&e.state===2&&e.cause)try{await(async function(a,s){const l=s.cause;for(const u of s.targetIds)a.Ia.has(u)&&(await a.remoteSyncer.rejectListen(u,l),a.Ia.delete(u),a.Va.removeTarget(u))})(t,e)}catch(r){De(wc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ny(t,r)}else if(e instanceof Og?t.Va.Ze(e):e instanceof k4?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ze.min()))try{const r=await B4(t.localStore);n.compareTo(r)>=0&&await(function(s,l){const u=s.Va.Tt(l);return u.targetChanges.forEach(((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const p=s.Ia.get(h);p&&s.Ia.set(h,p.withResumeToken(f.resumeToken,l))}})),u.targetMismatches.forEach(((f,h)=>{const p=s.Ia.get(f);if(!p)return;s.Ia.set(f,p.withResumeToken(br.EMPTY_BYTE_STRING,p.snapshotVersion)),K4(s,f);const g=new Qo(p.target,f,h,p.sequenceNumber);UE(s,g)})),s.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){De(wc,"Failed to raise snapshot:",r),await ny(t,r)}}async function ny(t,e,n){if(!bd(e))throw e;t.Ea.add(1),await em(t),t.Ra.set("Offline"),n||(n=()=>B4(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{De(wc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await vv(t)}))}function Y4(t,e){return e().catch((n=>ny(t,n,e)))}async function xv(t){const e=et(t),n=ul(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:NE;for(;LK(e);)try{const a=await vK(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,VK(e,a)}catch(a){await ny(e,a)}W4(e)&&X4(e)}function LK(t){return Rc(t)&&t.Ta.length<10}function VK(t,e){t.Ta.push(e);const n=ul(t);n.O_()&&n.X_&&n.ea(e.mutations)}function W4(t){return Rc(t)&&!ul(t).x_()&&t.Ta.length>0}function X4(t){ul(t).start()}async function UK(t){ul(t).ra()}async function zK(t){const e=ul(t);for(const n of t.Ta)e.ea(n.mutations)}async function $K(t,e,n){const r=t.Ta.shift(),a=OE.from(r,e,n);await Y4(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await xv(t)}async function BK(t,e){e&&ul(t).X_&&await(async function(r,a){if((function(l){return EH(l)&&l!==_e.ABORTED})(a.code)){const s=r.Ta.shift();ul(r).B_(),await Y4(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,a))),await xv(r)}})(t,e),W4(t)&&X4(t)}async function JC(t,e){const n=et(t);n.asyncQueue.verifyOperationInProgress(),De(wc,"RemoteStore received new credentials");const r=Rc(n);n.Ea.add(3),await em(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await vv(n)}async function FK(t,e){const n=et(t);e?(n.Ea.delete(2),await vv(n)):e||(n.Ea.add(2),await em(n),n.Ra.set("Unknown"))}function wd(t){return t.ma||(t.ma=(function(n,r,a){const s=et(n);return s.sa(),new TK(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)})(t.datastore,t.asyncQueue,{Xo:DK.bind(null,t),t_:IK.bind(null,t),r_:RK.bind(null,t),H_:MK.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),$E(t)?zE(t):t.Ra.set("Unknown")):(await t.ma.stop(),G4(t))}))),t.ma}function ul(t){return t.fa||(t.fa=(function(n,r,a){const s=et(n);return s.sa(),new jK(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:UK.bind(null,t),r_:BK.bind(null,t),ta:zK.bind(null,t),na:$K.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await xv(t)):(await t.fa.stop(),t.Ta.length>0&&(De(wc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class BE{constructor(e,n,r,a,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=s,this.deferred=new Ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,s){const l=Date.now()+r,u=new BE(e,n,l,a,s);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Me(_e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function FE(t,e){if(Bs("AsyncQueue",`${e}: ${t}`),bd(t))return new Me(_e.UNAVAILABLE,`${e}: ${t}`);throw t}class Ku{static emptySet(e){return new Ku(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ke.comparator(n.key,r.key):(n,r)=>Ke.comparator(n.key,r.key),this.keyedMap=Jf(),this.sortedSet=new un(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ku)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,s=r.getNext().key;if(!a.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ku;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class ek{constructor(){this.ga=new un(Ke.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Xe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class nd{constructor(e,n,r,a,s,l,u,f,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,a,s){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new nd(e,n,Ku.emptySet(n),l,r,a,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}class qK{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class HK{constructor(){this.queries=tk(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=et(n),s=a.queries;a.queries=tk(),s.forEach(((l,u)=>{for(const f of u.Sa)f.onError(r)}))})(this,new Me(_e.ABORTED,"Firestore shutting down"))}}function tk(){return new Ic((t=>y4(t)),dv)}async function qE(t,e){const n=et(t);let r=3;const a=e.query;let s=n.queries.get(a);s?!s.ba()&&e.Da()&&(r=2):(s=new qK,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(a,!0);break;case 1:s.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(l){const u=FE(l,`Initialization of query '${Mu(e.query)}' failed`);return void e.onError(u)}n.queries.set(a,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&KE(n)}async function HE(t,e){const n=et(t),r=e.query;let a=3;const s=n.queries.get(r);if(s){const l=s.Sa.indexOf(e);l>=0&&(s.Sa.splice(l,1),s.Sa.length===0?a=e.Da()?0:1:!s.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function KK(t,e){const n=et(t);let r=!1;for(const a of e){const s=a.query,l=n.queries.get(s);if(l){for(const u of l.Sa)u.Fa(a)&&(r=!0);l.wa=a}}r&&KE(n)}function GK(t,e,n){const r=et(t),a=r.queries.get(e);if(a)for(const s of a.Sa)s.onError(n);r.queries.delete(e)}function KE(t){t.Ca.forEach((e=>{e.next()}))}var q1,nk;(nk=q1||(q1={})).Ma="default",nk.Cache="cache";class GE{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new nd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=nd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==q1.Cache}}class Q4{constructor(e){this.key=e}}class Z4{constructor(e){this.key=e}}class YK{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ft(),this.mutatedKeys=ft(),this.eu=v4(e),this.tu=new Ku(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new ek,a=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,l=a,u=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,h=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((p,g)=>{const x=a.get(p),w=fv(this.query,g)?g:null,E=!!x&&this.mutatedKeys.has(x.key),S=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let A=!1;x&&w?x.data.isEqual(w.data)?E!==S&&(r.track({type:3,doc:w}),A=!0):this.su(x,w)||(r.track({type:2,doc:w}),A=!0,(f&&this.eu(w,f)>0||h&&this.eu(w,h)<0)&&(u=!0)):!x&&w?(r.track({type:0,doc:w}),A=!0):x&&!w&&(r.track({type:1,doc:x}),A=!0,(f||h)&&(u=!0)),A&&(w?(l=l.add(w),s=S?s.add(p):s.delete(p)):(l=l.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{tu:l,iu:r,Cs:u,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,g)=>(function(w,E){const S=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe(20277,{Rt:A})}};return S(w)-S(E)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),a=a??!1;const u=n&&!a?this._u():[],f=this.Xa.size===0&&this.current&&!a?1:0,h=f!==this.Za;return this.Za=f,l.length!==0||h?{snapshot:new nd(this.query,e.tu,s,l,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ek,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ft(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new Z4(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new Q4(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=ft();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return nd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const YE="SyncEngine";class WK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class XK{constructor(e){this.key=e,this.hu=!1}}class QK{constructor(e,n,r,a,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Ic((u=>y4(u)),dv),this.Iu=new Map,this.Eu=new Set,this.du=new un(Ke.comparator),this.Au=new Map,this.Ru=new IE,this.Vu={},this.mu=new Map,this.fu=td.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ZK(t,e,n=!0){const r=a3(t);let a;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),a=s.view.lu()):a=await J4(r,e,n,!0),a}async function JK(t,e){const n=a3(t);await J4(n,e,!0,!1)}async function J4(t,e,n,r){const a=await xK(t.localStore,Ki(e)),s=a.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let u;return r&&(u=await eG(t,e,s,l==="current",a.resumeToken)),t.isPrimaryClient&&n&&H4(t.remoteStore,a),u}async function eG(t,e,n,r,a){t.pu=(g,x,w)=>(async function(S,A,j,I){let P=A.view.ru(j);P.Cs&&(P=await YC(S.localStore,A.query,!1).then((({documents:k})=>A.view.ru(k,P))));const H=I&&I.targetChanges.get(A.targetId),R=I&&I.targetMismatches.get(A.targetId)!=null,F=A.view.applyChanges(P,S.isPrimaryClient,H,R);return ak(S,A.targetId,F.au),F.snapshot})(t,g,x,w);const s=await YC(t.localStore,e,!0),l=new YK(e,s.Qs),u=l.ru(s.documents),f=Jh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),h=l.applyChanges(u,t.isPrimaryClient,f);ak(t,n,h.au);const p=new WK(e,n,l);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function tG(t,e,n){const r=et(t),a=r.Tu.get(e),s=r.Iu.get(a.targetId);if(s.length>1)return r.Iu.set(a.targetId,s.filter((l=>!dv(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await B1(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&VE(r.remoteStore,a.targetId),H1(r,a.targetId)})).catch(xd)):(H1(r,a.targetId),await B1(r.localStore,a.targetId,!0))}async function nG(t,e){const n=et(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),VE(n.remoteStore,r.targetId))}async function rG(t,e,n){const r=uG(t);try{const a=await(function(l,u){const f=et(l),h=Zt.now(),p=u.reduce(((w,E)=>w.add(E.key)),ft());let g,x;return f.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let E=Fs(),S=ft();return f.Ns.getEntries(w,p).next((A=>{E=A,E.forEach(((j,I)=>{I.isValidDocument()||(S=S.add(j))}))})).next((()=>f.localDocuments.getOverlayedDocuments(w,E))).next((A=>{g=A;const j=[];for(const I of u){const P=vH(I,g.get(I.key).overlayedDocument);P!=null&&j.push(new _l(I.key,P,u4(P.value.mapValue),Dr.exists(!0)))}return f.mutationQueue.addMutationBatch(w,h,j,u)})).next((A=>{x=A;const j=A.applyToLocalDocumentSet(g,S);return f.documentOverlayCache.saveOverlays(w,A.batchId,j)}))})).then((()=>({batchId:x.batchId,changes:b4(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(l,u,f){let h=l.Vu[l.currentUser.toKey()];h||(h=new un(dt)),h=h.insert(u,f),l.Vu[l.currentUser.toKey()]=h})(r,a.batchId,n),await tm(r,a.changes),await xv(r.remoteStore)}catch(a){const s=FE(a,"Failed to persist write");n.reject(s)}}async function e3(t,e){const n=et(t);try{const r=await gK(n.localStore,e);e.targetChanges.forEach(((a,s)=>{const l=n.Au.get(s);l&&(At(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?l.hu=!0:a.modifiedDocuments.size>0?At(l.hu,14607):a.removedDocuments.size>0&&(At(l.hu,42227),l.hu=!1))})),await tm(n,r,e)}catch(r){await xd(r)}}function rk(t,e,n){const r=et(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((s,l)=>{const u=l.view.va(e);u.snapshot&&a.push(u.snapshot)})),(function(l,u){const f=et(l);f.onlineState=u;let h=!1;f.queries.forEach(((p,g)=>{for(const x of g.Sa)x.va(u)&&(h=!0)})),h&&KE(f)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function aG(t,e,n){const r=et(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),s=a&&a.key;if(s){let l=new un(Ke.comparator);l=l.insert(s,Nr.newNoDocument(s,Ze.min()));const u=ft().add(s),f=new gv(Ze.min(),new Map,new un(dt),l,u);await e3(r,f),r.du=r.du.remove(s),r.Au.delete(e),WE(r)}else await B1(r.localStore,e,!1).then((()=>H1(r,e,n))).catch(xd)}async function iG(t,e){const n=et(t),r=e.batch.batchId;try{const a=await pK(n.localStore,e);n3(n,r,null),t3(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await tm(n,a)}catch(a){await xd(a)}}async function sG(t,e,n){const r=et(t);try{const a=await(function(l,u){const f=et(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return f.mutationQueue.lookupMutationBatch(h,u).next((g=>(At(g!==null,37113),p=g.keys(),f.mutationQueue.removeMutationBatch(h,g)))).next((()=>f.mutationQueue.performConsistencyCheck(h))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(h,p,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>f.localDocuments.getDocuments(h,p)))}))})(r.localStore,e);n3(r,e,n),t3(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await tm(r,a)}catch(a){await xd(a)}}function t3(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function n3(t,e,n){const r=et(t);let a=r.Vu[r.currentUser.toKey()];if(a){const s=a.get(e);s&&(n?s.reject(n):s.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function H1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||r3(t,r)}))}function r3(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(VE(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),WE(t))}function ak(t,e,n){for(const r of n)r instanceof Q4?(t.Ru.addReference(r.key,e),oG(t,r)):r instanceof Z4?(De(YE,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||r3(t,r.key)):Xe(19791,{wu:r})}function oG(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(De(YE,"New document in limbo: "+n),t.Eu.add(r),WE(t))}function WE(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ke(Qt.fromString(e)),r=t.fu.next();t.Au.set(r,new XK(n)),t.du=t.du.insert(n,r),H4(t.remoteStore,new Qo(Ki(uv(n.path)),r,"TargetPurposeLimboResolution",sv.ce))}}async function tm(t,e,n){const r=et(t),a=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,f)=>{l.push(r.pu(f,e,n).then((h=>{if((h||n)&&r.isPrimaryClient){const p=h?!h.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,p?"current":"not-current")}if(h){a.push(h);const p=ME.As(f.targetId,h);s.push(p)}})))})),await Promise.all(l),r.Pu.H_(a),await(async function(f,h){const p=et(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>be.forEach(h,(x=>be.forEach(x.Es,(w=>p.persistence.referenceDelegate.addReference(g,x.targetId,w))).next((()=>be.forEach(x.ds,(w=>p.persistence.referenceDelegate.removeReference(g,x.targetId,w)))))))))}catch(g){if(!bd(g))throw g;De(LE,"Failed to update sequence numbers: "+g)}for(const g of h){const x=g.targetId;if(!g.fromCache){const w=p.Ms.get(x),E=w.snapshotVersion,S=w.withLastLimboFreeSnapshotVersion(E);p.Ms=p.Ms.insert(x,S)}}})(r.localStore,s))}async function lG(t,e){const n=et(t);if(!n.currentUser.isEqual(e)){De(YE,"User change. New user:",e.toKey());const r=await $4(n.localStore,e);n.currentUser=e,(function(s,l){s.mu.forEach((u=>{u.forEach((f=>{f.reject(new Me(_e.CANCELLED,l))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await tm(n,r.Ls)}}function cG(t,e){const n=et(t),r=n.Au.get(e);if(r&&r.hu)return ft().add(r.key);{let a=ft();const s=n.Iu.get(e);if(!s)return a;for(const l of s){const u=n.Tu.get(l);a=a.unionWith(u.view.nu)}return a}}function a3(t){const e=et(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=e3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aG.bind(null,e),e.Pu.H_=KK.bind(null,e.eventManager),e.Pu.yu=GK.bind(null,e.eventManager),e}function uG(t){const e=et(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sG.bind(null,e),e}class ry{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return mK(this.persistence,new dK,e.initialUser,this.serializer)}Cu(e){return new z4(RE.mi,this.serializer)}Du(e){return new wK}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ry.provider={build:()=>new ry};class dG extends ry{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){At(this.persistence.referenceDelegate instanceof ty,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new XH(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Yr.withCacheSize(this.cacheSizeBytes):Yr.DEFAULT;return new z4((r=>ty.mi(r,n)),this.serializer)}}class K1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>rk(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=lG.bind(null,this.syncEngine),await FK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new HK})()}createDatastore(e){const n=yv(e.databaseInfo.databaseId),r=(function(s){return new AK(s)})(e.databaseInfo);return(function(s,l,u,f){return new kK(s,l,u,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,s,l,u){return new PK(r,a,s,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>rk(this.syncEngine,n,0)),(function(){return QC.v()?new QC:new _K})())}createSyncEngine(e,n){return(function(a,s,l,u,f,h,p){const g=new QK(a,s,l,u,f,h);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=et(n);De(wc,"RemoteStore shutting down."),r.Ea.add(5),await em(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}K1.provider={build:()=>new K1};class XE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Bs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const dl="FirestoreClient";class fG{constructor(e,n,r,a,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=Sr.UNAUTHENTICATED,this.clientId=EE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{De(dl,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(De(dl,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=FE(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Pb(t,e){t.asyncQueue.verifyOperationInProgress(),De(dl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await $4(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function ik(t,e){t.asyncQueue.verifyOperationInProgress();const n=await hG(t);De(dl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>JC(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>JC(e.remoteStore,a))),t._onlineComponents=e}async function hG(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){De(dl,"Using user provided OfflineComponentProvider");try{await Pb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===_e.FAILED_PRECONDITION||a.code===_e.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Qu("Error using user provided cache. Falling back to memory cache: "+n),await Pb(t,new ry)}}else De(dl,"Using default OfflineComponentProvider"),await Pb(t,new dG(void 0));return t._offlineComponents}async function i3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(De(dl,"Using user provided OnlineComponentProvider"),await ik(t,t._uninitializedComponentsProvider._online)):(De(dl,"Using default OnlineComponentProvider"),await ik(t,new K1))),t._onlineComponents}function mG(t){return i3(t).then((e=>e.syncEngine))}async function ay(t){const e=await i3(t),n=e.eventManager;return n.onListen=ZK.bind(null,e.syncEngine),n.onUnlisten=tG.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=JK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=nG.bind(null,e.syncEngine),n}function pG(t,e,n={}){const r=new Ms;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,u,f,h){const p=new XE({next:x=>{p.Nu(),l.enqueueAndForget((()=>HE(s,g)));const w=x.docs.has(u);!w&&x.fromCache?h.reject(new Me(_e.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&x.fromCache&&f&&f.source==="server"?h.reject(new Me(_e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(x)},error:x=>h.reject(x)}),g=new GE(uv(u.path),p,{includeMetadataChanges:!0,qa:!0});return qE(s,g)})(await ay(t),t.asyncQueue,e,n,r))),r.promise}function gG(t,e,n={}){const r=new Ms;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,u,f,h){const p=new XE({next:x=>{p.Nu(),l.enqueueAndForget((()=>HE(s,g))),x.fromCache&&f.source==="server"?h.reject(new Me(_e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(x)},error:x=>h.reject(x)}),g=new GE(u,p,{includeMetadataChanges:!0,qa:!0});return qE(s,g)})(await ay(t),t.asyncQueue,e,n,r))),r.promise}function s3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const sk=new Map;const o3="firestore.googleapis.com",ok=!0;class lk{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Me(_e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=o3,this.ssl=ok}else this.host=e.host,this.ssl=e.ssl??ok;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=U4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YH)throw new Me(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Oq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=s3(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Me(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Me(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Me(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bv{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lk({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Me(_e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Me(_e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lk(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new wq;switch(r.type){case"firstParty":return new Nq(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Me(_e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=sk.get(n);r&&(De("ComponentProvider","Removing Datastore"),sk.delete(n),r.terminate())})(this),Promise.resolve()}}function yG(t,e,n,r={}){t=Pr(t,bv);const a=pd(e),s=t._getSettings(),l={...s,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;a&&(rM(`https://${u}`),aM("Firestore",!0)),s.host!==o3&&s.host!==u&&Qu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...s,host:u,ssl:a,emulatorOptions:r};if(!gc(f,l)&&(t._setSettings(f),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Sr.MOCK_USER;else{h=O$(r.mockUserToken,t._app?.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Me(_e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Sr(g)}t._authCredentials=new _q(new ZM(h,p))}}class nm{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new nm(this.firestore,e,this._query)}}class An{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new An(this.firestore,e,this._key)}toJSON(){return{type:An._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Qh(n,An._jsonSchema))return new An(e,r||null,new Ke(Qt.fromString(n.referencePath)))}}An._jsonSchemaVersion="firestore/documentReference/1.0",An._jsonSchema={type:Vn("string",An._jsonSchemaVersion),referencePath:Vn("string")};class rl extends nm{constructor(e,n,r){super(e,n,uv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new An(this.firestore,null,new Ke(e))}withConverter(e){return new rl(this.firestore,e,this._path)}}function _n(t,e,...n){if(t=$n(t),JM("collection","path",e),t instanceof bv){const r=Qt.fromString(e,...n);return _C(r),new rl(t,null,r)}{if(!(t instanceof An||t instanceof rl))throw new Me(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qt.fromString(e,...n));return _C(r),new rl(t.firestore,null,r)}}function Vt(t,e,...n){if(t=$n(t),arguments.length===1&&(e=EE.newId()),JM("doc","path",e),t instanceof bv){const r=Qt.fromString(e,...n);return wC(r),new An(t,null,new Ke(r))}{if(!(t instanceof An||t instanceof rl))throw new Me(_e.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qt.fromString(e,...n));return wC(r),new An(t.firestore,t instanceof rl?t.converter:null,new Ke(r))}}const ck="AsyncQueue";class uk{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new F4(this,"async_queue_retry"),this._c=()=>{const r=Ob();r&&De(ck,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Ob();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ob();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ms;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!bd(e))throw e;De(ck,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Bs("INTERNAL UNHANDLED ERROR: ",dk(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=BE.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(a),a}uc(){this.nc&&Xe(47125,{Pc:dk(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function dk(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function fk(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const s of r)if(s in a&&typeof a[s]=="function")return!0;return!1})(t,["next","error","complete"])}class Ji extends bv{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new uk,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uk(e),this._firestoreClient=void 0,await e}}}function vG(t,e){const n=typeof t=="object"?t:lM(),r=typeof t=="string"?t:Yg,a=hE(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const s=C$("firestore");s&&yG(a,...s)}return a}function rm(t){if(t._terminated)throw new Me(_e.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||xG(t),t._firestoreClient}function xG(t){const e=t._freezeSettings(),n=(function(a,s,l,u){return new Bq(a,s,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,s3(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new fG(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const s=a?._online.build();return{_offline:a?._offline.build(s),_online:s}})(t._componentsProvider))}class qa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qa(br.fromBase64String(e))}catch(n){throw new Me(_e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qa(br.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qa._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Qh(e,qa._jsonSchema))return qa.fromBase64String(e.bytes)}}qa._jsonSchemaVersion="firestore/bytes/1.0",qa._jsonSchema={type:Vn("string",qa._jsonSchemaVersion),bytes:Vn("string")};class am{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Me(_e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class QE{constructor(e){this._methodName=e}}class Yi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Me(_e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Me(_e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return dt(this._lat,e._lat)||dt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Yi._jsonSchemaVersion}}static fromJSON(e){if(Qh(e,Yi._jsonSchema))return new Yi(e.latitude,e.longitude)}}Yi._jsonSchemaVersion="firestore/geoPoint/1.0",Yi._jsonSchema={type:Vn("string",Yi._jsonSchemaVersion),latitude:Vn("number"),longitude:Vn("number")};class Wi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==a[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Qh(e,Wi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Wi(e.vectorValues);throw new Me(_e.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wi._jsonSchemaVersion="firestore/vectorValue/1.0",Wi._jsonSchema={type:Vn("string",Wi._jsonSchemaVersion),vectorValues:Vn("object")};const bG=/^__.*__$/;class wG{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new _l(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zh(e,this.data,n,this.fieldTransforms)}}class l3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new _l(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function c3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe(40011,{Ac:t})}}class ZE{constructor(e,n,r,a,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ZE({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return iy(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(c3(this.Ac)&&bG.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class _G{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||yv(e)}Cc(e,n,r,a=!1){return new ZE({Ac:e,methodName:n,Dc:r,path:vr.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wv(t){const e=t._freezeSettings(),n=yv(t._databaseId);return new _G(t._databaseId,!!e.ignoreUndefinedProperties,n)}function JE(t,e,n,r,a,s={}){const l=t.Cc(s.merge||s.mergeFields?2:0,e,n,a);eS("Data must be an object, but it was:",l,r);const u=f3(r,l);let f,h;if(s.merge)f=new ga(l.fieldMask),h=l.fieldTransforms;else if(s.mergeFields){const p=[];for(const g of s.mergeFields){const x=G1(e,g,n);if(!l.contains(x))throw new Me(_e.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);m3(p,x)||p.push(x)}f=new ga(p),h=l.fieldTransforms.filter((g=>f.covers(g.field)))}else f=null,h=l.fieldTransforms;return new wG(new Wr(u),f,h)}class _v extends QE{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _v}}function u3(t,e,n,r){const a=t.Cc(1,e,n);eS("Data must be an object, but it was:",a,r);const s=[],l=Wr.empty();wl(r,((f,h)=>{const p=tS(e,f,n);h=$n(h);const g=a.yc(p);if(h instanceof _v)s.push(p);else{const x=Ev(h,g);x!=null&&(s.push(p),l.set(p,x))}}));const u=new ga(s);return new l3(l,u,a.fieldTransforms)}function d3(t,e,n,r,a,s){const l=t.Cc(1,e,n),u=[G1(e,r,n)],f=[a];if(s.length%2!=0)throw new Me(_e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<s.length;x+=2)u.push(G1(e,s[x])),f.push(s[x+1]);const h=[],p=Wr.empty();for(let x=u.length-1;x>=0;--x)if(!m3(h,u[x])){const w=u[x];let E=f[x];E=$n(E);const S=l.yc(w);if(E instanceof _v)h.push(w);else{const A=Ev(E,S);A!=null&&(h.push(w),p.set(w,A))}}const g=new ga(h);return new l3(p,g,l.fieldTransforms)}function Ev(t,e){if(h3(t=$n(t)))return eS("Unsupported field value:",e,t),f3(t,e);if(t instanceof QE)return(function(r,a){if(!c3(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(a);s&&a.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const s=[];let l=0;for(const u of r){let f=Ev(u,a.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),l++}return{arrayValue:{values:s}}})(t,e)}return(function(r,a){if((r=$n(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return fH(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Zt.fromDate(r);return{timestampValue:ey(a.serializer,s)}}if(r instanceof Zt){const s=new Zt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ey(a.serializer,s)}}if(r instanceof Yi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qa)return{bytesValue:P4(a.serializer,r._byteString)};if(r instanceof An){const s=a.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw a.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:DE(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Wi)return(function(l,u){return{mapValue:{fields:{[l4]:{stringValue:c4},[Wg]:{arrayValue:{values:l.toArray().map((h=>{if(typeof h!="number")throw u.Sc("VectorValues must only contain numeric values.");return kE(u.serializer,h)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${SE(r)}`)})(t,e)}function f3(t,e){const n={};return n4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wl(t,((r,a)=>{const s=Ev(a,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function h3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Zt||t instanceof Yi||t instanceof qa||t instanceof An||t instanceof QE||t instanceof Wi)}function eS(t,e,n){if(!h3(n)||!e4(n)){const r=SE(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function G1(t,e,n){if((e=$n(e))instanceof am)return e._internalPath;if(typeof e=="string")return tS(t,e);throw iy("Field path arguments must be of type string or ",t,!1,void 0,n)}const EG=new RegExp("[~\\*/\\[\\]]");function tS(t,e,n){if(e.search(EG)>=0)throw iy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new am(...e.split("."))._internalPath}catch{throw iy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function iy(t,e,n,r,a){const s=r&&!r.isEmpty(),l=a!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(s||l)&&(f+=" (found",s&&(f+=` in field ${r}`),l&&(f+=` in document ${a}`),f+=")"),new Me(_e.INVALID_ARGUMENT,u+t+f)}function m3(t,e){return t.some((n=>n.isEqual(e)))}class p3{constructor(e,n,r,a,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new An(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new SG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(g3("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class SG extends p3{data(){return super.data()}}function g3(t,e){return typeof e=="string"?tS(t,e):e instanceof am?e._internalPath:e._delegate._internalPath}function y3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Me(_e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class NG{convertValue(e,n="none"){switch(cl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Sn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ll(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return wl(e,((a,s)=>{r[a]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[Wg].arrayValue?.values?.map((r=>Sn(r.doubleValue)));return new Wi(n)}convertGeoPoint(e){return new Yi(Sn(e.latitude),Sn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=lv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(yh(e));default:return null}}convertTimestamp(e){const n=ol(e);return new Zt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Qt.fromString(e);At(V4(r),9688,{name:e});const a=new vh(r.get(1),r.get(3)),s=new Ke(r.popFirst(5));return a.isEqual(n)||Bs(`Document ${s} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function nS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class th{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cc extends p3{constructor(e,n,r,a,s,l){super(e,n,r,a,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Pg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(g3("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Me(_e.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=cc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}cc._jsonSchemaVersion="firestore/documentSnapshot/1.0",cc._jsonSchema={type:Vn("string",cc._jsonSchemaVersion),bundleSource:Vn("string","DocumentSnapshot"),bundleName:Vn("string"),bundle:Vn("string")};class Pg extends cc{data(e={}){return super.data(e)}}class uc{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new th(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Pg(this._firestore,this._userDataWriter,r.key,r,new th(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Me(_e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,s){if(a._snapshot.oldDocs.isEmpty()){let l=0;return a._snapshot.docChanges.map((u=>{const f=new Pg(a._firestore,a._userDataWriter,u.doc.key,u.doc,new th(a._snapshot.mutatedKeys.has(u.doc.key),a._snapshot.fromCache),a.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((u=>s||u.type!==3)).map((u=>{const f=new Pg(a._firestore,a._userDataWriter,u.doc.key,u.doc,new th(a._snapshot.mutatedKeys.has(u.doc.key),a._snapshot.fromCache),a.query.converter);let h=-1,p=-1;return u.type!==0&&(h=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:AG(u.type),doc:f,oldIndex:h,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Me(_e.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=uc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=EE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),a.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function AG(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe(61501,{type:t})}}function v3(t){t=Pr(t,An);const e=Pr(t.firestore,Ji);return pG(rm(e),t._key).then((n=>x3(e,t,n)))}uc._jsonSchemaVersion="firestore/querySnapshot/1.0",uc._jsonSchema={type:Vn("string",uc._jsonSchemaVersion),bundleSource:Vn("string","QuerySnapshot"),bundleName:Vn("string"),bundle:Vn("string")};class rS extends NG{constructor(e){super(),this.firestore=e}convertBytes(e){return new qa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new An(this.firestore,null,n)}}function TG(t){t=Pr(t,nm);const e=Pr(t.firestore,Ji),n=rm(e),r=new rS(e);return y3(t._query),gG(n,t._query).then((a=>new uc(e,r,t,a)))}function jG(t,e,n){t=Pr(t,An);const r=Pr(t.firestore,Ji),a=nS(t.converter,e,n);return im(r,[JE(wv(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Dr.none())])}function Va(t,e,n,...r){t=Pr(t,An);const a=Pr(t.firestore,Ji),s=wv(a);let l;return l=typeof(e=$n(e))=="string"||e instanceof am?d3(s,"updateDoc",t._key,e,n,r):u3(s,"updateDoc",t._key,e),im(a,[l.toMutation(t._key,Dr.exists(!0))])}function Ns(t){return im(Pr(t.firestore,Ji),[new pv(t._key,Dr.none())])}function As(t,e){const n=Pr(t.firestore,Ji),r=Vt(t),a=nS(t.converter,e);return im(n,[JE(wv(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,Dr.exists(!1))]).then((()=>r))}function ci(t,...e){t=$n(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||fk(e[r])||(n=e[r++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(fk(e[r])){const f=e[r];e[r]=f.next?.bind(f),e[r+1]=f.error?.bind(f),e[r+2]=f.complete?.bind(f)}let s,l,u;if(t instanceof An)l=Pr(t.firestore,Ji),u=uv(t._key.path),s={next:f=>{e[r]&&e[r](x3(l,t,f))},error:e[r+1],complete:e[r+2]};else{const f=Pr(t,nm);l=Pr(f.firestore,Ji),u=f._query;const h=new rS(l);s={next:p=>{e[r]&&e[r](new uc(l,h,f,p))},error:e[r+1],complete:e[r+2]},y3(t._query)}return(function(h,p,g,x){const w=new XE(x),E=new GE(p,w,g);return h.asyncQueue.enqueueAndForget((async()=>qE(await ay(h),E))),()=>{w.Nu(),h.asyncQueue.enqueueAndForget((async()=>HE(await ay(h),E)))}})(rm(l),u,a,s)}function im(t,e){return(function(r,a){const s=new Ms;return r.asyncQueue.enqueueAndForget((async()=>rG(await mG(r),a,s))),s.promise})(rm(t),e)}function x3(t,e,n){const r=n.docs.get(e._key),a=new rS(t);return new cc(t,a,e._key,r,new th(n.hasPendingWrites,n.fromCache),e.converter)}class CG{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=wv(e)}set(e,n,r){this._verifyNotCommitted();const a=Db(e,this._firestore),s=nS(a.converter,n,r),l=JE(this._dataReader,"WriteBatch.set",a._key,s,a.converter!==null,r);return this._mutations.push(l.toMutation(a._key,Dr.none())),this}update(e,n,r,...a){this._verifyNotCommitted();const s=Db(e,this._firestore);let l;return l=typeof(n=$n(n))=="string"||n instanceof am?d3(this._dataReader,"WriteBatch.update",s._key,n,r,a):u3(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(l.toMutation(s._key,Dr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Db(e,this._firestore);return this._mutations=this._mutations.concat(new pv(n._key,Dr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Me(_e.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Db(t,e){if((t=$n(t)).firestore!==e)throw new Me(_e.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Y1(t){return rm(t=Pr(t,Ji)),new CG(t,(e=>im(t,e)))}(function(e,n=!0){(function(a){vd=a})(gd),Xu(new yc("firestore",((r,{instanceIdentifier:a,options:s})=>{const l=r.getProvider("app").getImmediate(),u=new Ji(new Eq(r.getProvider("auth-internal")),new Aq(l,r.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Me(_e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vh(h.options.projectId,p)})(l,a),l);return s={useFetchStreams:n,...s},u._setSettings(s),u}),"PUBLIC").setMultipleInstances(!0)),tl(yC,vC,e),tl(yC,vC,"esm2020")})();const kG={apiKey:"AIzaSyDU2sOsS7J_uFZyKk-A0dvwxLh5RkOmqsM",authDomain:"mex-os-life.firebaseapp.com",projectId:"mex-os-life",storageBucket:"mex-os-life.firebasestorage.app",messagingSenderId:"79943861828",appId:"1:79943861828:web:16adba8452c9665f59de11",measurementId:"G-4VVL44BBRP"},b3=oM(kG),ng=yq(b3),Ye=vG(b3),OG={profile:{name:"",unipd_id:"",cf:"",visa_expiry:"",university:"",degree:""},academics:[{id:"exam_id_placeholder",name:"Exam Name",cfu:6,status:"planned",exam_date:"2026-01-01T09:00:00",strategy_notes:"Study strategy here",is_scholarship_critical:!0,category:"Mandatory Core",components:[{name:"Written",weight_pct:70,is_completed:!1,deadline:"2026-01-01"},{name:"Project",weight_pct:30,is_completed:!1,deadline:"2026-01-15"}],createdAt:new Date().toISOString()}],finance:[{id:"income_id_placeholder",source:"Scholarship / Job",type:"income",amount:0,status:"pending",unlock_condition:"Condition to unlock",expected_date:"2026-01-01"}],transactions:[{id:"tx_id_placeholder",date:"2026-01-01",description:"Transaction description",amount:0,type:"expense",category:"food",recurring:!1,notes:"Optional notes"}],bureaucracy:[{id:"doc_id_placeholder",name:"Document Name",type:"other",status:"valid",issue_date:"2025-01-01",expiry_date:"2026-01-01",notes:"Document notes",is_critical:!1}],skills:[{id:"skill_id_placeholder",name:"Skill Name",icon:"code",color:"neon-cyan",targetPerDay:"30 mins",trackingOptions:["0 mins","15 mins","30 mins","1 hour","2 hours"],category:"backend",years_experience:0,show_on_cv:!0,is_tracked:!0,createdAt:new Date().toISOString()}],habitDefinitions:[{id:"habit_id_placeholder",name:"Habit Name",icon:"activity",color:"neon-purple",trackingType:"boolean",createdAt:new Date().toISOString()}],career:{jobs:[{id:"job_placeholder",company:"Company Name",role:"Role Title",location:"City, Country",type:"full-time",startDate:"2024-01-01",endDate:null,tech_stack:["Python","React"],achievements:["Achievement 1","Achievement 2"],is_current:!0}],education:[{id:"edu_placeholder",institution:"University Name",degree:"Degree Program",status:"enrolled",startDate:"2024-10-01",endDate:"2026-08-30",scholarship_name:"Scholarship Name (optional)"}]},strategy:{campaigns:[{id:"campaign_placeholder",name:"Campaign Name",startDate:"2026-01-10",endDate:"2026-02-20",status:"active",focus_areas:["Academics","Career"],linked_exams:[],linked_docs:[],rules:[{condition:"If project topic NOT assigned by deadline",action:"DROP the linked exam",deadline:"2026-01-15",status:"pending"}]}]}},w3={name:"New User",unipd_id:"",cf:"",visa_expiry:"",university:"",degree:""};function PG(t){if(!t||typeof t!="object")return{valid:!1,error:"Invalid JSON format"};const e=["profile","academics","finance","transactions","bureaucracy","skills","habitDefinitions"];for(const h of e)if(!(h in t))return{valid:!1,error:`Missing required section: ${h}`};if(typeof t.profile.name!="string")return{valid:!1,error:"Profile name is missing or invalid"};if(!Array.isArray(t.academics))return{valid:!1,error:"Academics must be an array"};if(!Array.isArray(t.finance))return{valid:!1,error:"Finance must be an array"};if(!Array.isArray(t.transactions))return{valid:!1,error:"Transactions must be an array"};if(!Array.isArray(t.bureaucracy))return{valid:!1,error:"Bureaucracy must be an array"};if(!Array.isArray(t.skills))return{valid:!1,error:"Skills must be an array"};if(!Array.isArray(t.habitDefinitions))return{valid:!1,error:"HabitDefinitions must be an array"};const n=["study_plan","enrolled","planned","booked","passed","dropped"];for(const h of t.academics){if(!h.name||typeof h.name!="string")return{valid:!1,error:"Exam missing required 'name' field"};if(typeof h.cfu!="number"||h.cfu<0||h.cfu>30)return{valid:!1,error:`Invalid CFU value for exam: ${h.name}. Must be a number between 0 and 30.`};if(h.status&&!n.includes(h.status))return{valid:!1,error:`Invalid status '${h.status}' for exam: ${h.name}. Valid values: ${n.join(", ")}`};if(h.exam_date&&isNaN(Date.parse(h.exam_date)))return{valid:!1,error:`Invalid date format for exam: ${h.name}`}}const r=["salary","freelance","scholarship","rent","utilities","food","transport","entertainment","health","education","other"],a=["income","expense"];for(const h of t.transactions){if(!h.description||typeof h.description!="string")return{valid:!1,error:"Transaction missing required 'description' field"};if(typeof h.amount!="number"||h.amount<0)return{valid:!1,error:`Invalid amount for transaction: ${h.description}. Must be a non-negative number.`};if(h.type&&!a.includes(h.type))return{valid:!1,error:`Invalid type '${h.type}' for transaction: ${h.description}. Valid values: ${a.join(", ")}`};if(h.category&&!r.includes(h.category))return{valid:!1,error:`Invalid category '${h.category}' for transaction: ${h.description}. Valid values: ${r.join(", ")}`};if(h.date&&isNaN(Date.parse(h.date)))return{valid:!1,error:`Invalid date format for transaction: ${h.description}`}}const s=["visa","residence_permit","tax","insurance","university","other"],l=["valid","expiring_soon","expired","pending","unknown"];for(const h of t.bureaucracy){if(!h.name||typeof h.name!="string")return{valid:!1,error:"Bureaucracy document missing required 'name' field"};if(h.type&&!s.includes(h.type))return{valid:!1,error:`Invalid type '${h.type}' for document: ${h.name}. Valid values: ${s.join(", ")}`};if(h.status&&!l.includes(h.status))return{valid:!1,error:`Invalid status '${h.status}' for document: ${h.name}. Valid values: ${l.join(", ")}`};if(h.expiry_date&&isNaN(Date.parse(h.expiry_date)))return{valid:!1,error:`Invalid expiry date format for document: ${h.name}`};if(h.issue_date&&isNaN(Date.parse(h.issue_date)))return{valid:!1,error:`Invalid issue date format for document: ${h.name}`}}const u=["language","frontend","backend","devops","database","tools","soft-skill","other"];for(const h of t.skills){if(!h.name||typeof h.name!="string")return{valid:!1,error:"Skill missing required 'name' field"};if(h.category&&!u.includes(h.category))return{valid:!1,error:`Invalid category '${h.category}' for skill: ${h.name}. Valid values: ${u.join(", ")}`};if(h.years_experience!==void 0&&(typeof h.years_experience!="number"||h.years_experience<0))return{valid:!1,error:`Invalid years_experience for skill: ${h.name}. Must be a non-negative number.`};if(h.is_tracked!==void 0&&typeof h.is_tracked!="boolean")return{valid:!1,error:`Invalid is_tracked for skill: ${h.name}. Must be a boolean.`};if(h.show_on_cv!==void 0&&typeof h.show_on_cv!="boolean")return{valid:!1,error:`Invalid show_on_cv for skill: ${h.name}. Must be a boolean.`}}const f=["boolean","hours","count"];for(const h of t.habitDefinitions){if(!h.name||typeof h.name!="string")return{valid:!1,error:"Habit definition missing required 'name' field"};if(h.trackingType&&!f.includes(h.trackingType))return{valid:!1,error:`Invalid tracking type '${h.trackingType}' for habit: ${h.name}. Valid values: ${f.join(", ")}`}}if(t.career){if(typeof t.career!="object")return{valid:!1,error:"Career must be an object"};if(t.career.jobs&&!Array.isArray(t.career.jobs))return{valid:!1,error:"Career jobs must be an array"};if(t.career.education&&!Array.isArray(t.career.education))return{valid:!1,error:"Career education must be an array"};const h=["full-time","contract","freelance","internship"];for(const g of t.career.jobs||[]){if(!g.company||typeof g.company!="string")return{valid:!1,error:"Job missing required 'company' field"};if(!g.role||typeof g.role!="string")return{valid:!1,error:`Job missing required 'role' field for company: ${g.company}`};if(g.type&&!h.includes(g.type))return{valid:!1,error:`Invalid job type '${g.type}' for: ${g.role} at ${g.company}. Valid values: ${h.join(", ")}`};if(g.startDate&&isNaN(Date.parse(g.startDate)))return{valid:!1,error:`Invalid start date for job: ${g.role} at ${g.company}`}}const p=["enrolled","graduated","paused"];for(const g of t.career.education||[]){if(!g.institution||typeof g.institution!="string")return{valid:!1,error:"Education entry missing required 'institution' field"};if(g.status&&!p.includes(g.status))return{valid:!1,error:`Invalid education status '${g.status}' for: ${g.institution}. Valid values: ${p.join(", ")}`}}}if(t.strategy){if(typeof t.strategy!="object")return{valid:!1,error:"Strategy must be an object"};if(t.strategy.campaigns&&!Array.isArray(t.strategy.campaigns))return{valid:!1,error:"Strategy campaigns must be an array"};const h=["active","planned","completed","failed"],p=["pending","triggered","safe"];for(const g of t.strategy.campaigns||[]){if(!g.name||typeof g.name!="string")return{valid:!1,error:"Campaign missing required 'name' field"};if(g.status&&!h.includes(g.status))return{valid:!1,error:`Invalid campaign status '${g.status}' for: ${g.name}. Valid values: ${h.join(", ")}`};if(g.startDate&&isNaN(Date.parse(g.startDate)))return{valid:!1,error:`Invalid start date for campaign: ${g.name}`};if(g.endDate&&isNaN(Date.parse(g.endDate)))return{valid:!1,error:`Invalid end date for campaign: ${g.name}`};if(g.rules&&Array.isArray(g.rules))for(let x=0;x<g.rules.length;x++){const w=g.rules[x];if(!w.condition||typeof w.condition!="string")return{valid:!1,error:`Rule ${x+1} in campaign '${g.name}' missing required 'condition' field`};if(!w.action||typeof w.action!="string")return{valid:!1,error:`Rule ${x+1} in campaign '${g.name}' missing required 'action' field`};if(!w.deadline||isNaN(Date.parse(w.deadline)))return{valid:!1,error:`Rule ${x+1} in campaign '${g.name}' has invalid or missing deadline. Format: YYYY-MM-DD`};if(w.status&&!p.includes(w.status))return{valid:!1,error:`Invalid rule status '${w.status}' in campaign '${g.name}'. Valid values: ${p.join(", ")}`}}if(g.linked_exams&&!Array.isArray(g.linked_exams))return{valid:!1,error:`linked_exams must be an array in campaign: ${g.name}`};if(g.linked_docs&&!Array.isArray(g.linked_docs))return{valid:!1,error:`linked_docs must be an array in campaign: ${g.name}`}}}return{valid:!0}}async function hk(t){try{const e=Y1(Ye),n=Vt(Ye,"users",t);return(await v3(n)).exists()||(console.log("User not initialized. Creating empty profile..."),e.set(n,{profile:w3,isInitialized:!0,createdAt:new Date().toISOString()}),await e.commit(),console.log("Empty profile initialized successfully.")),!0}catch(e){return console.error("Error initializing user profile:",e),!1}}const _3=_.createContext(void 0);function DG({children:t}){const[e,n]=_.useState(null),[r,a]=_.useState(!0);_.useEffect(()=>iF(ng,async h=>{n(h),h&&await hk(h.uid),a(!1)}),[]);const s=async(f,h)=>{await nF(ng,f,h)},l=async(f,h)=>{const p=await tF(ng,f,h);await hk(p.user.uid)},u=async()=>{await sF(ng)};return d.jsx(_3.Provider,{value:{user:e,loading:r,signIn:s,signUp:l,signOut:u},children:t})}function Sv(){const t=_.useContext(_3);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const E3=6048e5,IG=864e5,S3=6e4,aS=36e5,mk=Symbol.for("constructDateFrom");function Jr(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&mk in t?t[mk](e):t instanceof Date?new t.constructor(e):new Date(e)}function Ht(t,e){return Jr(e||t,t)}function _h(t,e,n){const r=Ht(t,n?.in);return isNaN(e)?Jr(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function W1(t,e,n){const r=Ht(t,n?.in);if(isNaN(e))return Jr(t,NaN);if(!e)return r;const a=r.getDate(),s=Jr(t,r.getTime());s.setMonth(r.getMonth()+e+1,0);const l=s.getDate();return a>=l?s:(r.setFullYear(s.getFullYear(),s.getMonth(),a),r)}let RG={};function Nv(){return RG}function Eh(t,e){const n=Nv(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=Ht(t,e?.in),s=a.getDay(),l=(s<r?7:0)+s-r;return a.setDate(a.getDate()-l),a.setHours(0,0,0,0),a}function sy(t,e){return Eh(t,{...e,weekStartsOn:1})}function N3(t,e){const n=Ht(t,e?.in),r=n.getFullYear(),a=Jr(n,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const s=sy(a),l=Jr(n,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const u=sy(l);return n.getTime()>=s.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function pk(t){const e=Ht(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Mc(t,...e){const n=Jr.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function gk(t,e){const n=Ht(t,e?.in);return n.setHours(0,0,0,0),n}function A3(t,e,n){const[r,a]=Mc(n?.in,t,e),s=gk(r),l=gk(a),u=+s-pk(s),f=+l-pk(l);return Math.round((u-f)/IG)}function MG(t,e){const n=N3(t,e),r=Jr(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),sy(r)}function Ib(t,e){const n=+Ht(t)-+Ht(e);return n<0?-1:n>0?1:n}function LG(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function VG(t){return!(!LG(t)&&typeof t!="number"||isNaN(+Ht(t)))}function UG(t,e,n){const[r,a]=Mc(n?.in,t,e),s=r.getFullYear()-a.getFullYear(),l=r.getMonth()-a.getMonth();return s*12+l}function Nn(t,e,n){const[r,a]=Mc(n?.in,t,e),s=yk(r,a),l=Math.abs(A3(r,a));r.setDate(r.getDate()-s*l);const u=+(yk(r,a)===-s),f=s*(l-u);return f===0?0:f}function yk(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function zG(t){return e=>{const n=Math.trunc,r=n(e);return r===0?0:r}}function $G(t,e,n){const[r,a]=Mc(n?.in,t,e),s=(+r-+a)/aS;return zG()(s)}function BG(t,e){const n=Ht(t,e?.in);return n.setHours(23,59,59,999),n}function T3(t,e){const n=Ht(t,e?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function FG(t,e){const n=Ht(t,e?.in);return+BG(n,e)==+T3(n,e)}function vk(t,e,n){const[r,a,s]=Mc(n?.in,t,t,e),l=Ib(a,s),u=Math.abs(UG(a,s));if(u<1)return 0;a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-l*u);let f=Ib(a,s)===-l;FG(r)&&u===1&&Ib(r,s)===1&&(f=!1);const h=l*(u-+f);return h===0?0:h}function j3(t,e){const[n,r]=Mc(t,e.start,e.end);return{start:n,end:r}}function qG(t,e){const{start:n,end:r}=j3(e?.in,t);let a=+n>+r;const s=a?+n:+r,l=a?r:n;l.setHours(0,0,0,0);let u=1;const f=[];for(;+l<=s;)f.push(Jr(n,l)),l.setDate(l.getDate()+u),l.setHours(0,0,0,0);return a?f.reverse():f}function HG(t,e){const{start:n,end:r}=j3(e?.in,t);let a=+n>+r;const s=a?+n:+r,l=a?r:n;l.setHours(0,0,0,0),l.setDate(1);let u=1;const f=[];for(;+l<=s;)f.push(Jr(n,l)),l.setMonth(l.getMonth()+u);return a?f.reverse():f}function KG(t,e){const n=Ht(t,e?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function GG(t,e){const n=Ht(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const YG={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},WG=(t,e,n)=>{let r;const a=YG[t];return typeof a=="string"?r=a:e===1?r=a.one:r=a.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Rb(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const XG={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},QG={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ZG={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},JG={date:Rb({formats:XG,defaultWidth:"full"}),time:Rb({formats:QG,defaultWidth:"full"}),dateTime:Rb({formats:ZG,defaultWidth:"full"})},eY={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},tY=(t,e,n,r)=>eY[t];function Lf(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let a;if(r==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,u=n?.width?String(n.width):l;a=t.formattingValues[u]||t.formattingValues[l]}else{const l=t.defaultWidth,u=n?.width?String(n.width):t.defaultWidth;a=t.values[u]||t.values[l]}const s=t.argumentCallback?t.argumentCallback(e):e;return a[s]}}const nY={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},rY={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},aY={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},iY={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},sY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},oY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},lY=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},cY={ordinalNumber:lY,era:Lf({values:nY,defaultWidth:"wide"}),quarter:Lf({values:rY,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Lf({values:aY,defaultWidth:"wide"}),day:Lf({values:iY,defaultWidth:"wide"}),dayPeriod:Lf({values:sY,defaultWidth:"wide",formattingValues:oY,defaultFormattingWidth:"wide"})};function Vf(t){return(e,n={})=>{const r=n.width,a=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(a);if(!s)return null;const l=s[0],u=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],f=Array.isArray(u)?dY(u,g=>g.test(l)):uY(u,g=>g.test(l));let h;h=t.valueCallback?t.valueCallback(f):f,h=n.valueCallback?n.valueCallback(h):h;const p=e.slice(l.length);return{value:h,rest:p}}}function uY(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function dY(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function fY(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const a=r[0],s=e.match(t.parsePattern);if(!s)return null;let l=t.valueCallback?t.valueCallback(s[0]):s[0];l=n.valueCallback?n.valueCallback(l):l;const u=e.slice(a.length);return{value:l,rest:u}}}const hY=/^(\d+)(th|st|nd|rd)?/i,mY=/\d+/i,pY={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},gY={any:[/^b/i,/^(a|c)/i]},yY={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},vY={any:[/1/i,/2/i,/3/i,/4/i]},xY={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},bY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wY={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_Y={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},EY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},SY={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},NY={ordinalNumber:fY({matchPattern:hY,parsePattern:mY,valueCallback:t=>parseInt(t,10)}),era:Vf({matchPatterns:pY,defaultMatchWidth:"wide",parsePatterns:gY,defaultParseWidth:"any"}),quarter:Vf({matchPatterns:yY,defaultMatchWidth:"wide",parsePatterns:vY,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Vf({matchPatterns:xY,defaultMatchWidth:"wide",parsePatterns:bY,defaultParseWidth:"any"}),day:Vf({matchPatterns:wY,defaultMatchWidth:"wide",parsePatterns:_Y,defaultParseWidth:"any"}),dayPeriod:Vf({matchPatterns:EY,defaultMatchWidth:"any",parsePatterns:SY,defaultParseWidth:"any"})},AY={code:"en-US",formatDistance:WG,formatLong:JG,formatRelative:tY,localize:cY,match:NY,options:{weekStartsOn:0,firstWeekContainsDate:1}};function TY(t,e){const n=Ht(t,e?.in);return A3(n,GG(n))+1}function jY(t,e){const n=Ht(t,e?.in),r=+sy(n)-+MG(n);return Math.round(r/E3)+1}function C3(t,e){const n=Ht(t,e?.in),r=n.getFullYear(),a=Nv(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,l=Jr(e?.in||t,0);l.setFullYear(r+1,0,s),l.setHours(0,0,0,0);const u=Eh(l,e),f=Jr(e?.in||t,0);f.setFullYear(r,0,s),f.setHours(0,0,0,0);const h=Eh(f,e);return+n>=+u?r+1:+n>=+h?r:r-1}function CY(t,e){const n=Nv(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=C3(t,e),s=Jr(e?.in||t,0);return s.setFullYear(a,0,r),s.setHours(0,0,0,0),Eh(s,e)}function kY(t,e){const n=Ht(t,e?.in),r=+Eh(n,e)-+CY(n,e);return Math.round(r/E3)+1}function kt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Fo={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return kt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):kt(n+1,2)},d(t,e){return kt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(t,e){return kt(t.getHours()%12||12,e.length)},H(t,e){return kt(t.getHours(),e.length)},m(t,e){return kt(t.getMinutes(),e.length)},s(t,e){return kt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return kt(a,e.length)}},ku={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},xk={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return Fo.y(t,e)},Y:function(t,e,n,r){const a=C3(t,r),s=a>0?a:1-a;if(e==="YY"){const l=s%100;return kt(l,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):kt(s,e.length)},R:function(t,e){const n=N3(t);return kt(n,e.length)},u:function(t,e){const n=t.getFullYear();return kt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return kt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return kt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Fo.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return kt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const a=kY(t,r);return e==="wo"?n.ordinalNumber(a,{unit:"week"}):kt(a,e.length)},I:function(t,e,n){const r=jY(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):kt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Fo.d(t,e)},D:function(t,e,n){const r=TY(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):kt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const a=t.getDay(),s=(a-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return kt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const a=t.getDay(),s=(a-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return kt(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),a=r===0?7:r;switch(e){case"i":return String(a);case"ii":return kt(a,e.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let a;switch(r===12?a=ku.noon:r===0?a=ku.midnight:a=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let a;switch(r>=17?a=ku.evening:r>=12?a=ku.afternoon:r>=4?a=ku.morning:a=ku.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Fo.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Fo.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):kt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):kt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Fo.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Fo.s(t,e)},S:function(t,e){return Fo.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return wk(r);case"XXXX":case"XX":return ec(r);default:return ec(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return wk(r);case"xxxx":case"xx":return ec(r);default:return ec(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+bk(r,":");default:return"GMT"+ec(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+bk(r,":");default:return"GMT"+ec(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return kt(r,e.length)},T:function(t,e,n){return kt(+t,e.length)}};function bk(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),a=Math.trunc(r/60),s=r%60;return s===0?n+String(a):n+String(a)+e+kt(s,2)}function wk(t,e){return t%60===0?(t>0?"-":"+")+kt(Math.abs(t)/60,2):ec(t,e)}function ec(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),a=kt(Math.trunc(r/60),2),s=kt(r%60,2);return n+a+e+s}const _k=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},k3=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},OY=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return _k(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",_k(r,e)).replace("{{time}}",k3(a,e))},PY={p:k3,P:OY},DY=/^D+$/,IY=/^Y+$/,RY=["D","DD","YY","YYYY"];function MY(t){return DY.test(t)}function LY(t){return IY.test(t)}function VY(t,e,n){const r=UY(t,e,n);if(console.warn(r),RY.includes(t))throw new RangeError(r)}function UY(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const zY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$Y=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,BY=/^'([^]*?)'?$/,FY=/''/g,qY=/[a-zA-Z]/;function $e(t,e,n){const r=Nv(),a=r.locale??AY,s=r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,u=Ht(t,n?.in);if(!VG(u))throw new RangeError("Invalid time value");let f=e.match($Y).map(p=>{const g=p[0];if(g==="p"||g==="P"){const x=PY[g];return x(p,a.formatLong)}return p}).join("").match(zY).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const g=p[0];if(g==="'")return{isToken:!1,value:HY(p)};if(xk[g])return{isToken:!0,value:p};if(g.match(qY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:p}});a.localize.preprocessor&&(f=a.localize.preprocessor(u,f));const h={firstWeekContainsDate:s,weekStartsOn:l,locale:a};return f.map(p=>{if(!p.isToken)return p.value;const g=p.value;(LY(g)||MY(g))&&VY(g,e,String(t));const x=xk[g[0]];return x(u,g,a.localize,h)}).join("")}function HY(t){const e=t.match(BY);return e?e[1].replace(FY,"'"):t}function KY(t){return+Ht(t)>Date.now()}function O3(t){return+Ht(t)<Date.now()}function GY(t,e,n){const[r,a]=Mc(n?.in,t,e);return r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()}function Ek(t,e,n){const r=+Ht(t,n?.in),[a,s]=[+Ht(e.start,n?.in),+Ht(e.end,n?.in)].sort((l,u)=>l-u);return r>=a&&r<=s}function Sh(t,e,n){return _h(t,-e,n)}function ic(t,e){const n=()=>Jr(e?.in,NaN),a=QY(t);let s;if(a.date){const h=ZY(a.date,2);s=JY(h.restDateString,h.year)}if(!s||isNaN(+s))return n();const l=+s;let u=0,f;if(a.time&&(u=eW(a.time),isNaN(u)))return n();if(a.timezone){if(f=tW(a.timezone),isNaN(f))return n()}else{const h=new Date(l+u),p=Ht(0,e?.in);return p.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),p.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),p}return Ht(l+u+f,e?.in)}const rg={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},YY=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,WY=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,XY=/^([+-])(\d{2})(?::?(\d{2}))?$/;function QY(t){const e={},n=t.split(rg.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],rg.timeZoneDelimiter.test(e.date)&&(e.date=t.split(rg.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const a=rg.timezone.exec(r);a?(e.time=r.replace(a[1],""),e.timezone=a[1]):e.time=r}return e}function ZY(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?a:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function JY(t,e){if(e===null)return new Date(NaN);const n=t.match(YY);if(!n)return new Date(NaN);const r=!!n[4],a=Uf(n[1]),s=Uf(n[2])-1,l=Uf(n[3]),u=Uf(n[4]),f=Uf(n[5])-1;if(r)return sW(e,u,f)?nW(e,u,f):new Date(NaN);{const h=new Date(0);return!aW(e,s,l)||!iW(e,a)?new Date(NaN):(h.setUTCFullYear(e,s,Math.max(a,l)),h)}}function Uf(t){return t?parseInt(t):1}function eW(t){const e=t.match(WY);if(!e)return NaN;const n=Mb(e[1]),r=Mb(e[2]),a=Mb(e[3]);return oW(n,r,a)?n*aS+r*S3+a*1e3:NaN}function Mb(t){return t&&parseFloat(t.replace(",","."))||0}function tW(t){if(t==="Z")return 0;const e=t.match(XY);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return lW(r,a)?n*(r*aS+a*S3):NaN}function nW(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const a=r.getUTCDay()||7,s=(e-1)*7+n+1-a;return r.setUTCDate(r.getUTCDate()+s),r}const rW=[31,null,31,30,31,30,31,31,30,31,30,31];function P3(t){return t%400===0||t%4===0&&t%100!==0}function aW(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(rW[e]||(P3(t)?29:28))}function iW(t,e){return e>=1&&e<=(P3(t)?366:365)}function sW(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function oW(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function lW(t,e){return e>=0&&e<=59}function cW(t,e,n){return W1(t,-5,n)}const oy=[{level:1,name:"Novice",minPoints:0,maxPoints:99},{level:2,name:"Beginner",minPoints:100,maxPoints:299},{level:3,name:"Intermediate",minPoints:300,maxPoints:599},{level:4,name:"Advanced",minPoints:600,maxPoints:999},{level:5,name:"Expert",minPoints:1e3,maxPoints:1/0}];function Gu(t){if(!t||t==="0 mins")return 0;const e=t.match(/(\d+)\s*h(our)?s?/i),n=t.match(/(\d+)\s*min(ute)?s?/i);let r=0;if(e&&(r+=parseInt(e[1])*60),n&&(r+=parseInt(n[1])),!e&&!n){const a=t.match(/(\d+)/);a&&(r=parseInt(a[1]))}return r}function Sk(t,e,n){const r=[...t].sort((a,s)=>new Date(s.date).getTime()-new Date(a.date).getTime());if(n==="current"){let a=0;const s=$e(new Date,"yyyy-MM-dd");for(let l=0;l<365;l++){const u=$e(Sh(new Date,l),"yyyy-MM-dd"),f=r.find(p=>p.date===u);if(l===0&&!f&&u===s)continue;if(!f||Gu(f.skills[e]||"0")===0)break;a++}return a}else{let a=0,s=0,l=null;const u=[...t].sort((f,h)=>new Date(f.date).getTime()-new Date(h.date).getTime());for(const f of u){const h=Gu(f.skills[e]||"0"),p=ic(f.date);h>0?(l&&Nn(p,l)===1?s++:s=1,l=p,a=Math.max(a,s)):(s=0,l=null)}return a}}function uW(t){return t>=80?1.5:t>=50?1.2:1}function dW(t){if(!t)return .9;const e=Nn(new Date,ic(t));return e<=7?2:e<=30?1.5:e<=90?1:.9}function fW(t){for(let e=oy.length-1;e>=0;e--){const n=oy[e];if(t>=n.minPoints){const r=n.maxPoints-n.minPoints,a=t-n.minPoints,s=n.level===5?100:Math.min(100,Math.round(a/r*100)),l=n.level===5?0:n.maxPoints-t+1;return{level:n.level,name:n.name,pointsToNext:l,progressPercent:s}}}return{level:1,name:"Novice",pointsToNext:100-t,progressPercent:t}}function hW(t,e,n){const r=[];for(let a=89;a>=0;a--){const s=$e(Sh(new Date,a),"yyyy-MM-dd"),l=t.find(h=>h.date===s),u=l?Gu(l.skills[e]||"0"):0;let f=0;if(u>0){const h=u/n;h>=1?f=3:h>=.5?f=2:f=1}r.push({date:s,minutes:u,intensity:f})}return r}function D3(t,e){const n=e.filter(k=>k.skills&&k.skills[t.id]&&Gu(k.skills[t.id])>0),r=n.reduce((k,O)=>k+Gu(O.skills[t.id]||"0"),0),a=Math.round(r/60*10)/10,s=n.length,l=[...n].sort((k,O)=>new Date(k.date).getTime()-new Date(O.date).getTime()),u=l[0]?.date||null,f=l[l.length-1]?.date||null,h=u?Nn(new Date,ic(u))+1:0,p=Sk(e,t.id,"current"),g=Sk(e,t.id,"longest"),x=h>0?Math.round(s/h*100):0,w=uW(x),E=dW(f),S=Math.round(a*10),A=p*2+g,j=(t.years_experience||0)*50,P=Math.round(S*w*E)+A+j,H=fW(P),R=Gu(t.targetPerDay),F=hW(e,t.id,R||30);return{skillId:t.id,skillName:t.name,totalMinutes:r,totalHours:a,daysPracticed:s,daysSinceFirstPractice:h,currentStreak:p,longestStreak:g,lastPracticeDate:f,consistencyPercent:x,consistencyMultiplier:w,recencyMultiplier:E,basePoints:S,streakBonus:A,experienceBonus:j,totalPoints:P,level:H.level,levelName:H.name,pointsToNextLevel:H.pointsToNext,progressPercent:H.progressPercent,heatmapData:F}}function mW(t,e){return t.filter(n=>n.is_tracked!==!1).map(n=>D3(n,e)).sort((n,r)=>r.totalPoints-n.totalPoints)}const I3=_.createContext(void 0);function pW({children:t}){const{user:e}=Sv(),[n,r]=_.useState(null),[a,s]=_.useState([]),[l,u]=_.useState([]),[f,h]=_.useState([]),[p,g]=_.useState([]),[x,w]=_.useState([]),[E,S]=_.useState([]),[A,j]=_.useState([]),[I,P]=_.useState([]),[H,R]=_.useState([]),[F,k]=_.useState([]),[O,D]=_.useState(!0),q=async()=>{if(!e||!n)throw new Error("No user data");return{profile:n,academics:a,finance:l,transactions:p,bureaucracy:x,skills:E,habitDefinitions:A,career:{jobs:I,education:H},strategy:{campaigns:F}}},M=async()=>{if(!e)return;const me=Y1(Ye),ue=["academics","finance","transactions","bureaucracy","skills","habitDefinitions","lifestyle","jobs","education","campaigns"];for(const xe of ue)(await TG(_n(Ye,"users",e.uid,xe))).docs.forEach(ot=>me.delete(ot.ref));me.update(Vt(Ye,"users",e.uid),{updatedAt:new Date().toISOString()}),await me.commit(),s([]),u([]),g([]),w([]),S([]),j([]),h([]),P([]),R([]),k([])},U=async me=>{if(!e)return;const ue=PG(me);if(!ue.valid)throw console.error("Import failed:",ue.error),new Error(`Import failed: ${ue.error}. Please check against Blueprint.`);await M();const xe=Y1(Ye),Ue=Vt(Ye,"users",e.uid);xe.set(Ue,{profile:me.profile,isInitialized:!0,updatedAt:new Date().toISOString()}),[{name:"academics",data:me.academics},{name:"finance",data:me.finance},{name:"transactions",data:me.transactions},{name:"bureaucracy",data:me.bureaucracy},{name:"skills",data:me.skills},{name:"habitDefinitions",data:me.habitDefinitions},{name:"jobs",data:me.career?.jobs},{name:"education",data:me.career?.education},{name:"campaigns",data:me.strategy?.campaigns}].forEach(mt=>{mt.data&&mt.data.forEach(Pt=>{const Ei=Pt.id?Vt(Ye,"users",e.uid,mt.name,Pt.id):Vt(_n(Ye,"users",e.uid,mt.name));xe.set(Ei,{...Pt,id:Pt.id||Ei.id})})}),await xe.commit(),r(me.profile)};_.useEffect(()=>{if(!e){r(null),s([]),u([]),h([]),g([]),w([]),S([]),j([]),P([]),R([]),k([]),D(!1);return}D(!0);let me=0;const ue=11,xe=()=>{me++,me>=ue&&D(!1)},Ue=Vt(Ye,"users",e.uid),ot=ci(Ue,zt=>{zt.exists()?r(zt.data().profile):r(w3),xe()}),mt=_n(Ye,"users",e.uid,"academics"),Pt=ci(mt,zt=>{const pt=[];zt.forEach(He=>{pt.push({...He.data(),id:He.id})}),s(pt.sort((He,Cn)=>!He.exam_date&&!Cn.exam_date?0:He.exam_date?Cn.exam_date?new Date(He.exam_date).getTime()-new Date(Cn.exam_date).getTime():-1:1)),xe()}),Ei=_n(Ye,"users",e.uid,"finance"),Si=ci(Ei,zt=>{const pt=[];zt.forEach(He=>pt.push({...He.data(),id:He.id})),u(pt),xe()}),Sa=_n(Ye,"users",e.uid,"transactions"),as=ci(Sa,zt=>{const pt=[];zt.forEach(He=>pt.push({...He.data(),id:He.id})),g(pt.sort((He,Cn)=>new Date(Cn.date).getTime()-new Date(He.date).getTime())),xe()}),Id=_n(Ye,"users",e.uid,"bureaucracy"),is=ci(Id,zt=>{const pt=[];zt.forEach(He=>pt.push({...He.data(),id:He.id})),w(pt),xe()}),Tl=_n(Ye,"users",e.uid,"skills"),jl=ci(Tl,zt=>{const pt=[];zt.forEach(He=>pt.push({...He.data(),id:He.id})),S(pt),xe()}),ss=_n(Ye,"users",e.uid,"habitDefinitions"),ei=ci(ss,zt=>{const pt=[];zt.forEach(He=>pt.push({...He.data(),id:He.id})),j(pt),xe()}),Hc=_n(Ye,"users",e.uid,"lifestyle"),ra=ci(Hc,zt=>{const pt=[];zt.forEach(He=>pt.push({...He.data(),date:He.id})),h(pt.sort((He,Cn)=>new Date(Cn.date).getTime()-new Date(He.date).getTime())),xe()}),aa=_n(Ye,"users",e.uid,"jobs"),hn=ci(aa,zt=>{const pt=[];zt.forEach(He=>pt.push({...He.data(),id:He.id})),P(pt.sort((He,Cn)=>new Date(Cn.startDate).getTime()-new Date(He.startDate).getTime())),xe()}),jn=_n(Ye,"users",e.uid,"education"),Na=ci(jn,zt=>{const pt=[];zt.forEach(He=>pt.push({...He.data(),id:He.id})),R(pt.sort((He,Cn)=>new Date(Cn.startDate).getTime()-new Date(He.startDate).getTime())),xe()}),co=_n(Ye,"users",e.uid,"campaigns"),Rd=ci(co,zt=>{const pt=[];zt.forEach(He=>pt.push({...He.data(),id:He.id})),k(pt.sort((He,Cn)=>new Date(Cn.startDate).getTime()-new Date(He.startDate).getTime())),xe()});return()=>{ot(),Pt(),Si(),as(),is(),jl(),ei(),ra(),hn(),Na(),Rd()}},[e]);const V=async me=>{if(!e)throw new Error("User not authenticated");try{const ue=Vt(Ye,"users",e.uid);await Va(ue,{profile:{...n,...me}})}catch(ue){throw console.error("Failed to update profile:",ue),ue}},we=async(me,ue)=>{if(!e)throw new Error("User not authenticated");try{const xe=Vt(Ye,"users",e.uid,"academics",me);await Va(xe,{status:ue})}catch(xe){throw console.error("Failed to update exam status:",xe),xe}},Se=async(me,ue)=>{if(!e)throw new Error("User not authenticated");try{await Va(Vt(Ye,"users",e.uid,"academics",me),ue)}catch(xe){throw console.error("Failed to update exam:",xe),xe}},Z=async me=>{if(!e)throw new Error("User not authenticated");try{await As(_n(Ye,"users",e.uid,"academics"),{...me,createdAt:new Date().toISOString()})}catch(ue){throw console.error("Failed to add exam:",ue),ue}},Y=async me=>{if(!e)throw new Error("User not authenticated");try{await Ns(Vt(Ye,"users",e.uid,"academics",me))}catch(ue){throw console.error("Failed to delete exam:",ue),ue}},J=async(me,ue)=>{if(!e)throw new Error("User not authenticated");try{const xe=Vt(Ye,"users",e.uid,"lifestyle",me),Ue=await v3(xe);if(Ue.exists()){const ot=Ue.data();await Va(xe,{habits:{...ot.habits,...ue.habits||{}},skills:{...ot.skills,...ue.skills||{}}})}else{const ot={},mt={};A.forEach(Pt=>{ot[Pt.id]=Pt.trackingType==="boolean"?!1:0}),E.forEach(Pt=>{mt[Pt.id]=Pt.trackingOptions[0]}),await jG(xe,{date:me,habits:{...ot,...ue.habits||{}},skills:{...mt,...ue.skills||{}}})}}catch(xe){throw console.error("Failed to update habit:",xe),xe}},he=async me=>{if(!e)throw new Error("User not authenticated");try{await As(_n(Ye,"users",e.uid,"habitDefinitions"),{...me,createdAt:new Date().toISOString()})}catch(ue){throw console.error("Failed to add habit definition:",ue),ue}},Te=async(me,ue)=>{if(!e)throw new Error("User not authenticated");try{await Va(Vt(Ye,"users",e.uid,"habitDefinitions",me),ue)}catch(xe){throw console.error("Failed to update habit definition:",xe),xe}},$=async me=>{if(!e)throw new Error("User not authenticated");try{await Ns(Vt(Ye,"users",e.uid,"habitDefinitions",me))}catch(ue){throw console.error("Failed to delete habit definition:",ue),ue}},z=async me=>{if(!e)throw new Error("User not authenticated");try{await As(_n(Ye,"users",e.uid,"skills"),{...me,createdAt:new Date().toISOString()})}catch(ue){throw console.error("Failed to add skill definition:",ue),ue}},K=async(me,ue)=>{if(!e)throw new Error("User not authenticated");try{await Va(Vt(Ye,"users",e.uid,"skills",me),ue)}catch(xe){throw console.error("Failed to update skill definition:",xe),xe}},re=async me=>{if(!e)throw new Error("User not authenticated");try{await Ns(Vt(Ye,"users",e.uid,"skills",me))}catch(ue){throw console.error("Failed to delete skill definition:",ue),ue}},ge=async(me,ue)=>{if(!e)throw new Error("User not authenticated");try{await Va(Vt(Ye,"users",e.uid,"finance",me),ue)}catch(xe){throw console.error("Failed to update finance entry:",xe),xe}},Ee=async me=>{if(!e)throw new Error("User not authenticated");try{await As(_n(Ye,"users",e.uid,"finance"),me)}catch(ue){throw console.error("Failed to add finance entry:",ue),ue}},ne=async me=>{if(!e)throw new Error("User not authenticated");try{await Ns(Vt(Ye,"users",e.uid,"finance",me))}catch(ue){throw console.error("Failed to delete finance entry:",ue),ue}},Pe=async me=>{if(!e)throw new Error("User not authenticated");try{await As(_n(Ye,"users",e.uid,"transactions"),me)}catch(ue){throw console.error("Failed to add transaction:",ue),ue}},le=async(me,ue)=>{if(!e)throw new Error("User not authenticated");try{await Va(Vt(Ye,"users",e.uid,"transactions",me),ue)}catch(xe){throw console.error("Failed to update transaction:",xe),xe}},je=async me=>{if(!e)throw new Error("User not authenticated");try{await Ns(Vt(Ye,"users",e.uid,"transactions",me))}catch(ue){throw console.error("Failed to delete transaction:",ue),ue}},Le=async(me,ue)=>{if(!e)throw new Error("User not authenticated");try{await Va(Vt(Ye,"users",e.uid,"bureaucracy",me),ue)}catch(xe){throw console.error("Failed to update bureaucracy document:",xe),xe}},X=async me=>{if(!e)throw new Error("User not authenticated");try{await As(_n(Ye,"users",e.uid,"bureaucracy"),me)}catch(ue){throw console.error("Failed to add bureaucracy document:",ue),ue}},Oe=async me=>{if(!e)throw new Error("User not authenticated");try{await Ns(Vt(Ye,"users",e.uid,"bureaucracy",me))}catch(ue){throw console.error("Failed to delete bureaucracy document:",ue),ue}},ke=async me=>{if(!e)throw new Error("User not authenticated");try{await As(_n(Ye,"users",e.uid,"jobs"),{...me,createdAt:new Date().toISOString()})}catch(ue){throw console.error("Failed to add job:",ue),ue}},Qe=async(me,ue)=>{if(!e)throw new Error("User not authenticated");try{await Va(Vt(Ye,"users",e.uid,"jobs",me),ue)}catch(xe){throw console.error("Failed to update job:",xe),xe}},at=async me=>{if(!e)throw new Error("User not authenticated");try{await Ns(Vt(Ye,"users",e.uid,"jobs",me))}catch(ue){throw console.error("Failed to delete job:",ue),ue}},Gt=async me=>{if(!e)throw new Error("User not authenticated");try{await As(_n(Ye,"users",e.uid,"education"),{...me,createdAt:new Date().toISOString()})}catch(ue){throw console.error("Failed to add education:",ue),ue}},Tn=async(me,ue)=>{if(!e)throw new Error("User not authenticated");try{await Va(Vt(Ye,"users",e.uid,"education",me),ue)}catch(xe){throw console.error("Failed to update education:",xe),xe}},Nt=async me=>{if(!e)throw new Error("User not authenticated");try{await Ns(Vt(Ye,"users",e.uid,"education",me))}catch(ue){throw console.error("Failed to delete education:",ue),ue}},Ft=async me=>{if(!e)throw new Error("User not authenticated");try{await As(_n(Ye,"users",e.uid,"campaigns"),{...me,createdAt:new Date().toISOString()})}catch(ue){throw console.error("Failed to add campaign:",ue),ue}},ee=async(me,ue)=>{if(!e)throw new Error("User not authenticated");try{await Va(Vt(Ye,"users",e.uid,"campaigns",me),ue)}catch(xe){throw console.error("Failed to update campaign:",xe),xe}},W=async me=>{if(!e)throw new Error("User not authenticated");try{await Ns(Vt(Ye,"users",e.uid,"campaigns",me))}catch(ue){throw console.error("Failed to delete campaign:",ue),ue}},Ne=_.useCallback(()=>{const me=new Date;return F.find(ue=>ue.status==="active"&&new Date(ue.startDate)<=me&&new Date(ue.endDate)>=me)||F.find(ue=>ue.status==="active")||null},[F]),Fe=_.useCallback(()=>{const me=new Date,ue=[];return F.forEach(xe=>{xe.status==="active"&&xe.rules?.forEach((Ue,ot)=>{if(Ue.status!=="pending")return;const mt=new Date(Ue.deadline);if(!O3(mt))return;const Pt=Nn(me,mt),Ei=a.filter(Si=>xe.linked_exams?.includes(Si.id)&&Si.status!=="passed"&&Si.status!=="dropped");ue.push({campaignId:xe.id,campaignName:xe.name,ruleIndex:ot,rule:Ue,linkedExams:Ei,daysOverdue:Pt})})}),ue.sort((xe,Ue)=>Ue.daysOverdue-xe.daysOverdue)},[F,a]),vt=async(me,ue,xe,Ue)=>{if(!e)throw new Error("User not authenticated");const ot=F.find(mt=>mt.id===me);if(!ot)throw new Error("Campaign not found");try{xe&&Ue&&await we(xe,Ue);const mt=[...ot.rules||[]];mt[ue]={...mt[ue],status:"triggered"},await ee(me,{rules:mt})}catch(mt){throw console.error("Failed to execute rule action:",mt),mt}},ln=async(me,ue)=>{if(!e)throw new Error("User not authenticated");const xe=F.find(Ue=>Ue.id===me);if(!xe)throw new Error("Campaign not found");try{const Ue=[...xe.rules||[]];Ue[ue]={...Ue[ue],status:"safe"},await ee(me,{rules:Ue})}catch(Ue){throw console.error("Failed to mark rule safe:",Ue),Ue}},ta=async(me,ue,xe)=>{if(!e)throw new Error("User not authenticated");const Ue=F.find(ot=>ot.id===me);if(!Ue)throw new Error("Campaign not found");try{const ot=[...Ue.rules||[]],mt=new Date(ot[ue].deadline),Pt=_h(mt,xe);ot[ue]={...ot[ue],deadline:$e(Pt,"yyyy-MM-dd")},await ee(me,{rules:ot})}catch(ot){throw console.error("Failed to snooze rule:",ot),ot}},_i=_.useCallback(()=>{const me=Ne();if(!me)return[];const ue=new Set;return me.rules?.forEach(xe=>{xe.status==="pending"&&me.linked_exams?.forEach(Ue=>{ue.add(Ue)})}),a.filter(xe=>ue.has(xe.id))},[F,a,Ne]),Dd=_.useCallback(()=>a.filter(me=>me.status==="passed"&&me.is_scholarship_critical).reduce((me,ue)=>me+ue.cfu,0),[a]),$c=_.useCallback(()=>l.filter(me=>me.status==="received").reduce((me,ue)=>me+ue.amount,0),[l]),Bc=_.useCallback(()=>l.filter(me=>me.status==="locked").reduce((me,ue)=>me+ue.amount,0),[l]),Fc=_.useCallback(()=>l.filter(me=>me.status==="pending").reduce((me,ue)=>me+ue.amount,0),[l]),na=_.useCallback((me,ue)=>p.filter(xe=>xe.type==="income"&&new Date(xe.date).getFullYear()===me&&new Date(xe.date).getMonth()===ue).reduce((xe,Ue)=>xe+Ue.amount,0),[p]),Bn=_.useCallback((me,ue)=>p.filter(xe=>xe.type==="expense"&&new Date(xe.date).getFullYear()===me&&new Date(xe.date).getMonth()===ue).reduce((xe,Ue)=>xe+Ue.amount,0),[p]),Vr=_.useCallback(()=>{const me=p.filter(xe=>xe.type==="income").reduce((xe,Ue)=>xe+Ue.amount,0),ue=p.filter(xe=>xe.type==="expense").reduce((xe,Ue)=>xe+Ue.amount,0);return me-ue},[p]),cn=_.useCallback(()=>{if(x.some(xe=>xe.is_critical&&(xe.status==="expired"||xe.status==="unknown")))return"red";const ue=F.find(xe=>xe.status==="active");return ue&&ue.rules?.some(Ue=>Ue.status==="triggered")?"yellow":"green"},[x,F]),qc=_.useCallback(me=>{const ue=E.find(xe=>xe.id===me);return ue?D3(ue,f):null},[E,f]),lo=_.useCallback(()=>mW(E,f),[E,f]);return d.jsx(I3.Provider,{value:{profile:n,exams:a,finances:l,habits:f,transactions:p,bureaucracy:x,skillDefinitions:E,habitDefinitions:A,jobs:I,education:H,campaigns:F,loading:O,updateProfile:V,updateExamStatus:we,updateExam:Se,addExam:Z,deleteExam:Y,updateHabit:J,addHabitDefinition:he,updateHabitDefinition:Te,deleteHabitDefinition:$,addSkillDefinition:z,updateSkillDefinition:K,deleteSkillDefinition:re,updateFinance:ge,addFinance:Ee,deleteFinance:ne,addTransaction:Pe,updateTransaction:le,deleteTransaction:je,updateBureaucracy:Le,addBureaucracy:X,deleteBureaucracy:Oe,addJob:ke,updateJob:Qe,deleteJob:at,addEducation:Gt,updateEducation:Tn,deleteEducation:Nt,addCampaign:Ft,updateCampaign:ee,deleteCampaign:W,getActiveCampaign:Ne,getTriggeredRules:Fe,executeRuleAction:vt,markRuleSafe:ln,snoozeRule:ta,getExamsWithActiveRules:_i,getPassedCFUs:Dd,getUnlockedMoney:$c,getLockedMoney:Bc,getPendingMoney:Fc,getGlobalStatus:cn,getMonthlyIncome:na,getMonthlyExpenses:Bn,getNetBalance:Vr,getSkillAnalytics:qc,getAllSkillAnalytics:lo,exportData:q,importData:U,hardResetData:M},children:t})}function Qa(){const t=_.useContext(I3);if(t===void 0)throw new Error("useData must be used within a DataProvider");return t}const R3=_.createContext(void 0);function gW({children:t}){const[e,n]=_.useState([]),r=_.useCallback((s,l="info")=>{const u=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,f={id:u,message:s,type:l};n(h=>[...h,f]),setTimeout(()=>{n(h=>h.filter(p=>p.id!==u))},4e3)},[]),a=_.useCallback(s=>{n(l=>l.filter(u=>u.id!==s))},[]);return d.jsx(R3.Provider,{value:{toasts:e,showToast:r,dismissToast:a},children:t})}function Za(){const t=_.useContext(R3);if(t===void 0)throw new Error("useToast must be used within a ToastProvider");return t}const yW=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vW=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Nk=t=>{const e=vW(t);return e.charAt(0).toUpperCase()+e.slice(1)},M3=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),xW=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var bW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const wW=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:s,iconNode:l,...u},f)=>_.createElement("svg",{ref:f,...bW,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:M3("lucide",a),...!s&&!xW(u)&&{"aria-hidden":"true"},...u},[...l.map(([h,p])=>_.createElement(h,p)),...Array.isArray(s)?s:[s]]));const Ce=(t,e)=>{const n=_.forwardRef(({className:r,...a},s)=>_.createElement(wW,{ref:s,iconNode:e,className:M3(`lucide-${yW(Nk(t))}`,`lucide-${t}`,r),...a}));return n.displayName=Nk(t),n};const _W=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ls=Ce("activity",_W);const EW=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],SW=Ce("arrow-down-left",EW);const NW=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],dc=Ce("arrow-right",NW);const AW=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Ak=Ce("arrow-up-right",AW);const TW=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Tk=Ce("award",TW);const jW=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],jk=Ce("bell",jW);const CW=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ka=Ce("book-open",CW);const kW=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],L3=Ce("book",kW);const OW=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],V3=Ce("brain",OW);const PW=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],di=Ce("briefcase",PW);const DW=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],X1=Ce("building-2",DW);const IW=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ir=Ce("calendar",IW);const RW=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],MW=Ce("chart-column",RW);const LW=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Ck=Ce("chart-pie",LW);const VW=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Q1=Ce("check",VW);const UW=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],rd=Ce("chevron-down",UW);const zW=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],$W=Ce("chevron-left",zW);const BW=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],nh=Ce("chevron-right",BW);const FW=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Av=Ce("chevron-up",FW);const qW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],HW=Ce("circle-alert",qW);const KW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],qs=Ce("circle-check",KW);const GW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],YW=Ce("circle-x",GW);const WW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],XW=Ce("circle",WW);const QW=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Kn=Ce("clock",QW);const ZW=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],Nh=Ce("code",ZW);const JW=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],U3=Ce("coffee",JW);const eX=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],tX=Ce("credit-card",eX);const nX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],kk=Ce("crosshair",nX);const rX=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],aX=Ce("database",rX);const iX=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],_c=Ce("dollar-sign",iX);const sX=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],oX=Ce("download",sX);const lX=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],z3=Ce("dumbbell",lX);const cX=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ok=Ce("eye",cX);const uX=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],dX=Ce("file-braces",uX);const fX=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],hX=Ce("file-exclamation-point",fX);const mX=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],pX=Ce("file-text",mX);const gX=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],ly=Ce("flag",gX);const yX=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Ah=Ce("flame",yX);const vX=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],xX=Ce("funnel",vX);const bX=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],$3=Ce("gamepad-2",bX);const wX=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],al=Ce("graduation-cap",wX);const _X=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],B3=Ce("heart",_X);const EX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],iS=Ce("info",EX);const SX=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],F3=Ce("languages",SX);const NX=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],Pk=Ce("link-2",NX);const AX=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Hs=Ce("loader-circle",AX);const TX=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],q3=Ce("lock-open",TX);const jX=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],H3=Ce("lock",jX);const CX=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],kX=Ce("log-out",CX);const OX=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],PX=Ce("map-pin",OX);const DX=[["path",{d:"M5 12h14",key:"1ays0h"}]],IX=Ce("minus",DX);const RX=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],MX=Ce("moon",RX);const LX=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],K3=Ce("music",LX);const VX=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],Z1=Ce("octagon-alert",VX);const UX=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Qr=Ce("pen",UX);const zX=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],G3=Ce("pencil",zX);const $X=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],BX=Ce("piggy-bank",$X);const FX=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],or=Ce("plus",FX);const qX=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Lb=Ce("repeat",qX);const HX=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],es=Ce("save",HX);const KX=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],GX=Ce("search",KX);const YX=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ad=Ce("shield",YX);const WX=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],XX=Ce("star",WX);const QX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Zr=Ce("target",QX);const ZX=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],Y3=Ce("terminal",ZX);const JX=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],vi=Ce("trash-2",JX);const eQ=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],tQ=Ce("trending-down",eQ);const nQ=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],W3=Ce("trending-up",nQ);const rQ=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],vn=Ce("triangle-alert",rQ);const aQ=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],iQ=Ce("trophy",aQ);const sQ=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],oQ=Ce("upload",sQ);const lQ=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Dk=Ce("user",lQ);const cQ=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],X3=Ce("wallet",cQ);const uQ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],va=Ce("x",uQ);const dQ=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ga=Ce("zap",dQ),fQ={success:qs,error:HW,warning:vn,info:iS},hQ={success:{bg:"bg-neon-green/10",border:"border-neon-green/30",text:"text-white",icon:"text-neon-green"},error:{bg:"bg-neon-red/10",border:"border-neon-red/30",text:"text-white",icon:"text-neon-red"},warning:{bg:"bg-neon-yellow/10",border:"border-neon-yellow/30",text:"text-white",icon:"text-neon-yellow"},info:{bg:"bg-neon-cyan/10",border:"border-neon-cyan/30",text:"text-white",icon:"text-neon-cyan"}};function mQ(){const{toasts:t,dismissToast:e}=Za();return t.length===0?null:d.jsx("div",{className:"fixed bottom-4 right-4 z-[100] flex flex-col gap-2 max-w-sm",children:t.map(n=>{const r=fQ[n.type],a=hQ[n.type];return d.jsxs("div",{className:`
							flex items-start gap-3 p-4 rounded-lg border backdrop-blur-sm
							${a.bg} ${a.border}
							animate-in slide-in-from-right fade-in duration-300
							shadow-lg shadow-black/20
						`,children:[d.jsx(r,{className:`w-5 h-5 flex-shrink-0 mt-0.5 ${a.icon}`}),d.jsx("p",{className:`flex-1 text-sm ${a.text}`,children:n.message}),d.jsx("button",{onClick:()=>e(n.id),className:"text-gray-400 hover:text-white transition-colors flex-shrink-0",children:d.jsx(va,{className:"w-4 h-4"})})]},n.id)})})}function pQ(){const{signIn:t,signUp:e,user:n,loading:r}=Sv(),[a,s]=_.useState(""),[l,u]=_.useState(""),[f,h]=_.useState(!1),[p,g]=_.useState(""),[x,w]=_.useState(!1);if(r)return d.jsx("div",{className:"min-h-screen bg-dark-900 flex items-center justify-center",children:d.jsx("div",{className:"w-16 h-16 border-4 border-neon-green border-t-transparent rounded-full animate-spin"})});if(n)return d.jsx(oE,{to:"/",replace:!0});const E=async S=>{S.preventDefault(),g(""),w(!0);try{f?await e(a,l):await t(a,l)}catch(A){g(A.message||"Authentication failed")}finally{w(!1)}};return d.jsxs("div",{className:"min-h-screen bg-dark-900 flex items-center justify-center p-4",children:[d.jsx("div",{className:"fixed inset-0 opacity-10",children:d.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`linear-gradient(rgba(0,255,136,0.1) 1px, transparent 1px),
                           linear-gradient(90deg, rgba(0,255,136,0.1) 1px, transparent 1px)`,backgroundSize:"50px 50px"}})}),d.jsxs("div",{className:"relative w-full max-w-md",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-lg bg-dark-800 border border-neon-green/30 mb-4 neon-border-green",children:d.jsx(Y3,{className:"w-10 h-10 text-neon-green"})}),d.jsxs("h1",{className:"text-4xl font-bold text-white mb-2",children:[d.jsx("span",{className:"neon-text-green",children:"MEX"})," ",d.jsx("span",{className:"text-gray-400",children:"OS"})]}),d.jsxs("p",{className:"text-gray-500 flex items-center justify-center gap-2",children:[d.jsx(Ga,{className:"w-4 h-4 text-neon-yellow"}),"LifeOS Survival Cockpit"]})]}),d.jsxs("form",{onSubmit:E,className:"card-cyber p-8",children:[d.jsxs("h2",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-neon-green animate-pulse"}),f?"Initialize System":"System Access"]}),p&&d.jsxs("div",{className:"mb-4 p-3 rounded bg-red-500/10 border border-red-500/30 flex items-center gap-2 text-red-400",children:[d.jsx(vn,{className:"w-4 h-4"}),d.jsx("span",{className:"text-sm",children:p})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"EMAIL_ADDR"}),d.jsx("input",{type:"email",value:a,onChange:S=>s(S.target.value),className:"w-full",placeholder:"operator@mex.os",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"ACCESS_KEY"}),d.jsx("input",{type:"password",value:l,onChange:S=>u(S.target.value),className:"w-full",placeholder:"",required:!0,minLength:6})]})]}),d.jsx("button",{type:"submit",disabled:x,className:"w-full btn-cyber mt-6 py-3 flex items-center justify-center gap-2",children:x?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"w-4 h-4 border-2 border-neon-green border-t-transparent rounded-full animate-spin"}),"Processing..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Ga,{className:"w-4 h-4"}),f?"CREATE_ACCOUNT":"LOGIN"]})}),d.jsx("div",{className:"mt-6 text-center",children:d.jsx("button",{type:"button",onClick:()=>h(!f),className:"text-sm text-gray-500 hover:text-neon-cyan transition-colors",children:f?"Already have access? Login":"New operator? Create account"})})]}),d.jsx("div",{className:"mt-6 text-center text-xs text-gray-400",children:d.jsxs("div",{className:"flex items-center justify-center gap-4",children:[d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-neon-green animate-pulse"}),"FIRESTORE: ONLINE"]}),d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-neon-green animate-pulse"}),"AUTH: READY"]})]})})]})]})}function gQ(){const{user:t,signOut:e}=Sv(),{profile:n,getGlobalStatus:r,bureaucracy:a}=Qa(),[s,l]=_.useState(!1),u=_.useRef(null);_.useEffect(()=>{const E=S=>{u.current&&!u.current.contains(S.target)&&l(!1)};return s&&document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[s]);const f=r(),h={green:"bg-neon-green",yellow:"bg-neon-yellow",red:"bg-neon-red animate-pulse"},p=a.filter(E=>E.is_critical&&(E.status==="unknown"||E.status==="expired")).length,g="flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-all",x="bg-dark-600 text-white",w="text-gray-400 hover:text-white hover:bg-dark-700";return d.jsx("nav",{className:"bg-dark-800 border-b border-dark-600 sticky top-0 z-50",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[d.jsxs("div",{className:"flex items-center justify-between h-16",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs(qn,{to:"/",className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-10 h-10 rounded-lg bg-dark-700 border border-neon-green/30 flex items-center justify-center neon-border-green",children:d.jsx(Y3,{className:"w-5 h-5 text-neon-green"})}),d.jsxs("span",{className:"text-xl font-bold",children:[d.jsx("span",{className:"text-white",children:"MEX"}),d.jsx("span",{className:"text-gray-500",children:"OS"})]})]}),d.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 rounded-full bg-dark-700 border border-dark-600",children:[d.jsx("span",{className:`w-2 h-2 rounded-full ${h[f]}`}),d.jsx("span",{className:"text-xs text-gray-400 uppercase",children:f})]})]}),d.jsxs("div",{className:"hidden md:flex items-center",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsxs(qn,{to:"/academics",className:({isActive:E})=>`${g} ${E?x:w}`,children:[d.jsx(al,{className:"w-4 h-4"}),"Academics"]}),d.jsxs("div",{className:"relative",ref:u,children:[d.jsxs("button",{onClick:()=>l(!s),className:`${g} ${w}`,children:[d.jsx(X3,{className:"w-4 h-4"}),"Finance",d.jsx(rd,{className:`w-3 h-3 transition-transform ${s?"rotate-180":""}`})]}),s&&d.jsxs("div",{className:"absolute top-full left-0 mt-1 w-48 bg-dark-700 border border-dark-600 rounded-lg shadow-xl py-1 z-50",children:[d.jsx(qn,{to:"/cashflow",onClick:()=>l(!1),className:({isActive:E})=>`block px-4 py-2 text-sm ${E?"text-white bg-dark-600":"text-gray-400 hover:text-white hover:bg-dark-600"}`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(_c,{className:"w-4 h-4"}),"Cashflow"]})}),d.jsx(qn,{to:"/funding",onClick:()=>l(!1),className:({isActive:E})=>`block px-4 py-2 text-sm ${E?"text-white bg-dark-600":"text-gray-400 hover:text-white hover:bg-dark-600"}`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(al,{className:"w-4 h-4"}),"Funding"]})})]})]})]}),d.jsx("div",{className:"h-6 w-px bg-dark-600 mx-2"}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsxs(qn,{to:"/bureaucracy",className:({isActive:E})=>`${g} ${E?x:w} relative`,children:[d.jsx(ad,{className:"w-4 h-4"}),"Bureaucracy",p>0&&d.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-neon-red text-dark-900 text-xs rounded-full flex items-center justify-center font-bold animate-pulse",children:p})]}),d.jsxs(qn,{to:"/habits",className:({isActive:E})=>`${g} ${E?x:w}`,children:[d.jsx(Ls,{className:"w-4 h-4"}),"Protocol"]}),d.jsxs(qn,{to:"/skills",className:({isActive:E})=>`${g} ${E?x:w}`,children:[d.jsx(kk,{className:"w-4 h-4"}),"Skills"]})]}),d.jsx("div",{className:"h-6 w-px bg-dark-600 mx-2"}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsxs(qn,{to:"/career",className:({isActive:E})=>`${g} ${E?x:w}`,children:[d.jsx(di,{className:"w-4 h-4"}),"Career"]}),d.jsxs(qn,{to:"/strategy",className:({isActive:E})=>`${g} ${E?x:w}`,children:[d.jsx(Zr,{className:"w-4 h-4"}),"Strategy"]})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs(qn,{to:"/settings",className:({isActive:E})=>`hidden sm:flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm transition-all ${E?"bg-dark-600 text-white":"text-gray-400 hover:text-white hover:bg-dark-700"}`,children:[d.jsx("span",{className:"font-medium",children:n?.name||t?.email}),d.jsx("span",{className:"text-neon-cyan font-mono text-xs",children:n?.unipd_id})]}),d.jsx("button",{onClick:e,className:"p-2 rounded-lg text-gray-400 hover:text-neon-red hover:bg-dark-700 transition-all",title:"Logout",children:d.jsx(kX,{className:"w-5 h-5"})})]})]}),d.jsxs("div",{className:"md:hidden pb-4",children:[d.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[d.jsxs(qn,{to:"/academics",className:({isActive:E})=>`${g} ${E?x:w}`,"aria-label":"Academics",children:[d.jsx(al,{className:"w-4 h-4"}),d.jsx("span",{className:"text-xs",children:"Academics"})]}),d.jsxs(qn,{to:"/cashflow",className:({isActive:E})=>`${g} ${E?x:w}`,"aria-label":"Cashflow",children:[d.jsx(_c,{className:"w-4 h-4"}),d.jsx("span",{className:"text-xs",children:"Cashflow"})]}),d.jsxs(qn,{to:"/funding",className:({isActive:E})=>`${g} ${E?x:w}`,"aria-label":"Funding",children:[d.jsx(Ka,{className:"w-4 h-4"}),d.jsx("span",{className:"text-xs",children:"Funding"})]})]}),d.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[d.jsxs(qn,{to:"/bureaucracy",className:({isActive:E})=>`${g} ${E?x:w} relative`,"aria-label":"Bureaucracy",children:[d.jsx(ad,{className:"w-4 h-4"}),d.jsx("span",{className:"text-xs",children:"Bureaucracy"}),p>0&&d.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-neon-red rounded-full animate-pulse"})]}),d.jsxs(qn,{to:"/habits",className:({isActive:E})=>`${g} ${E?x:w}`,"aria-label":"Protocol",children:[d.jsx(Ls,{className:"w-4 h-4"}),d.jsx("span",{className:"text-xs",children:"Protocol"})]}),d.jsxs(qn,{to:"/skills",className:({isActive:E})=>`${g} ${E?x:w}`,"aria-label":"Skills",children:[d.jsx(kk,{className:"w-4 h-4"}),d.jsx("span",{className:"text-xs",children:"Skills"})]})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsxs(qn,{to:"/career",className:({isActive:E})=>`${g} ${E?x:w}`,"aria-label":"Career",children:[d.jsx(di,{className:"w-4 h-4"}),d.jsx("span",{className:"text-xs",children:"Career"})]}),d.jsxs(qn,{to:"/strategy",className:({isActive:E})=>`${g} ${E?x:w}`,"aria-label":"Strategy",children:[d.jsx(Zr,{className:"w-4 h-4"}),d.jsx("span",{className:"text-xs",children:"Strategy"})]})]})]})]})})}function Q3({isOpen:t,triggeredRules:e,onExecuteAction:n,onMarkSafe:r,onSnooze:a,onDismiss:s}){const[l,u]=_.useState(0),[f,h]=_.useState(!1),[p,g]=_.useState(!1),[x,w]=_.useState(null);if(!t||e.length===0)return null;const E=e[l],S=l===e.length-1,j=(R=>{const F=R.rule.action.toLowerCase(),k=[];if(F.includes("drop")&&R.linkedExams.forEach(O=>{O.status!=="dropped"&&O.status!=="passed"&&k.push({type:"drop_exam",examId:O.id,newStatus:"dropped",description:`Drop "${O.name}" (change status to dropped)`})}),F.includes("book")||F.includes("enroll")){const O=F.includes("book")?"booked":"enrolled";R.linkedExams.forEach(D=>{D.status!==O&&D.status!=="passed"&&k.push({type:"change_status",examId:D.id,newStatus:O,description:`Change "${D.name}" status to ${O}`})})}return k.push({type:"manual",description:"I'll handle this manually (mark as triggered)"}),k})(E),I=async()=>{if(x){h(!0);try{await n(E,x),S?s():(u(R=>R+1),w(null))}finally{h(!1)}}},P=async()=>{h(!0);try{await r(E),S?s():(u(R=>R+1),w(null))}finally{h(!1)}},H=async R=>{h(!0);try{await a(E,R),S?s():(u(F=>F+1),w(null))}finally{h(!1)}};return d.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"card-cyber p-0 w-full max-w-2xl max-h-[90vh] overflow-hidden border-neon-red/50",children:[d.jsx("div",{className:"bg-neon-red/10 border-b border-neon-red/30 p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-neon-red/20 flex items-center justify-center",children:d.jsx(vn,{className:"w-5 h-5 text-neon-red animate-pulse"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-bold text-neon-red",children:"STRATEGIC DECISION REQUIRED"}),d.jsxs("p",{className:"text-sm text-gray-400",children:[e.length," rule",e.length>1?"s":""," triggered  Reviewing ",l+1," of ",e.length]})]})]}),d.jsx("button",{onClick:s,className:"p-2 text-gray-400 hover:text-white transition-colors",children:d.jsx(va,{className:"w-5 h-5"})})]})}),d.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[d.jsxs("div",{className:"mb-4 text-sm text-gray-400 flex items-center gap-2",children:[d.jsx(Ga,{className:"w-4 h-4 text-neon-green"}),"Campaign: ",d.jsx("span",{className:"text-white font-medium",children:E.campaignName})]}),d.jsx("div",{className:"bg-dark-700 border border-neon-red/30 rounded-lg p-4 mb-6",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-neon-red/20 flex items-center justify-center flex-shrink-0 mt-1",children:d.jsx(Kn,{className:"w-4 h-4 text-neon-red"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"DEADLINE PASSED"}),d.jsxs("div",{className:"flex items-center gap-2 text-neon-red mb-2",children:[d.jsx(Ir,{className:"w-4 h-4"}),d.jsx("span",{className:"font-medium",children:$e(new Date(E.rule.deadline),"EEEE, MMMM d, yyyy")}),d.jsxs("span",{className:"px-2 py-0.5 bg-neon-red/20 rounded text-xs",children:[E.daysOverdue," day",E.daysOverdue!==1?"s":""," overdue"]})]}),d.jsxs("div",{className:"space-y-2 mt-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"px-2 py-1 bg-neon-yellow/10 text-neon-yellow text-xs font-medium rounded",children:"IF"}),d.jsx("span",{className:"text-white",children:E.rule.condition})]}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsx(dc,{className:"w-4 h-4 text-gray-600"})}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"px-2 py-1 bg-neon-red/10 text-neon-red text-xs font-medium rounded",children:"THEN"}),d.jsx("span",{className:"text-white font-semibold",children:E.rule.action})]})]})]})]})}),E.linkedExams.length>0&&d.jsxs("div",{className:"mb-6",children:[d.jsxs("h4",{className:"text-sm font-medium text-gray-400 mb-2 flex items-center gap-2",children:[d.jsx(Ka,{className:"w-4 h-4 text-neon-cyan"}),"Linked Exams"]}),d.jsx("div",{className:"space-y-2",children:E.linkedExams.map(R=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-700 rounded-lg border border-dark-600",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Ka,{className:"w-4 h-4 text-neon-cyan"}),d.jsxs("div",{children:[d.jsx("span",{className:"text-white font-medium",children:R.name}),d.jsxs("span",{className:"text-gray-500 text-sm ml-2",children:["(",R.cfu," CFU)"]})]})]}),d.jsx("span",{className:`px-2 py-1 rounded text-xs uppercase ${R.status==="passed"?"bg-neon-green/10 text-neon-green border border-neon-green/30":R.status==="dropped"?"bg-neon-red/10 text-neon-red border border-neon-red/30":R.status==="booked"?"bg-neon-cyan/10 text-neon-cyan border border-neon-cyan/30":"bg-neon-yellow/10 text-neon-yellow border border-neon-yellow/30"}`,children:R.status})]},R.id))})]}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("h4",{className:"text-sm font-medium text-white mb-3 flex items-center gap-2",children:[d.jsx(Ga,{className:"w-4 h-4 text-neon-yellow"}),"What do you want to do?"]}),d.jsx("div",{className:"space-y-2",children:j.map((R,F)=>d.jsx("button",{onClick:()=>w(R),className:`w-full text-left p-3 rounded-lg border transition-all ${x===R?"border-neon-yellow bg-neon-yellow/10 text-white":"border-dark-600 bg-dark-700 text-gray-300 hover:border-dark-500"}`,children:d.jsxs("div",{className:"flex items-center gap-3",children:[R.type==="drop_exam"&&d.jsx("div",{className:"w-8 h-8 rounded-full bg-neon-red/20 flex items-center justify-center",children:d.jsx(vn,{className:"w-4 h-4 text-neon-red"})}),R.type==="change_status"&&d.jsx("div",{className:"w-8 h-8 rounded-full bg-neon-cyan/20 flex items-center justify-center",children:d.jsx(dc,{className:"w-4 h-4 text-neon-cyan"})}),R.type==="manual"&&d.jsx("div",{className:"w-8 h-8 rounded-full bg-neon-purple/20 flex items-center justify-center",children:d.jsx(ad,{className:"w-4 h-4 text-neon-purple"})}),d.jsx("span",{children:R.description})]})},F))})]}),d.jsxs("div",{className:"border-t border-dark-600 pt-4",children:[d.jsxs("button",{onClick:()=>g(!p),className:"flex items-center gap-2 text-sm text-gray-400 hover:text-white transition-colors",children:[p?d.jsx(Av,{className:"w-4 h-4"}):d.jsx(rd,{className:"w-4 h-4"}),"Other Options"]}),p&&d.jsxs("div",{className:"mt-3 space-y-2",children:[d.jsxs("button",{onClick:P,disabled:f,className:"w-full flex items-center gap-3 p-3 rounded-lg border border-neon-green/30 bg-neon-green/5 text-neon-green hover:bg-neon-green/10 transition-colors disabled:opacity-50",children:[d.jsx(Q1,{className:"w-5 h-5"}),d.jsxs("div",{className:"text-left",children:[d.jsx("div",{className:"font-medium",children:"Mark as Safe"}),d.jsx("div",{className:"text-xs text-gray-400",children:"Condition was met - no action needed"})]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>H(1),disabled:f,className:"flex-1 p-2 rounded-lg border border-dark-600 bg-dark-700 text-gray-400 hover:text-white hover:border-dark-500 transition-colors disabled:opacity-50 text-sm",children:"Snooze 1 day"}),d.jsx("button",{onClick:()=>H(3),disabled:f,className:"flex-1 p-2 rounded-lg border border-dark-600 bg-dark-700 text-gray-400 hover:text-white hover:border-dark-500 transition-colors disabled:opacity-50 text-sm",children:"Snooze 3 days"}),d.jsx("button",{onClick:()=>H(7),disabled:f,className:"flex-1 p-2 rounded-lg border border-dark-600 bg-dark-700 text-gray-400 hover:text-white hover:border-dark-500 transition-colors disabled:opacity-50 text-sm",children:"Snooze 7 days"})]})]})]})]}),d.jsxs("div",{className:"border-t border-dark-600 p-4 bg-dark-800 flex items-center justify-between",children:[d.jsxs("div",{className:"text-sm text-gray-500",children:[l+1," of ",e.length," decisions"]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:s,className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Decide Later"}),d.jsx("button",{onClick:I,disabled:!x||f,className:"btn-cyber px-6 py-2 flex items-center gap-2 disabled:opacity-50",children:f?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Processing..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Q1,{className:"w-4 h-4"}),"Execute & ",S?"Finish":"Next"]})})]})]})]})})}function yQ(){const{exams:t,profile:e,getPassedCFUs:n,getUnlockedMoney:r,getLockedMoney:a,getPendingMoney:s,getGlobalStatus:l,habits:u,skillDefinitions:f,habitDefinitions:h,bureaucracy:p,jobs:g,getActiveCampaign:x,updateHabit:w,getTriggeredRules:E,executeRuleAction:S,markRuleSafe:A,snoozeRule:j,getExamsWithActiveRules:I}=Qa(),{showToast:P}=Za(),[H,R]=_.useState(!1),F=E(),k=I();_.useEffect(()=>{const X=`strategy_dismissed_${$e(new Date,"yyyy-MM-dd")}`,Oe=sessionStorage.getItem(X);if(F.length>0&&!Oe){const ke=setTimeout(()=>R(!0),500);return()=>clearTimeout(ke)}},[F.length]);const O=async(X,Oe)=>{try{await S(X.campaignId,X.ruleIndex,Oe.examId,Oe.newStatus),P(Oe.type==="drop_exam"?"Exam dropped successfully":Oe.type==="change_status"?"Exam status updated":"Rule marked as triggered","success")}catch{P("Failed to execute action","error")}},D=async X=>{try{await A(X.campaignId,X.ruleIndex),P("Rule marked as safe","success")}catch{P("Failed to update rule","error")}},q=async(X,Oe)=>{try{await j(X.campaignId,X.ruleIndex,Oe),P(`Deadline extended by ${Oe} day${Oe>1?"s":""}`,"success")}catch{P("Failed to snooze rule","error")}},M=()=>{const X=`strategy_dismissed_${$e(new Date,"yyyy-MM-dd")}`;sessionStorage.setItem(X,"true"),R(!1)},U=new Date,V=t.find(X=>X.exam_date&&new Date(X.exam_date)>U&&X.status!=="passed"),we=n(),Se=l(),Z=V?.exam_date?Nn(new Date(V.exam_date),U):null,Y=V?.exam_date?$G(new Date(V.exam_date),U)%24:0,J=we/20*100,he=u.find(X=>X.date===$e(U,"yyyy-MM-dd")),Te=t.filter(X=>X.exam_date&&new Date(X.exam_date)>U&&X.status!=="passed"),$=Te.length>0?`${$e(new Date(Te[0].exam_date),"MMM d")} - ${$e(new Date(Te[Te.length-1].exam_date),"MMM d")}`:"No upcoming exams",z=p.filter(X=>X.is_critical&&(X.status==="unknown"||X.status==="expired")),K=x(),re=K?Nn(new Date(K.endDate),U):null,ge=K?.rules?.filter(X=>X.status==="pending").length||0,Ee=F.length,ne=g.find(X=>X.is_current),Pe=async(X,Oe)=>{try{await w($e(U,"yyyy-MM-dd"),{habits:{[X]:Oe}}),P("Habit logged","success")}catch{P("Failed to save","error")}},le=async(X,Oe)=>{try{await w($e(U,"yyyy-MM-dd"),{skills:{[X]:Oe}}),P("Skill logged","success")}catch{P("Failed to save","error")}},je=_.useMemo(()=>f.filter(X=>X.is_tracked!==!1),[f]),Le=_.useMemo(()=>{let X=0;return h.forEach(Oe=>{const ke=he?.habits[Oe.id];(Oe.trackingType==="boolean"?ke:ke>=(Oe.target||1))&&X++}),je.forEach(Oe=>{(he?.skills[Oe.id]||"0 mins")!=="0 mins"&&X++}),X},[he,h,je]);return d.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-white flex items-center gap-2 sm:gap-3",children:[d.jsx(Ga,{className:`w-6 h-6 sm:w-8 sm:h-8 flex-shrink-0 ${Se==="green"?"text-neon-green":Se==="yellow"?"text-neon-yellow":"text-neon-red"}`}),d.jsx("span",{className:"truncate",children:e?.name?`${e.name}'s Cockpit`:"Survival Cockpit"})]}),d.jsx("p",{className:"text-gray-400 mt-1 text-sm sm:text-base",children:$e(U,"EEEE, MMM d, yyyy")})]}),d.jsxs("div",{className:`
          px-3 py-1.5 sm:px-4 sm:py-2 rounded-lg border text-xs sm:text-sm font-medium flex-shrink-0
          ${Se==="green"?"bg-neon-green/10 border-neon-green/30 text-neon-green":""}
          ${Se==="yellow"?"bg-neon-yellow/10 border-neon-yellow/30 text-neon-yellow":""}
          ${Se==="red"?"bg-neon-red/10 border-neon-red/30 text-neon-red animate-pulse":""}
        `,children:[Se==="green"&&"SYSTEMS NOMINAL",Se==="yellow"&&"CAUTION ADVISED",Se==="red"&&"CRITICAL ALERT"]})]}),V&&Z!==null&&d.jsx("div",{className:`card-cyber p-4 sm:p-6 ${Z<=7?"border-neon-red neon-border-red":Z<=14?"border-neon-yellow neon-border-yellow":"border-neon-green neon-border-green"}`,children:d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-4",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-xs sm:text-sm mb-2",children:[d.jsx(Kn,{className:"w-4 h-4 flex-shrink-0"}),"NEXT ENGAGEMENT"]}),d.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white truncate",children:V.name}),d.jsx("p",{className:"text-gray-500 mt-1 text-sm line-clamp-2",children:V.strategy_notes}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 mt-4",children:[d.jsxs("span",{className:"text-xs sm:text-sm text-gray-400 flex items-center gap-1",children:[d.jsx(Ir,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"}),d.jsx("span",{className:"truncate",children:V.exam_date?$e(new Date(V.exam_date),"MMM d @ HH:mm"):"TBD"})]}),d.jsxs("span",{className:"px-2 py-0.5 rounded text-xs bg-neon-cyan/10 text-neon-cyan border border-neon-cyan/30",children:[V.cfu," CFU"]}),d.jsx("span",{className:`px-2 py-0.5 rounded text-xs uppercase ${V.status==="booked"?"bg-neon-green/10 text-neon-green border border-neon-green/30":"bg-neon-yellow/10 text-neon-yellow border border-neon-yellow/30"}`,children:V.status})]})]}),d.jsxs("div",{className:"text-left sm:text-right flex sm:flex-col items-baseline sm:items-end gap-2 sm:gap-0",children:[d.jsx("div",{className:`text-4xl sm:text-6xl font-bold ${Z<=7?"text-neon-red neon-text-red":Z<=14?"text-neon-yellow neon-text-yellow":"text-neon-green neon-text-green"}`,children:Z}),d.jsxs("div",{className:"text-gray-400 text-sm sm:text-base",children:["days ",d.jsxs("span",{className:"text-gray-500 text-xs sm:text-sm",children:["+",Y,"h"]})]})]})]})}),Ee>0&&d.jsx("div",{className:"card-cyber p-4 border-neon-red/50 bg-neon-red/5 animate-pulse",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(vn,{className:"w-6 h-6 text-neon-red flex-shrink-0 mt-0.5"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("h4",{className:"font-semibold text-neon-red",children:[Ee," Strategic Decision",Ee>1?"s":""," OVERDUE"]}),d.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Deadline",Ee>1?"s":""," passed - action required"]}),d.jsx("div",{className:"space-y-1",children:F.slice(0,3).map((X,Oe)=>d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsx("span",{className:"w-1.5 h-1.5 bg-neon-red rounded-full flex-shrink-0 animate-pulse"}),d.jsxs("span",{className:"text-gray-400 truncate",children:["IF ",X.rule.condition]}),d.jsx(dc,{className:"w-3 h-3 text-gray-600 flex-shrink-0"}),d.jsx("span",{className:"text-white truncate",children:X.rule.action}),d.jsxs("span",{className:"text-neon-red text-xs",children:["(",X.daysOverdue,"d overdue)"]})]},Oe))})]}),d.jsxs("button",{onClick:()=>R(!0),className:"btn-cyber px-4 py-2 text-sm flex-shrink-0 bg-neon-red/20 border-neon-red/50 hover:bg-neon-red/30",children:[d.jsx(vn,{className:"w-4 h-4 inline mr-1"}),"Decide Now"]})]})}),ge>0&&Ee===0&&K&&d.jsx("div",{className:"card-cyber p-4 border-neon-yellow/30 bg-neon-yellow/5",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Kn,{className:"w-5 h-5 text-neon-yellow flex-shrink-0 mt-0.5"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("h4",{className:"font-semibold text-neon-yellow",children:[ge," Strategic Rule",ge>1?"s":""," Pending"]}),d.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Campaign: ",K.name]}),d.jsx("div",{className:"space-y-1",children:K.rules?.filter(X=>X.status==="pending").slice(0,3).map((X,Oe)=>d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsx("span",{className:"w-1.5 h-1.5 bg-neon-yellow rounded-full flex-shrink-0"}),d.jsxs("span",{className:"text-gray-400 truncate",children:["IF ",X.condition]}),d.jsx(dc,{className:"w-3 h-3 text-gray-600 flex-shrink-0"}),d.jsx("span",{className:"text-white truncate",children:X.action}),d.jsxs("span",{className:"text-gray-500 text-xs",children:["(by ",$e(new Date(X.deadline),"MMM d"),")"]})]},Oe))})]}),d.jsx(Gr,{to:"/strategy",className:"btn-cyber px-3 py-1.5 text-sm flex-shrink-0",children:"View Rules"})]})}),d.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[d.jsxs("div",{className:"card-cyber p-3 sm:p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-3",children:[d.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 text-gray-400 text-xs sm:text-sm",children:[d.jsx(Zr,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"}),d.jsx("span",{className:"hidden sm:inline",children:"SCHOLARSHIP TARGET"}),d.jsx("span",{className:"sm:hidden",children:"TARGET"})]}),d.jsxs("span",{className:"text-xs text-gray-500",children:[we,"/20"]})]}),d.jsx("div",{className:"h-2 sm:h-3 bg-dark-700 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full progress-bar-cyber rounded-full transition-all duration-500",style:{width:`${J}%`}})}),d.jsx("div",{className:"mt-2 text-right",children:d.jsx("span",{className:`text-sm sm:text-lg font-bold ${we>=20?"text-neon-green":"text-white"}`,children:we>=20?"UNLOCKED":`${20-we} needed`})})]}),d.jsxs("div",{className:"card-cyber p-3 sm:p-4",children:[d.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 text-gray-400 text-xs sm:text-sm mb-2 sm:mb-3",children:[d.jsx(q3,{className:"w-3 h-3 sm:w-4 sm:h-4 text-neon-green flex-shrink-0"}),d.jsx("span",{className:"hidden sm:inline",children:"AVAILABLE FUNDS"}),d.jsx("span",{className:"sm:hidden",children:"AVAILABLE"})]}),d.jsxs("div",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-neon-green neon-text-green truncate",children:["",r().toLocaleString("it-IT",{minimumFractionDigits:0,maximumFractionDigits:0})]}),d.jsx("div",{className:"text-xs text-gray-500 mt-1 hidden sm:block",children:"Received & Spendable"})]}),d.jsxs("div",{className:"card-cyber p-3 sm:p-4",children:[d.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 text-gray-400 text-xs sm:text-sm mb-2 sm:mb-3",children:[d.jsx(H3,{className:"w-3 h-3 sm:w-4 sm:h-4 text-neon-red flex-shrink-0"}),d.jsx("span",{className:"hidden sm:inline",children:"LOCKED FUNDS"}),d.jsx("span",{className:"sm:hidden",children:"LOCKED"})]}),d.jsxs("div",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-neon-red truncate",children:["",a().toLocaleString("it-IT",{minimumFractionDigits:0,maximumFractionDigits:0})]}),d.jsx("div",{className:"text-xs text-gray-500 mt-1 hidden sm:block",children:"Requires 20 CFUs"})]}),d.jsxs("div",{className:"card-cyber p-3 sm:p-4",children:[d.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 text-gray-400 text-xs sm:text-sm mb-2 sm:mb-3",children:[d.jsx(Kn,{className:"w-3 h-3 sm:w-4 sm:h-4 text-neon-yellow flex-shrink-0"}),d.jsx("span",{className:"hidden sm:inline",children:"PENDING FUNDS"}),d.jsx("span",{className:"sm:hidden",children:"PENDING"})]}),d.jsxs("div",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-neon-yellow truncate",children:["",s().toLocaleString("it-IT",{minimumFractionDigits:0,maximumFractionDigits:0})]}),d.jsx("div",{className:"text-xs text-gray-500 mt-1 hidden sm:block",children:"Awaiting Verification"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[K?d.jsxs("div",{className:"card-cyber p-5 border-neon-green/30 hover:neon-border-green transition-all",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{className:"flex items-center gap-2 text-neon-green text-sm",children:[d.jsx(ly,{className:"w-4 h-4"}),"ACTIVE CAMPAIGN"]}),d.jsxs(Gr,{to:"/strategy",className:"text-xs text-gray-400 hover:text-neon-green transition-colors flex items-center gap-1",children:["Manage ",d.jsx(nh,{className:"w-3 h-3"})]})]}),d.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:K.name}),d.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-3",children:[d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(Ir,{className:"w-4 h-4"}),$e(new Date(K.startDate),"MMM d"),"  ",$e(new Date(K.endDate),"MMM d")]}),d.jsxs("span",{className:`flex items-center gap-1 ${re&&re<=7?"text-neon-red":""}`,children:[d.jsx(Kn,{className:"w-4 h-4"}),re,"d remaining"]})]}),d.jsx("div",{className:"h-1.5 bg-dark-700 rounded-full overflow-hidden mb-3",children:d.jsx("div",{className:"h-full bg-neon-green rounded-full transition-all duration-500",style:{width:`${Math.min(100,Math.max(0,Nn(U,new Date(K.startDate))/Nn(new Date(K.endDate),new Date(K.startDate))*100))}%`}})}),d.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[d.jsxs("span",{className:"text-neon-cyan",children:[d.jsx(Ka,{className:"w-4 h-4 inline mr-1"}),K.linked_exams?.length||0," exams"]}),ge>0&&d.jsxs("span",{className:"text-neon-yellow flex items-center gap-1",children:[d.jsx(vn,{className:"w-4 h-4"}),ge," pending decision",ge>1?"s":""]})]}),K.rules&&K.rules.filter(X=>X.status==="pending").slice(0,2).map((X,Oe)=>d.jsxs("div",{className:"mt-2 p-2 bg-dark-700 rounded text-sm flex items-center gap-2",children:[d.jsx("span",{className:"w-2 h-2 bg-neon-yellow rounded-full animate-pulse"}),d.jsx("span",{className:"text-gray-400 truncate",children:X.condition}),d.jsx(dc,{className:"w-3 h-3 text-gray-600 flex-shrink-0"}),d.jsx("span",{className:"text-white truncate",children:X.action})]},Oe))]}):d.jsxs("div",{className:"card-cyber p-5 border-dashed border-dark-500",children:[d.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm mb-3",children:[d.jsx(ly,{className:"w-4 h-4"}),"NO ACTIVE CAMPAIGN"]}),d.jsx("p",{className:"text-gray-500 text-sm mb-3",children:"Create a strategic campaign to track your goals and deadlines."}),d.jsxs(Gr,{to:"/strategy",className:"btn-cyber px-4 py-2 text-sm inline-flex items-center gap-2",children:[d.jsx(Zr,{className:"w-4 h-4"}),"Create Campaign"]})]}),ne?d.jsxs("div",{className:"card-cyber p-5 border-neon-purple/30 hover:border-neon-purple/50 transition-all",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{className:"flex items-center gap-2 text-neon-purple text-sm",children:[d.jsx(di,{className:"w-4 h-4"}),"CURRENT POSITION"]}),d.jsxs(Gr,{to:"/career",className:"text-xs text-gray-400 hover:text-neon-purple transition-colors flex items-center gap-1",children:["Career Hub ",d.jsx(nh,{className:"w-3 h-3"})]})]}),d.jsx("h3",{className:"text-xl font-bold text-white",children:ne.role}),d.jsxs("p",{className:"text-gray-400 mb-2",children:[ne.company,"  ",ne.location]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-3",children:[d.jsx(Ir,{className:"w-4 h-4"}),"Since ",$e(new Date(ne.startDate),"MMM yyyy")]}),d.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[ne.tech_stack.slice(0,5).map(X=>d.jsx("span",{className:"px-2 py-0.5 bg-dark-600 text-neon-cyan text-xs rounded",children:X},X)),ne.tech_stack.length>5&&d.jsxs("span",{className:"px-2 py-0.5 bg-dark-600 text-gray-500 text-xs rounded",children:["+",ne.tech_stack.length-5," more"]})]})]}):d.jsxs("div",{className:"card-cyber p-5 border-dashed border-dark-500",children:[d.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm mb-3",children:[d.jsx(di,{className:"w-4 h-4"}),"NO CURRENT POSITION"]}),d.jsx("p",{className:"text-gray-500 text-sm mb-3",children:"Track your career history and professional timeline."}),d.jsxs(Gr,{to:"/career",className:"btn-cyber px-4 py-2 text-sm inline-flex items-center gap-2",children:[d.jsx(di,{className:"w-4 h-4"}),"Add Position"]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"lg:col-span-2 card-cyber p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[d.jsx(Ka,{className:"w-5 h-5 text-neon-cyan"}),"Upcoming Exams ",Te.length>0&&`(${$})`]}),d.jsxs(Gr,{to:"/academics",className:"text-sm text-neon-cyan hover:text-neon-green transition-colors flex items-center gap-1",children:["View All ",d.jsx(nh,{className:"w-4 h-4"})]})]}),t.length===0?d.jsx("p",{className:"text-gray-500 text-center py-8",children:"No exams tracked yet. Add exams in the Academics section."}):d.jsx("div",{className:"space-y-3",children:t.slice(0,5).map(X=>{const Oe=X.exam_date?new Date(X.exam_date):null,ke=Oe?Nn(Oe,U):null,Qe=X.status==="passed",at=k.some(Tn=>Tn.id===X.id),Gt=F.some(Tn=>Tn.linkedExams.some(Nt=>Nt.id===X.id));return d.jsxs("div",{className:`p-3 rounded-lg border transition-all ${Qe?"bg-neon-green/5 border-neon-green/20":Gt?"bg-neon-red/5 border-neon-red/30":at?"bg-neon-yellow/5 border-neon-yellow/30":"bg-dark-700 border-dark-600 hover:border-neon-cyan/30"}`,children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[Gt&&!Qe&&d.jsx(vn,{className:"w-5 h-5 text-neon-red animate-pulse"}),at&&!Gt&&!Qe&&d.jsx(Kn,{className:"w-5 h-5 text-neon-yellow"}),d.jsxs("div",{children:[d.jsx("span",{className:`font-medium ${Qe?"text-neon-green line-through":"text-white"}`,children:X.name}),d.jsxs("span",{className:"text-gray-500 text-sm ml-2",children:["(",X.cfu," CFU)"]})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-sm text-gray-400",children:Oe?$e(Oe,"MMM d"):"TBD"}),!Qe&&ke!==null&&ke>0&&d.jsxs("span",{className:`text-sm font-medium ${ke<=7?"text-neon-red":ke<=14?"text-neon-yellow":"text-gray-400"}`,children:[ke,"d"]}),d.jsx("span",{className:`px-2 py-1 rounded text-xs uppercase ${Qe?"bg-neon-green/20 text-neon-green":X.status==="booked"?"bg-neon-cyan/10 text-neon-cyan":"bg-neon-yellow/10 text-neon-yellow"}`,children:X.status})]})]}),Gt&&!Qe&&d.jsxs("div",{className:"mt-2 text-xs text-neon-red flex items-center gap-1",children:[d.jsx(vn,{className:"w-3 h-3"}),"Strategic rule deadline passed - decision required"]}),at&&!Gt&&!Qe&&d.jsxs("div",{className:"mt-2 text-xs text-neon-yellow flex items-center gap-1",children:[d.jsx(Kn,{className:"w-3 h-3"}),"Has pending strategic rules"]})]},X.id)})})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"card-cyber p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2 mb-4",children:[d.jsx(Ga,{className:"w-5 h-5 text-neon-yellow"}),"Quick Actions"]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(Gr,{to:"/habits",className:"w-full btn-cyber py-3 flex items-center justify-center gap-2",children:[d.jsx(Ls,{className:"w-4 h-4"}),"Log Today's Habits"]}),d.jsxs(Gr,{to:"/academics",className:"w-full btn-cyber py-3 flex items-center justify-center gap-2",children:[d.jsx(Ka,{className:"w-4 h-4"}),"Update Exam Status"]}),d.jsxs(Gr,{to:"/cashflow",className:"w-full btn-cyber py-3 flex items-center justify-center gap-2",children:[d.jsx(_c,{className:"w-4 h-4"}),"Add Transaction"]})]})]}),d.jsxs("div",{className:"card-cyber p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[d.jsx(Ls,{className:"w-5 h-5 text-neon-purple"}),"Today's Protocol"]}),d.jsxs(Gr,{to:"/habits",className:"text-xs text-neon-cyan hover:text-neon-green flex items-center gap-1",children:["View All ",d.jsx(nh,{className:"w-3 h-3"})]})]}),d.jsxs("div",{className:"space-y-3",children:[h.map(X=>{const Oe=he?.habits[X.id],ke=X.trackingType==="boolean"?!!Oe:typeof Oe=="number"&&Oe>=(X.target||1);return d.jsxs("div",{className:`flex items-center justify-between p-2 rounded transition-colors ${ke?"bg-neon-green/5":""}`,children:[d.jsx("span",{className:`text-sm ${ke?"text-neon-green":"text-gray-400"}`,children:X.name}),X.trackingType==="boolean"?d.jsx("button",{onClick:()=>Pe(X.id,!Oe),className:`w-8 h-8 rounded flex items-center justify-center transition-colors ${Oe?"bg-neon-green/20 text-neon-green":"bg-dark-600 text-gray-500 hover:bg-dark-500"}`,children:Oe?d.jsx(qs,{className:"w-4 h-4"}):d.jsx(XW,{className:"w-4 h-4"})}):d.jsx("div",{className:"flex gap-1",children:Array.from({length:(X.maxValue||3)+1},(Qe,at)=>at).map(Qe=>d.jsxs("button",{onClick:()=>Pe(X.id,Qe),className:`px-2 py-1 text-xs rounded transition-colors ${Oe===Qe?"bg-neon-green/20 text-neon-green":"bg-dark-600 text-gray-500 hover:bg-dark-500"}`,children:[Qe,X.trackingType==="hours"?"h":""]},Qe))})]},X.id)}),je.map(X=>{const Oe=he?.skills[X.id]||"0 mins",ke=Oe!=="0 mins",Qe=X.trackingOptions||["0 mins","15 mins","30 mins","60 mins"];return d.jsxs("div",{className:`flex items-center justify-between p-2 rounded transition-colors ${ke?"bg-neon-cyan/5":""}`,children:[d.jsx("span",{className:`text-sm ${ke?"text-neon-cyan":"text-gray-400"}`,children:X.name}),d.jsx("div",{className:"flex gap-1",children:Qe.slice(0,5).map(at=>d.jsx("button",{onClick:()=>le(X.id,at),className:`px-2 py-1 text-xs rounded transition-colors ${Oe===at?"bg-neon-cyan/20 text-neon-cyan":"bg-dark-600 text-gray-500 hover:bg-dark-500"}`,children:at.replace(" mins","m").replace(" min","m")},at))})]},X.id)}),h.length===0&&je.length===0&&d.jsxs("p",{className:"text-gray-500 text-sm text-center py-2",children:["No habits or skills being tracked.",d.jsx(Gr,{to:"/habits",className:"text-neon-cyan ml-1 hover:underline",children:"Add some!"})]})]}),(h.length>0||je.length>0)&&d.jsxs("div",{className:"mt-4 pt-3 border-t border-dark-600 text-xs text-gray-500",children:[" ",Le,"/",h.length+je.length," logged today"]})]})]})]}),z.length>0&&d.jsx("div",{className:"card-cyber p-4 border-neon-red neon-border-red bg-neon-red/5",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(vn,{className:"w-6 h-6 text-neon-red animate-pulse"}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("h4",{className:"font-semibold text-neon-red",children:["CRITICAL: ",z.length," Document(s) Need Attention"]}),d.jsx("p",{className:"text-sm text-gray-400",children:z.map(X=>X.name).join(", ")})]}),d.jsxs(Gr,{to:"/bureaucracy",className:"btn-cyber px-4 py-2 text-sm",children:[d.jsx(pX,{className:"w-4 h-4 inline mr-1"}),"Review"]})]})}),d.jsx(Q3,{isOpen:H,triggeredRules:F,onExecuteAction:O,onMarkSafe:D,onSnooze:q,onDismiss:M})]})}function El({isOpen:t,title:e,message:n,onConfirm:r,onCancel:a,confirmText:s="Confirm",cancelText:l="Cancel",isDangerous:u=!1}){return t?d.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in duration-200",children:d.jsx("div",{className:"bg-dark-800 border border-dark-600 rounded-xl w-full max-w-md shadow-2xl scale-100 animate-in zoom-in-95 duration-200",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:`p-3 rounded-full ${u?"bg-neon-red/10 text-neon-red":"bg-neon-yellow/10 text-neon-yellow"}`,children:d.jsx(vn,{className:"w-6 h-6"})}),d.jsx("h3",{className:"text-xl font-bold text-white",children:e})]}),d.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:n}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx("button",{onClick:a,className:"px-4 py-2 text-gray-400 hover:text-white transition-colors font-medium",children:l}),d.jsx("button",{onClick:r,className:`px-6 py-2 rounded-lg font-bold transition-all ${u?"bg-neon-red/20 text-neon-red border border-neon-red/50 hover:bg-neon-red hover:text-white":"bg-neon-cyan/20 text-neon-cyan border border-neon-cyan/50 hover:bg-neon-cyan hover:text-dark-900"}`,children:s})]})]})})}):null}const Vb=["study_plan","enrolled","planned","booked","passed","dropped"],vQ=["Mandatory Core","Elective","Free Choice","Seminar","Thesis","Other"];function xQ(){const{exams:t,updateExamStatus:e,updateExam:n,addExam:r,deleteExam:a,getPassedCFUs:s,profile:l,getTriggeredRules:u,getExamsWithActiveRules:f}=Qa(),{showToast:h}=Za(),p=new Date,g=s(),x=g/20*100,w=u(),E=f(),[S,A]=_.useState(!1),[j,I]=_.useState(null),[P,H]=_.useState(!1),[R,F]=_.useState(!1),[k,O]=_.useState(null),[D,q]=_.useState({name:"",cfu:6,status:"enrolled",exam_date:"",strategy_notes:"",is_scholarship_critical:!0,category:"Mandatory Core"}),[M,U]=_.useState("active"),{activeExams:V,passedExams:we,filteredExams:Se}=_.useMemo(()=>{const ne=t.filter(je=>je.status!=="passed"&&je.status!=="dropped"),Pe=t.filter(je=>je.status==="passed");let le;switch(M){case"active":le=ne;break;case"passed":le=Pe;break;default:le=t}return{activeExams:ne,passedExams:Pe,filteredExams:le}},[t,M]),Z=async(ne,Pe)=>{try{await e(ne,Pe)}catch{h("Failed to update status","error")}},Y=()=>{q({name:"",cfu:6,status:"enrolled",exam_date:"",strategy_notes:"",is_scholarship_critical:!0,category:"Mandatory Core"}),I(null)},J=()=>{Y(),A(!0)},he=ne=>{I(ne),q({name:ne.name,cfu:ne.cfu,status:ne.status,exam_date:ne.exam_date||"",strategy_notes:ne.strategy_notes,is_scholarship_critical:ne.is_scholarship_critical,category:ne.category}),A(!0)},Te=async()=>{if(D.name.trim()){H(!0);try{const ne={name:D.name,cfu:D.cfu,status:D.status,exam_date:D.exam_date||null,strategy_notes:D.strategy_notes,is_scholarship_critical:D.is_scholarship_critical,category:D.category};j?(await n(j.id,ne),h("Exam updated","success")):(await r(ne),h("Exam added","success")),A(!1),Y()}catch{h("Failed to save exam. Please try again.","error")}finally{H(!1)}}},$=ne=>{O(ne),F(!0)},z=async()=>{if(k)try{await a(k),h("Exam deleted","success"),F(!1),O(null)}catch{h("Failed to delete exam","error"),F(!1)}},K=ne=>{switch(ne){case"passed":return"bg-neon-green/20 text-neon-green border-neon-green/30";case"booked":return"bg-neon-cyan/10 text-neon-cyan border-neon-cyan/30";case"planned":return"bg-neon-yellow/10 text-neon-yellow border-neon-yellow/30";case"enrolled":return"bg-neon-purple/10 text-neon-purple border-neon-purple/30";case"dropped":return"bg-neon-red/10 text-neon-red border-neon-red/30";default:return"bg-dark-600 text-gray-400 border-dark-500"}},re=ne=>{switch(ne){case"study_plan":return"Study Plan";case"enrolled":return"Enrolled";case"planned":return"Planned";case"booked":return"Booked";case"passed":return"Passed";case"dropped":return"Dropped";default:return ne}},ge=t.filter(ne=>ne.exam_date&&new Date(ne.exam_date)>p&&ne.status!=="passed"),Ee=ge.length>0?`${$e(new Date(ge[0].exam_date),"MMM d")} - ${$e(new Date(ge[ge.length-1].exam_date),"MMM d")}`:null;return d.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-6",children:[d.jsxs("div",{className:"page-header",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-white flex items-center gap-2 sm:gap-3",children:[d.jsx(al,{className:"w-6 h-6 sm:w-8 sm:h-8 text-neon-cyan flex-shrink-0"}),"Academic Radar"]}),d.jsxs("p",{className:"text-gray-500 mt-1 text-sm sm:text-base",children:[l?.name||"Student","  Track your academic progress"]})]}),d.jsxs("button",{onClick:J,className:"btn-cyber px-3 sm:px-4 py-2 flex items-center gap-2",children:[d.jsx(or,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:"Add Exam"}),d.jsx("span",{className:"sm:hidden",children:"Add"})]})]}),d.jsxs("div",{className:"card-cyber p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Zr,{className:"w-6 h-6 text-neon-green"}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-semibold text-white",children:"Scholarship Unlock Progress"}),d.jsx("p",{className:"text-sm text-gray-500",children:"20 CFUs required for merit installment"})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("span",{className:"text-3xl font-bold text-white",children:g}),d.jsx("span",{className:"text-gray-500",children:"/20 CFU"})]})]}),d.jsx("div",{className:"h-4 bg-dark-700 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full progress-bar-cyber rounded-full transition-all duration-700",style:{width:`${Math.min(x,100)}%`}})}),d.jsxs("div",{className:"flex justify-between mt-2 text-sm",children:[d.jsx("span",{className:"text-gray-500",children:"Merit Installment LOCKED"}),d.jsx("span",{className:g>=20?"text-neon-green":"text-gray-500",children:g>=20?" UNLOCKED":`${20-g} CFU remaining`})]})]}),d.jsxs("div",{className:"card-cyber p-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[d.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[d.jsx(Ka,{className:"w-5 h-5 text-neon-cyan"}),Ee?`Exams (${Ee})`:"All Exams"]}),d.jsxs("div",{className:"flex bg-dark-700 rounded-lg p-1 border border-dark-600",children:[d.jsxs("button",{onClick:()=>U("active"),className:`px-3 py-1.5 rounded text-sm font-medium transition-all ${M==="active"?"bg-neon-cyan/20 text-neon-cyan":"text-gray-500 hover:text-gray-300"}`,children:["Active (",V.length,")"]}),d.jsxs("button",{onClick:()=>U("passed"),className:`px-3 py-1.5 rounded text-sm font-medium transition-all ${M==="passed"?"bg-neon-green/20 text-neon-green":"text-gray-500 hover:text-gray-300"}`,children:["Passed (",we.length,")"]}),d.jsxs("button",{onClick:()=>U("all"),className:`px-3 py-1.5 rounded text-sm font-medium transition-all ${M==="all"?"bg-dark-600 text-white":"text-gray-500 hover:text-gray-300"}`,children:["All (",t.length,")"]})]})]}),Se.length===0?d.jsxs("div",{className:"text-center py-12",children:[d.jsx(Ka,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500",children:M==="active"?"No active exams.":M==="passed"?"No passed exams yet.":"No exams tracked yet."}),t.length===0&&d.jsx("button",{onClick:J,className:"mt-4 btn-cyber px-4 py-2",children:"Add Your First Exam"})]}):d.jsx("div",{className:"space-y-4",children:Se.map(ne=>{const Pe=ne.exam_date?new Date(ne.exam_date):null,le=Pe?Nn(Pe,p):null,je=ne.status==="passed",Le=E.some(ke=>ke.id===ne.id),X=w.some(ke=>ke.linkedExams.some(Qe=>Qe.id===ne.id)),Oe=Pe&&Pe<p&&!je;return d.jsxs("div",{className:`p-4 rounded-lg border transition-all group relative ${je?"bg-neon-green/5 border-neon-green/30":X?"bg-neon-red/5 border-neon-red/30":Le?"bg-neon-yellow/5 border-neon-yellow/30":Oe?"bg-dark-700/50 border-dark-600 opacity-50":"bg-dark-700 border-dark-600 hover:border-neon-cyan/30"}`,children:[d.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 group-hover:opacity-100 transition-all",children:[d.jsx("button",{onClick:()=>he(ne),className:"p-1.5 rounded bg-dark-600 hover:bg-neon-cyan/20 text-gray-500 hover:text-neon-cyan",children:d.jsx(Qr,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>$(ne.id),className:"p-1.5 rounded bg-dark-600 hover:bg-neon-red/20 text-gray-500 hover:text-neon-red",children:d.jsx(vi,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"flex items-start justify-between pr-20",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[je?d.jsx(qs,{className:"w-6 h-6 text-neon-green"}):X?d.jsx(vn,{className:"w-6 h-6 text-neon-red animate-pulse"}):Le?d.jsx(Ga,{className:"w-6 h-6 text-neon-yellow"}):d.jsx(Ka,{className:"w-6 h-6 text-neon-cyan"}),d.jsxs("div",{children:[d.jsx("h3",{className:`text-xl font-semibold ${je?"text-neon-green":"text-white"}`,children:ne.name}),d.jsx("p",{className:"text-sm text-gray-500",children:ne.category})]})]}),d.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm flex-wrap",children:[d.jsxs("span",{className:"flex items-center gap-1 text-gray-400",children:[d.jsx(Ir,{className:"w-4 h-4"}),Pe?$e(Pe,"EEEE, MMM d @ HH:mm"):"Date TBD"]}),d.jsxs("span",{className:"px-2 py-1 rounded bg-dark-600 text-gray-300",children:[ne.cfu," CFU"]}),ne.is_scholarship_critical&&d.jsx("span",{className:"px-2 py-1 rounded bg-neon-purple/10 text-neon-purple border border-neon-purple/30 text-xs",children:"SCHOLARSHIP CRITICAL"})]}),X&&!je&&d.jsxs("p",{className:"mt-3 text-sm text-neon-red flex items-center gap-1",children:[d.jsx(vn,{className:"w-4 h-4"}),"Strategic rule deadline passed - decision required"]}),Le&&!X&&!je&&d.jsxs("p",{className:"mt-3 text-sm text-neon-yellow flex items-center gap-1",children:[d.jsx(Ga,{className:"w-4 h-4"}),"Has pending strategic rules"]}),ne.strategy_notes&&!X&&!Le&&d.jsx("p",{className:"mt-3 text-sm text-gray-400",children:ne.strategy_notes})]}),d.jsxs("div",{className:"text-right flex flex-col items-end gap-3 min-w-[120px]",children:[!je&&le!==null&&le>0&&d.jsxs("div",{className:`text-center ${le<=7?"text-neon-red":le<=14?"text-neon-yellow":"text-gray-400"}`,children:[d.jsx("div",{className:"text-2xl font-bold",children:le}),d.jsx("div",{className:"text-xs",children:"days left"})]}),!Pe&&!je&&d.jsxs("div",{className:"text-center text-gray-500",children:[d.jsx(Kn,{className:"w-6 h-6 mx-auto"}),d.jsx("div",{className:"text-xs mt-1",children:"TBD"})]}),d.jsx("div",{className:"status-selector",children:Vb.map(ke=>d.jsxs("button",{onClick:()=>Z(ne.id,ke),className:`status-btn border transition-all ${ne.status===ke?K(ke):"bg-dark-700 text-gray-500 border-dark-600 hover:border-gray-500"}`,children:[ke==="passed"&&d.jsx(qs,{className:"w-3 h-3"}),ke==="booked"&&d.jsx(Kn,{className:"w-3 h-3"}),d.jsx("span",{className:"hidden xs:inline",children:re(ke)}),d.jsx("span",{className:"xs:hidden",children:ke.slice(0,4)})]},ke))})]})]})]},ne.id)})})]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[Vb.filter(ne=>ne!=="study_plan").map(ne=>d.jsxs("div",{className:"card-cyber p-4 text-center",children:[d.jsx("div",{className:`text-3xl font-bold ${ne==="passed"?"text-neon-green":ne==="booked"?"text-neon-cyan":ne==="planned"?"text-neon-yellow":ne==="enrolled"?"text-neon-purple":"text-neon-red"}`,children:t.filter(Pe=>Pe.status===ne).length}),d.jsx("div",{className:"text-sm text-gray-500 capitalize",children:re(ne)})]},ne)),d.jsxs("div",{className:"card-cyber p-4 text-center",children:[d.jsx("div",{className:"text-3xl font-bold text-white",children:t.reduce((ne,Pe)=>ne+(Pe.status==="passed"?Pe.cfu:0),0)}),d.jsx("div",{className:"text-sm text-gray-500",children:"Total CFU"})]})]}),S&&d.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-2 sm:p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"card-cyber p-0 w-full max-w-[calc(100vw-1rem)] sm:max-w-lg max-h-[calc(100vh-1rem)] sm:max-h-[85vh] overflow-hidden flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 pb-4 border-b border-dark-600",children:[d.jsx("h3",{className:"text-xl font-bold text-white",children:j?"Edit Exam":"Add New Exam"}),d.jsx("button",{onClick:()=>A(!1),className:"text-gray-500 hover:text-white",children:d.jsx(va,{className:"w-6 h-6"})})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6 pt-4",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Exam Name *"}),d.jsx("input",{type:"text",value:D.name,onChange:ne=>q({...D,name:ne.target.value}),placeholder:"e.g., Machine Learning",className:"w-full px-4 py-2 rounded-lg bg-dark-700 border border-dark-600 text-white placeholder-gray-500 focus:border-neon-cyan focus:outline-none"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"CFU"}),d.jsx("input",{type:"number",min:"1",max:"24",value:D.cfu,onChange:ne=>q({...D,cfu:parseInt(ne.target.value)||1}),className:"w-full px-4 py-2 rounded-lg bg-dark-700 border border-dark-600 text-white focus:border-neon-cyan focus:outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Category"}),d.jsx("select",{value:D.category,onChange:ne=>q({...D,category:ne.target.value}),className:"w-full px-4 py-2 rounded-lg bg-dark-700 border border-dark-600 text-white focus:border-neon-cyan focus:outline-none",children:vQ.map(ne=>d.jsx("option",{value:ne,children:ne},ne))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Status"}),d.jsx("select",{value:D.status,onChange:ne=>q({...D,status:ne.target.value}),className:"w-full px-4 py-2 rounded-lg bg-dark-700 border border-dark-600 text-white focus:border-neon-cyan focus:outline-none",children:Vb.map(ne=>d.jsx("option",{value:ne,children:re(ne)},ne))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Exam Date (optional)"}),d.jsx("input",{type:"datetime-local",value:D.exam_date,onChange:ne=>q({...D,exam_date:ne.target.value}),className:"w-full px-4 py-2 rounded-lg bg-dark-700 border border-dark-600 text-white focus:border-neon-cyan focus:outline-none"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty if date is TBD"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Strategy Notes"}),d.jsx("textarea",{value:D.strategy_notes,onChange:ne=>q({...D,strategy_notes:ne.target.value}),placeholder:"e.g., Focus on chapters 1-5, project deadline...",rows:2,className:"w-full px-4 py-2 rounded-lg bg-dark-700 border border-dark-600 text-white placeholder-gray-500 focus:border-neon-cyan focus:outline-none resize-none"})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("input",{type:"checkbox",id:"scholarship_critical",checked:D.is_scholarship_critical,onChange:ne=>q({...D,is_scholarship_critical:ne.target.checked}),className:"w-4 h-4 rounded bg-dark-700 border-dark-600 text-neon-cyan focus:ring-neon-cyan"}),d.jsx("label",{htmlFor:"scholarship_critical",className:"text-gray-400 select-none cursor-pointer",children:"Scholarship Critical (counts toward 20 CFU goal)"})]})]})}),d.jsxs("div",{className:"flex gap-3 p-4 sm:p-6 pt-4 border-t border-dark-600 bg-dark-800",children:[d.jsx("button",{onClick:()=>A(!1),className:"flex-1 px-4 py-2 rounded-lg bg-dark-700 text-gray-400 hover:bg-dark-600",children:"Cancel"}),d.jsx("button",{onClick:Te,disabled:P,className:"flex-1 btn-cyber py-2 flex items-center justify-center gap-2 disabled:opacity-50",children:P?d.jsxs(d.Fragment,{children:[d.jsx(Hs,{className:"w-4 h-4 animate-spin"})," Saving..."]}):d.jsxs(d.Fragment,{children:[j?d.jsx(es,{className:"w-4 h-4"}):d.jsx(or,{className:"w-4 h-4"}),j?"Save Changes":"Add Exam"]})})]})]})}),d.jsx(El,{isOpen:R,title:"Delete Exam",message:"Are you sure you want to delete this exam? This action cannot be undone.",confirmText:"Delete",isDangerous:!0,onConfirm:z,onCancel:()=>F(!1)})]})}const Ou={valid:{color:"text-neon-green",bg:"bg-neon-green/10",border:"border-neon-green/30",icon:qs,label:"VALID"},expiring_soon:{color:"text-neon-yellow",bg:"bg-neon-yellow/10",border:"border-neon-yellow/30",icon:Kn,label:"EXPIRING SOON"},expired:{color:"text-neon-red",bg:"bg-neon-red/10",border:"border-neon-red/30",icon:Z1,label:"EXPIRED"},pending:{color:"text-neon-cyan",bg:"bg-neon-cyan/10",border:"border-neon-cyan/30",icon:Kn,label:"PENDING"},unknown:{color:"text-neon-red",bg:"bg-neon-red/10",border:"border-neon-red/30",icon:hX,label:"UNKNOWN"}},bQ=[{value:"visa",label:"Visa / Permit"},{value:"tax",label:"Tax Document"},{value:"university",label:"University"},{value:"insurance",label:"Insurance"},{value:"other",label:"Other"}];function wQ(){const{bureaucracy:t,profile:e,updateBureaucracy:n,addBureaucracy:r,deleteBureaucracy:a}=Qa(),{showToast:s}=Za(),[l,u]=_.useState(!1),[f,h]=_.useState(null),[p,g]=_.useState(!1),[x,w]=_.useState(!1),[E,S]=_.useState(null),[A,j]=_.useState(!1),I=_.useMemo(()=>t.filter(Y=>{if(!Y.expiry_date)return!1;const J=Nn(new Date(Y.expiry_date),new Date);return J>=0&&J<=30}).sort((Y,J)=>{const he=Nn(new Date(Y.expiry_date),new Date),Te=Nn(new Date(J.expiry_date),new Date);return he-Te}),[t]),P=_.useMemo(()=>t.filter(Y=>Y.expiry_date?Nn(new Date(Y.expiry_date),new Date)<0:!1),[t]);_.useEffect(()=>{const Y=I.length>0||P.length>0,he=localStorage.getItem("mex_bureaucracy_alert_dismissed"),Te=$e(new Date,"yyyy-MM-dd");Y&&he!==Te&&j(!0)},[I.length,P.length]);const H=()=>{localStorage.setItem("mex_bureaucracy_alert_dismissed",$e(new Date,"yyyy-MM-dd")),j(!1)},[R,F]=_.useState({name:"",type:"other",status:"pending",notes:"",is_critical:!1}),k=t.filter(Y=>Y.is_critical),O=t.filter(Y=>!Y.is_critical),D=Y=>Ou[Y]||Ou.unknown,q=Y=>Y?Nn(new Date(Y),new Date):null,M=async(Y,J)=>{try{await n(Y,{status:J})}catch{s("Failed to update status","error")}},U=()=>{F({name:"",type:"other",status:"pending",notes:"",is_critical:!1,issue_date:"",expiry_date:""}),h(null)},V=async Y=>{Y.preventDefault(),g(!0);try{f?(await n(f.id,R),s("Document updated","success")):(await r(R),s("Document added","success")),u(!1),U()}catch{s("Failed to save document","error")}finally{g(!1)}},we=Y=>{S(Y),w(!0)},Se=async()=>{if(E)try{await a(E),s("Document deleted","success"),w(!1),S(null)}catch{s("Failed to delete document","error"),w(!1)}},Z=Y=>{h(Y),F({...Y}),u(!0)};return d.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[d.jsx(ad,{className:"w-8 h-8 text-neon-purple"}),"Bureaucracy"]}),d.jsx("p",{className:"text-gray-500 mt-1",children:"Legal Status  Permits  Deadlines"})]}),d.jsxs("button",{onClick:()=>{U(),u(!0)},className:"btn-cyber flex items-center gap-2",children:[d.jsx(or,{className:"w-4 h-4"})," Add Document"]})]}),e?.visa_expiry.includes("WARNING")&&d.jsx("div",{className:"card-cyber p-4 border-neon-red neon-border-red bg-neon-red/5",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(vn,{className:"w-8 h-8 text-neon-red animate-pulse"}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-neon-red",children:"VISA STATUS: CRITICAL"}),d.jsx("p",{className:"text-gray-400",children:"Your residence permit expiry date is unknown. This must be resolved immediately."})]})]})}),d.jsxs("div",{className:"card-cyber p-6",children:[d.jsxs("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[d.jsx(Z1,{className:"w-5 h-5 text-neon-red"}),"Critical Documents"]}),d.jsx("div",{className:"space-y-4",children:k.length===0?d.jsx("p",{className:"text-gray-500",children:"No critical documents tracked"}):k.map(Y=>{const J=D(Y.status),he=J.icon,Te=q(Y.expiry_date);return d.jsx("div",{className:`p-4 rounded-lg border ${J.border} ${J.bg} group relative`,children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx(he,{className:`w-6 h-6 ${J.color} mt-1`}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[Y.name,d.jsx("button",{onClick:()=>Z(Y),className:"text-gray-500 hover:text-white transition-colors opacity-0 group-hover:opacity-100",children:d.jsx(Qr,{className:"w-3 h-3"})})]}),d.jsx("p",{className:"text-sm text-gray-400 capitalize",children:Y.type.replace("_"," ")}),d.jsx("p",{className:"text-sm text-gray-500 mt-2",children:Y.notes}),Y.expiry_date&&d.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm",children:[d.jsx(Ir,{className:"w-4 h-4 text-gray-500"}),d.jsxs("span",{className:"text-gray-400",children:["Expires: ",$e(new Date(Y.expiry_date),"MMM d, yyyy")]}),Te!==null&&Te>0&&d.jsxs("span",{className:`font-medium ${Te<=30?"text-neon-red":Te<=90?"text-neon-yellow":"text-gray-400"}`,children:["(",Te," days left)"]})]})]})]}),d.jsxs("div",{className:"flex flex-col items-end gap-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:`px-3 py-1 rounded text-xs font-medium ${J.bg} ${J.color} border ${J.border}`,children:J.label}),d.jsx("button",{onClick:()=>we(Y.id),className:"text-gray-600 hover:text-neon-red transition-colors p-1",title:"Delete document",children:d.jsx(vi,{className:"w-4 h-4"})})]}),d.jsx("select",{value:Y.status,onChange:$=>M(Y.id,$.target.value),className:"bg-dark-700 border border-dark-600 rounded px-2 py-1 text-xs text-gray-400 mt-2",children:Object.keys(Ou).map($=>d.jsx("option",{value:$,children:Ou[$].label},$))})]})]})},Y.id)})})]}),d.jsxs("div",{className:"card-cyber p-6",children:[d.jsxs("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[d.jsx(iS,{className:"w-5 h-5 text-neon-cyan"}),"Other Documents"]}),d.jsx("div",{className:"space-y-3",children:O.length===0?d.jsx("p",{className:"text-gray-500",children:"No other documents tracked"}):O.map(Y=>{const J=D(Y.status),he=J.icon;return d.jsxs("div",{className:"p-3 rounded-lg bg-dark-700 border border-dark-600 flex items-center justify-between group",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(he,{className:`w-5 h-5 ${J.color}`}),d.jsxs("div",{children:[d.jsxs("span",{className:"text-white font-medium flex items-center gap-2",children:[Y.name,d.jsx("button",{onClick:()=>Z(Y),className:"text-gray-500 hover:text-white transition-colors opacity-0 group-hover:opacity-100",children:d.jsx(Qr,{className:"w-3 h-3"})})]}),d.jsxs("span",{className:"text-gray-500 text-sm ml-2",children:["(",Y.type.replace("_"," "),")"]})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:`px-2 py-1 rounded text-xs ${J.bg} ${J.color}`,children:J.label}),d.jsx("button",{onClick:()=>we(Y.id),className:"text-gray-600 hover:text-neon-red transition-colors p-1 opacity-0 group-hover:opacity-100",children:d.jsx(vi,{className:"w-4 h-4"})})]})]},Y.id)})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"card-cyber p-4",children:[d.jsx("h3",{className:"text-sm text-gray-400 uppercase mb-3",children:"Identity"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-500",children:"Codice Fiscale"}),d.jsx("span",{className:"text-neon-cyan font-mono",children:e?.cf})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-500",children:"Student ID"}),d.jsx("span",{className:"text-white font-mono",children:e?.unipd_id})]})]})]}),d.jsxs("div",{className:"card-cyber p-4",children:[d.jsx("h3",{className:"text-sm text-gray-400 uppercase mb-3",children:"Status Summary"}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"w-3 h-3 rounded-full bg-neon-green"}),d.jsxs("span",{className:"text-gray-400",children:[t.filter(Y=>Y.status==="valid").length," Valid"]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"w-3 h-3 rounded-full bg-neon-yellow"}),d.jsxs("span",{className:"text-gray-400",children:[t.filter(Y=>Y.status==="expiring_soon"||Y.status==="pending").length," Pending"]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"w-3 h-3 rounded-full bg-neon-red"}),d.jsxs("span",{className:"text-gray-400",children:[t.filter(Y=>Y.status==="expired"||Y.status==="unknown").length," Critical"]})]})]})]})]}),l&&d.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-dark-800 border border-dark-600 rounded-xl w-full max-w-lg overflow-hidden shadow-2xl animate-in fade-in zoom-in duration-200",children:[d.jsxs("div",{className:"p-6 border-b border-dark-600 flex justify-between items-center",children:[d.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[f?d.jsx(Qr,{className:"w-5 h-5 text-neon-cyan"}):d.jsx(or,{className:"w-5 h-5 text-neon-green"}),f?"Edit Document":"Add Document"]}),d.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-white",children:d.jsx(va,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:V,className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Document Name"}),d.jsx("input",{type:"text",required:!0,value:R.name,onChange:Y=>F({...R,name:Y.target.value}),className:"w-full bg-dark-900 border border-dark-600 rounded p-2 text-white focus:border-neon-purple focus:outline-none",placeholder:"e.g. Residence Permit"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Type"}),d.jsx("select",{value:R.type,onChange:Y=>F({...R,type:Y.target.value}),className:"w-full bg-dark-900 border border-dark-600 rounded p-2 text-white focus:border-neon-purple focus:outline-none",children:bQ.map(Y=>d.jsx("option",{value:Y.value,children:Y.label},Y.value))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Status"}),d.jsx("select",{value:R.status,onChange:Y=>F({...R,status:Y.target.value}),className:"w-full bg-dark-900 border border-dark-600 rounded p-2 text-white focus:border-neon-purple focus:outline-none",children:Object.keys(Ou).map(Y=>d.jsx("option",{value:Y,children:Ou[Y].label},Y))})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Issue Date"}),d.jsx("input",{type:"date",value:R.issue_date||"",onChange:Y=>F({...R,issue_date:Y.target.value}),className:"w-full bg-dark-900 border border-dark-600 rounded p-2 text-white focus:border-neon-purple focus:outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Expiry Date"}),d.jsx("input",{type:"date",value:R.expiry_date||"",onChange:Y=>F({...R,expiry_date:Y.target.value}),className:"w-full bg-dark-900 border border-dark-600 rounded p-2 text-white focus:border-neon-purple focus:outline-none"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Notes"}),d.jsx("textarea",{value:R.notes||"",onChange:Y=>F({...R,notes:Y.target.value}),className:"w-full bg-dark-900 border border-dark-600 rounded p-2 text-white focus:border-neon-purple focus:outline-none h-24 resize-none",placeholder:"Add details, protocol numbers, or action items..."})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",id:"is_critical",checked:R.is_critical||!1,onChange:Y=>F({...R,is_critical:Y.target.checked}),className:"w-4 h-4 rounded border-dark-600 bg-dark-900 text-neon-purple focus:ring-neon-purple"}),d.jsx("label",{htmlFor:"is_critical",className:"text-sm font-medium text-white cursor-pointer select-none",children:"Mark as Critical Document"})]}),d.jsxs("div",{className:"pt-4 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:p,className:"btn-cyber flex items-center gap-2 disabled:opacity-50",children:p?d.jsxs(d.Fragment,{children:[d.jsx(Hs,{className:"w-4 h-4 animate-spin"})," Saving..."]}):d.jsxs(d.Fragment,{children:[d.jsx(es,{className:"w-4 h-4"})," Save Document"]})})]})]})]})}),A&&(I.length>0||P.length>0)&&d.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"card-cyber p-6 max-w-lg w-full border-neon-red/50 bg-dark-800",children:[d.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[d.jsx("div",{className:"p-3 rounded-full bg-neon-red/20",children:d.jsx(vn,{className:"w-8 h-8 text-neon-red animate-pulse"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-neon-red",children:" Document Alert"}),d.jsx("p",{className:"text-gray-400 mt-1",children:"Critical documents require your attention"})]})]}),P.length>0&&d.jsxs("div",{className:"mb-4",children:[d.jsxs("h3",{className:"text-sm font-semibold text-neon-red mb-2 flex items-center gap-2",children:[d.jsx(Z1,{className:"w-4 h-4"}),"EXPIRED (",P.length,")"]}),d.jsx("div",{className:"space-y-2",children:P.map(Y=>{const J=Math.abs(Nn(new Date(Y.expiry_date),new Date));return d.jsx("div",{className:"p-3 rounded-lg bg-neon-red/10 border border-neon-red/30",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"font-medium text-white",children:Y.name}),d.jsxs("span",{className:"text-neon-red text-sm font-bold",children:["Expired ",J,"d ago"]})]})},Y.id)})})]}),I.length>0&&d.jsxs("div",{className:"mb-4",children:[d.jsxs("h3",{className:"text-sm font-semibold text-neon-yellow mb-2 flex items-center gap-2",children:[d.jsx(Kn,{className:"w-4 h-4"}),"EXPIRING WITHIN 30 DAYS (",I.length,")"]}),d.jsx("div",{className:"space-y-2",children:I.map(Y=>{const J=Nn(new Date(Y.expiry_date),new Date),he=J<=7?"text-neon-red":J<=14?"text-neon-yellow":"text-neon-cyan";return d.jsxs("div",{className:"p-3 rounded-lg bg-neon-yellow/10 border border-neon-yellow/30",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"font-medium text-white",children:Y.name}),d.jsx("span",{className:`${he} text-sm font-bold`,children:J===0?"Expires TODAY!":`${J}d left`})]}),d.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Expires: ",$e(new Date(Y.expiry_date),"MMM d, yyyy")]})]},Y.id)})})]}),d.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t border-dark-600",children:[d.jsx("button",{onClick:H,className:"px-4 py-2 text-gray-400 hover:text-white transition-colors text-sm",children:"Dismiss for today"}),d.jsxs("button",{onClick:()=>j(!1),className:"btn-cyber px-4 py-2 flex items-center gap-2",children:[d.jsx(qs,{className:"w-4 h-4"}),"I'll handle it"]})]})]})}),d.jsx(El,{isOpen:x,title:"Delete Document",message:"Are you sure you want to delete this document? This action cannot be undone.",confirmText:"Delete",isDangerous:!0,onConfirm:Se,onCancel:()=>w(!1)})]})}function Z3({onSelect:t,currentDate:e}){const n=$e(new Date,"yyyy-MM-dd"),r=$e(Sh(new Date,1),"yyyy-MM-dd"),a=$e(_h(new Date,1),"yyyy-MM-dd"),s=[{label:"Yesterday",value:r},{label:"Today",value:n},{label:"Tomorrow",value:a}];return d.jsx("div",{className:"flex gap-2 mt-2",children:s.map(l=>d.jsx("button",{type:"button",onClick:()=>t(l.value),className:`text-xs px-3 py-1 rounded-full border transition-all ${e===l.value?"bg-neon-cyan/20 border-neon-cyan/50 text-neon-cyan":"bg-dark-700 border-dark-600 text-gray-400 hover:border-gray-500 hover:text-white"}`,children:l.label},l.value))})}const Ik={dumbbell:z3,brain:V3,code:Nh,languages:F3,moon:MX,music:K3,book:L3,gamepad2:$3,heart:B3,target:Zr,zap:Ga,coffee:U3,pencil:G3,activity:Ls,flame:Ah},ui={"neon-green":{bg:"bg-neon-green/20",text:"text-neon-green",border:"border-neon-green/30"},"neon-yellow":{bg:"bg-neon-yellow/20",text:"text-neon-yellow",border:"border-neon-yellow/30"},"neon-cyan":{bg:"bg-neon-cyan/20",text:"text-neon-cyan",border:"border-neon-cyan/30"},"neon-purple":{bg:"bg-neon-purple/20",text:"text-neon-purple",border:"border-neon-purple/30"},"neon-red":{bg:"bg-neon-red/20",text:"text-neon-red",border:"border-neon-red/30"}},_Q=["code","languages","music","book","brain","dumbbell","heart","target","zap","coffee","pencil","gamepad2"],EQ=["neon-green","neon-yellow","neon-cyan","neon-purple","neon-red"];function SQ(){const{habits:t,updateHabit:e,skillDefinitions:n,habitDefinitions:r,deleteSkillDefinition:a,addHabitDefinition:s,updateHabitDefinition:l,deleteHabitDefinition:u}=Qa(),{showToast:f}=Za(),[h,p]=_.useState($e(new Date,"yyyy-MM-dd")),[g,x]=_.useState(!1),[w,E]=_.useState(!1),[S,A]=_.useState(!1),[j,I]=_.useState(null),[P,H]=_.useState(null),[R,F]=_.useState(null),[k,O]=_.useState({name:"",icon:"dumbbell",color:"neon-green",trackingType:"boolean",target:1,maxValue:1}),D=_.useMemo(()=>{const z=t.find(ge=>ge.date===h);if(z)return z;const K={},re={};return r.forEach(ge=>{K[ge.id]=ge.trackingType==="boolean"?!1:0}),n.forEach(ge=>{re[ge.id]=ge.trackingOptions?.[0]||"0 mins"}),{date:h,habits:K,skills:re}},[t,h,r,n]),q=qG({start:Sh(new Date,29),end:new Date}),M=async(z,K)=>{try{await e(h,{habits:{[z]:K}})}catch{f("Failed to save","error")}},U=async(z,K)=>{try{await e(h,{skills:{[z]:K}})}catch{f("Failed to save","error")}},V=()=>{F(null),O({name:"",icon:"dumbbell",color:"neon-green",trackingType:"boolean",target:1,maxValue:1}),x(!0)},we=z=>{F(z),O({name:z.name,icon:z.icon,color:z.color,trackingType:z.trackingType,target:z.target||1,maxValue:z.maxValue||1}),x(!0)},Se=async()=>{if(k.name.trim()){E(!0);try{const z={name:k.name,icon:k.icon,color:k.color,trackingType:k.trackingType,target:k.trackingType!=="boolean"?k.target:void 0,maxValue:k.trackingType!=="boolean"?k.maxValue:void 0};R?(await l(R.id,z),f("Habit updated","success")):(await s(z),f("Habit added","success")),x(!1)}catch{f("Failed to save habit","error")}finally{E(!1)}}},Z=(z,K)=>{I(z),H(K),A(!0)},Y=async()=>{if(j&&P)try{P==="habit"?(await u(j),f("Habit deleted","success")):(await a(j),f("Skill deleted","success")),A(!1),I(null),H(null)}catch{f(`Failed to delete ${P}`,"error"),A(!1)}},J=({name:z,className:K})=>{const re=Ik[z]||Ls;return d.jsx(re,{className:K})},he=z=>{const K=_h(new Date(h),z);p($e(K,"yyyy-MM-dd"))},Te=(z,K)=>{const re=t.find(Pe=>Pe.date===z);if(!re)return"bg-dark-700";const ge=re.skills[K.id]||"0 mins",Ee=K.trackingOptions||[],ne=Ee.indexOf(ge);return ne<=0?"bg-dark-700":ne>=Ee.length-1?`bg-${K.color}`:ne>=Ee.length/2?`bg-${K.color}/70`:`bg-${K.color}/40`},$=z=>{let K=0;const re=$e(new Date,"yyyy-MM-dd");for(let ge=0;ge<30;ge++){const Ee=$e(Sh(new Date,ge),"yyyy-MM-dd"),ne=t.find(le=>le.date===Ee);if(!ne&&Ee===re)continue;if(!ne)break;const Pe=ne.habits[z.id];if(z.trackingType==="boolean"){if(!Pe)break}else if((typeof Pe=="number"?Pe:0)<(z.target||1))break;K++}return K};return d.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-6",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[d.jsx(Ls,{className:"w-8 h-8 text-neon-purple"}),"Protocol"]}),d.jsx("p",{className:"text-gray-500 mt-1",children:"Daily Habit & Skill Tracking"})]}),d.jsxs("div",{className:"flex flex-col items-end gap-2",children:[d.jsxs("div",{className:"flex items-center gap-2 bg-dark-700 p-1 rounded-lg border border-dark-600",children:[d.jsx("button",{onClick:()=>he(-1),className:"p-1 hover:text-white text-gray-400",children:d.jsx($W,{className:"w-5 h-5"})}),d.jsx("input",{type:"date",value:h,onChange:z=>p(z.target.value),className:"bg-transparent text-white text-center font-mono border-none focus:ring-0 w-32"}),d.jsx("button",{onClick:()=>he(1),disabled:KY(_h(new Date(h),1)),className:"p-1 hover:text-white text-gray-400 disabled:opacity-30",children:d.jsx(nh,{className:"w-5 h-5"})})]}),d.jsx(Z3,{onSelect:p,currentDate:h})]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:r.slice(0,3).map(z=>d.jsxs("div",{className:"card-cyber p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm mb-2",children:[d.jsx(Ah,{className:`w-4 h-4 ${ui[z.color]?.text||"text-neon-green"}`}),z.name.toUpperCase()," STREAK"]}),d.jsx("div",{className:`text-4xl font-bold ${ui[z.color]?.text||"text-neon-green"}`,children:$(z)}),d.jsx("div",{className:"text-xs text-gray-500",children:z.trackingType==="boolean"?"consecutive days":`days with ${z.target}${z.trackingType==="hours"?"h+":"+"}`})]},z.id))}),d.jsxs("div",{className:"card-cyber p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[d.jsx(Ir,{className:"w-5 h-5"}),h===$e(new Date,"yyyy-MM-dd")?"Today's Habits":`Habits for ${$e(new Date(h),"MMM d")}`]}),d.jsxs("button",{onClick:V,className:"btn-cyber px-3 py-1.5 text-sm flex items-center gap-2",children:[d.jsx(or,{className:"w-4 h-4"}),"Add Habit"]})]}),r.length===0?d.jsx("p",{className:"text-gray-500 text-center py-8",children:'No habits defined. Click "Add Habit" to create your first habit!'}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map(z=>{const K=ui[z.color]||ui["neon-green"],re=D.habits[z.id];return d.jsxs("div",{className:"p-4 rounded-lg bg-dark-700 border border-dark-600 group relative hover:border-dark-500",children:[d.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-all",children:[d.jsx("button",{onClick:()=>we(z),className:"p-1.5 rounded bg-dark-600 hover:bg-neon-cyan/20 text-gray-500 hover:text-neon-cyan",children:d.jsx(Qr,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>Z(z.id,"habit"),className:"p-1.5 rounded bg-dark-600 hover:bg-neon-red/20 text-gray-500 hover:text-neon-red",children:d.jsx(vi,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"flex items-center justify-between mb-3 pr-16",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(J,{name:z.icon,className:`w-5 h-5 ${K.text}`}),d.jsx("span",{className:"text-white font-medium",children:z.name})]}),z.trackingType==="boolean"?d.jsx("button",{onClick:()=>M(z.id,!re),className:`p-2 rounded-lg transition-all ${re?`${K.bg} ${K.text}`:"bg-dark-600 text-gray-500"}`,children:re?d.jsx(qs,{className:"w-6 h-6"}):d.jsx(YW,{className:"w-6 h-6"})}):d.jsxs("span",{className:`text-lg font-bold ${typeof re=="number"&&re>=(z.target||1)?K.text:"text-gray-400"}`,children:[typeof re=="number"?re:0,z.trackingType==="hours"?"h":""]})]}),z.trackingType!=="boolean"&&d.jsx("div",{className:"value-selector",children:Array.from({length:(z.maxValue||8)+1},(ge,Ee)=>Ee).map(ge=>d.jsx("button",{onClick:()=>M(z.id,ge),className:`rounded text-xs transition-all ${re===ge?`${K.bg} ${K.text} ${K.border} border`:"bg-dark-600 text-gray-400 hover:bg-dark-500"}`,children:ge},ge))})]},z.id)})})]}),d.jsxs("div",{className:"card-cyber p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[d.jsx(Zr,{className:"w-5 h-5"}),"Skills Practice"]}),d.jsxs("a",{href:"#/skills",className:"btn-cyber px-3 py-1.5 text-sm flex items-center gap-2",children:[d.jsx(or,{className:"w-4 h-4"}),"Manage in Skill Mastery"]})]}),n.filter(z=>z.is_tracked!==!1).length===0?d.jsxs("p",{className:"text-gray-500 text-center py-8",children:["No skills being tracked. Go to ",d.jsx("a",{href:"#/skills",className:"text-neon-cyan hover:underline",children:"Skill Mastery"})," to add skills and enable tracking."]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.filter(z=>z.is_tracked!==!1).map(z=>{const K=ui[z.color]||ui["neon-yellow"],re=D.skills[z.id]||z.trackingOptions?.[0]||"0 mins";return d.jsxs("div",{className:"p-4 rounded-lg bg-dark-700 border border-dark-600 hover:border-dark-500",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(J,{name:z.icon,className:`w-5 h-5 ${K.text}`}),d.jsx("span",{className:"text-white font-medium",children:z.name})]}),d.jsxs("span",{className:"text-xs text-gray-500",children:["Target: ",z.targetPerDay]})]}),d.jsx("div",{className:"flex gap-1 flex-wrap",children:(z.trackingOptions||["0 mins","15 mins","30 mins","1 hour","2 hours"]).map(ge=>d.jsx("button",{onClick:()=>U(z.id,ge),className:`px-2 py-1.5 rounded text-xs transition-all ${re===ge?`${K.bg} ${K.text} ${K.border} border`:"bg-dark-600 text-gray-400 hover:bg-dark-500"}`,children:ge},ge))})]},z.id)})})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.slice(0,4).map(z=>{const K=ui[z.color]||ui["neon-green"];return d.jsxs("div",{className:"card-cyber p-6",children:[d.jsxs("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[d.jsx(J,{name:z.icon,className:`w-5 h-5 ${K.text}`}),z.name," (30 days)"]}),d.jsx("div",{className:"heatmap-grid",children:q.map(re=>{const ge=$e(re,"yyyy-MM-dd"),Ee=t.find(le=>le.date===ge),ne=Ee?.habits[z.id];let Pe="bg-dark-700";if(Ee)if(z.trackingType==="boolean")Pe=ne?"bg-neon-green":"bg-dark-700";else{const le=typeof ne=="number"?ne:0,je=z.target||4;le>=je?Pe="bg-neon-green":le>=je/2?Pe="bg-neon-yellow":le>0&&(Pe="bg-neon-yellow/50")}return d.jsx("button",{onClick:()=>p(ge),className:`heatmap-cell ${Pe} cursor-pointer hover:ring-2 hover:ring-white/30 transition-all`,title:`${$e(re,"MMM d")}: ${z.trackingType==="boolean"?ne?"Done":"Missed":`${ne||0}${z.trackingType==="hours"?"h":""}`}  Click to edit`},ge)})})]},z.id)})}),n.length>0&&d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:n.map(z=>{const K=ui[z.color]||ui["neon-yellow"];return d.jsxs("div",{className:"card-cyber p-6",children:[d.jsxs("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[d.jsx(J,{name:z.icon,className:`w-5 h-5 ${K.text}`}),z.name," Practice (30 days)"]}),d.jsx("div",{className:"heatmap-grid",children:q.map(re=>{const ge=$e(re,"yyyy-MM-dd"),Ee=t.find(ne=>ne.date===ge)?.skills[z.id]||"0 mins";return d.jsx("button",{onClick:()=>p(ge),className:`heatmap-cell ${Te(ge,z)} cursor-pointer hover:ring-2 hover:ring-white/30 transition-all`,title:`${$e(re,"MMM d")}: ${Ee}  Click to edit`},ge)})}),d.jsxs("div",{className:"flex items-center gap-4 mt-4 text-xs text-gray-500",children:[d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx("span",{className:"w-3 h-3 rounded bg-dark-700"}),"None"]}),d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx("span",{className:`w-3 h-3 rounded bg-${z.color}/40`}),"Some"]}),d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx("span",{className:`w-3 h-3 rounded bg-${z.color}`}),"Target"]})]})]},z.id)})}),g&&d.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-2 sm:p-4",children:d.jsxs("div",{className:"card-cyber p-0 w-full max-w-[calc(100vw-1rem)] sm:max-w-md max-h-[calc(100vh-1rem)] sm:max-h-[85vh] overflow-hidden flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 pb-4 border-b border-dark-600",children:[d.jsx("h3",{className:"text-xl font-bold text-white",children:R?"Edit Habit":"Add New Habit"}),d.jsx("button",{onClick:()=>x(!1),className:"text-gray-500 hover:text-white",children:d.jsx(va,{className:"w-6 h-6"})})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6 pt-4",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Habit Name"}),d.jsx("input",{type:"text",value:k.name,onChange:z=>O({...k,name:z.target.value}),placeholder:"e.g., Meditation, Reading, Walk",className:"w-full px-4 py-2 rounded-lg bg-dark-700 border border-dark-600 text-white placeholder-gray-500 focus:border-neon-cyan focus:outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Tracking Type"}),d.jsx("div",{className:"flex gap-2",children:["boolean","hours","count"].map(z=>d.jsx("button",{onClick:()=>O({...k,trackingType:z}),className:`flex-1 py-2 rounded-lg transition-all ${k.trackingType===z?"bg-neon-cyan/20 text-neon-cyan border border-neon-cyan/30":"bg-dark-700 text-gray-400 hover:bg-dark-600"}`,children:z==="boolean"?"Yes/No":z==="hours"?"Hours":"Count"},z))})]}),k.trackingType!=="boolean"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Daily Target"}),d.jsx("input",{type:"number",min:"1",max:"24",value:k.target,onChange:z=>O({...k,target:parseInt(z.target.value)||1}),className:"w-full px-4 py-2 rounded-lg bg-dark-700 border border-dark-600 text-white focus:border-neon-cyan focus:outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Max Value"}),d.jsx("input",{type:"number",min:"1",max:"24",value:k.maxValue,onChange:z=>O({...k,maxValue:parseInt(z.target.value)||1}),className:"w-full px-4 py-2 rounded-lg bg-dark-700 border border-dark-600 text-white focus:border-neon-cyan focus:outline-none"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Icon"}),d.jsx("div",{className:"flex gap-2 flex-wrap",children:_Q.map(z=>{const K=Ik[z]||Ls;return d.jsx("button",{onClick:()=>O({...k,icon:z}),className:`p-2 rounded-lg transition-all ${k.icon===z?"bg-neon-cyan/20 text-neon-cyan border border-neon-cyan/30":"bg-dark-700 text-gray-400 hover:bg-dark-600"}`,children:d.jsx(K,{className:"w-5 h-5"})},z)})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Color"}),d.jsx("div",{className:"flex gap-2",children:EQ.map(z=>{const K=ui[z];return d.jsx("button",{onClick:()=>O({...k,color:z}),className:`w-10 h-10 rounded-lg transition-all ${K.bg} ${k.color===z?`ring-2 ring-offset-2 ring-offset-dark-800 ${K.border.replace("border-","ring-")}`:""}`},z)})})]})]})}),d.jsxs("div",{className:"flex gap-3 p-4 sm:p-6 pt-4 border-t border-dark-600 bg-dark-800",children:[d.jsx("button",{onClick:()=>x(!1),className:"flex-1 px-4 py-2 rounded-lg bg-dark-700 text-gray-400 hover:bg-dark-600",children:"Cancel"}),d.jsx("button",{onClick:Se,disabled:w,className:"flex-1 btn-cyber py-2 flex items-center justify-center gap-2 disabled:opacity-50",children:w?d.jsxs(d.Fragment,{children:[d.jsx(Hs,{className:"w-4 h-4 animate-spin"})," Saving..."]}):R?"Save Changes":"Add Habit"})]})]})}),d.jsx(El,{isOpen:S,title:P==="habit"?"Delete Habit":"Delete Skill",message:`Delete this ${P}? History will be preserved but the tracker will be removed.`,confirmText:"Delete",isDangerous:!0,onConfirm:Y,onCancel:()=>A(!1)})]})}function NQ(){const{profile:t,updateProfile:e,exportData:n,importData:r,hardResetData:a}=Qa(),{showToast:s}=Za(),[l,u]=_.useState({}),[f,h]=_.useState(!1),[p,g]=_.useState(!1),[x,w]=_.useState(null);_.useEffect(()=>{t&&u(t)},[t]);const E=H=>{u(R=>({...R,[H.target.name]:H.target.value}))},S=async H=>{H.preventDefault(),h(!0);try{await e(l),s("Profile updated","success")}catch(R){console.error("Error updating profile:",R),s("Failed to update profile","error")}finally{h(!1)}},A=async()=>{if(t)try{const H=await n(),R=new Blob([JSON.stringify(H,null,2)],{type:"application/json"}),F=URL.createObjectURL(R),k=document.createElement("a");k.href=F,k.download=`mex_os_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(k),k.click(),document.body.removeChild(k),s("Data exported successfully","success")}catch(H){console.error("Export failed",H),s("Export failed","error")}},j=()=>{const H=new Blob([JSON.stringify(OG,null,2)],{type:"application/json"}),R=URL.createObjectURL(H),F=document.createElement("a");F.href=R,F.download="mex_os_blueprint_template.json",document.body.appendChild(F),F.click(),document.body.removeChild(F)},I=async H=>{if(H.preventDefault(),!x)return;const R=new FileReader;R.onload=async F=>{try{const k=JSON.parse(F.target?.result);if(!k.profile)throw new Error("Invalid format: missing profile");await r(k),s("Data imported successfully","success"),w(null)}catch(k){console.error("Import failed",k),s("Import failed. Check file format.","error")}},R.readAsText(x)},P=async()=>{try{await a(),g(!1),s("All data wiped successfully","success")}catch(H){console.error("Reset failed",H),s("Failed to reset data","error")}};return t?d.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[d.jsx(Dk,{className:"w-8 h-8 text-neon-purple"}),"Profile Settings"]}),d.jsx("p",{className:"text-gray-500 mt-1",children:"Manage your personal and academic details"})]}),d.jsxs("form",{onSubmit:S,className:"card-cyber p-8 space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center gap-2 border-b border-dark-600 pb-2",children:[d.jsx(Dk,{className:"w-5 h-5 text-neon-cyan"})," Personal Details"]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Full Name"}),d.jsx("input",{type:"text",name:"name",value:l.name||"",onChange:E,className:"w-full bg-dark-700 border border-dark-600 rounded p-2 text-white focus:border-neon-purple focus:outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Codice Fiscale"}),d.jsxs("div",{className:"relative",children:[d.jsx(tX,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-500"}),d.jsx("input",{type:"text",name:"cf",value:l.cf||"",onChange:E,className:"w-full bg-dark-700 border border-dark-600 rounded p-2 pl-9 text-white focus:border-neon-purple focus:outline-none uppercase"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Visa Expiry Date"}),d.jsxs("div",{className:"relative",children:[d.jsx(Ir,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-500"}),d.jsx("input",{type:"date",name:"visa_expiry",value:l.visa_expiry||"",onChange:E,className:"w-full bg-dark-700 border border-dark-600 rounded p-2 pl-9 text-white focus:border-neon-purple focus:outline-none"})]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center gap-2 border-b border-dark-600 pb-2",children:[d.jsx(al,{className:"w-5 h-5 text-neon-cyan"})," Academic Info"]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"University"}),d.jsxs("div",{className:"relative",children:[d.jsx(X1,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-500"}),d.jsx("input",{type:"text",name:"university",value:l.university||"",onChange:E,className:"w-full bg-dark-700 border border-dark-600 rounded p-2 pl-9 text-white focus:border-neon-purple focus:outline-none"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Degree Program"}),d.jsx("input",{type:"text",name:"degree",value:l.degree||"",onChange:E,className:"w-full bg-dark-700 border border-dark-600 rounded p-2 text-white focus:border-neon-purple focus:outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Student ID"}),d.jsx("input",{type:"text",name:"unipd_id",value:l.unipd_id||"",onChange:E,className:"w-full bg-dark-700 border border-dark-600 rounded p-2 text-white focus:border-neon-purple focus:outline-none"})]})]})]}),d.jsx("div",{className:"pt-6 border-t border-dark-600 flex justify-end",children:d.jsxs("button",{type:"submit",disabled:f,className:"btn-cyber px-8 py-3 flex items-center gap-2 font-bold text-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx(es,{className:"w-5 h-5"}),f?"Saving...":"Save Changes"]})})]}),d.jsxs("div",{className:"card-cyber p-8 space-y-6 border-t font-mono",children:[d.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[d.jsx(aX,{className:"w-6 h-6 text-neon-yellow"})," Data Sovereignty"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-300",children:"Backup & Template"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Download your data or a blank template."}),d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsxs("button",{onClick:A,className:"btn-cyber w-full flex items-center justify-center gap-2",children:[d.jsx(oX,{className:"w-4 h-4"})," Export Current Data"]}),d.jsxs("button",{onClick:j,className:"p-2 border border-neon-cyan/50 text-neon-cyan rounded hover:bg-neon-cyan/10 transition-colors w-full flex items-center justify-center gap-2",children:[d.jsx(dX,{className:"w-4 h-4"})," Download Empty Blueprint"]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-300",children:"Import Data"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Overwrite everything with a backup file."}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"file",accept:".json",onChange:H=>w(H.target.files?.[0]||null),className:"block w-full text-sm text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-dark-600 file:text-neon-purple hover:file:bg-dark-500"}),d.jsx("button",{onClick:I,disabled:!x,className:"btn-cyber px-4 disabled:opacity-50",children:d.jsx(oQ,{className:"w-4 h-4"})})]})]})]}),d.jsxs("div",{className:"pt-6 border-t border-dark-600",children:[d.jsxs("h3",{className:"text-lg font-bold text-neon-red flex items-center gap-2 mb-2",children:[d.jsx(vn,{className:"w-5 h-5"})," Danger Zone"]}),d.jsxs("div",{className:"flex items-center justify-between p-4 bg-neon-red/5 border border-neon-red/20 rounded-lg",children:[d.jsx("p",{className:"text-sm text-red-400",children:"Permanently delete all your personal data, transactions, and settings. This cannot be undone."}),d.jsx("button",{onClick:()=>g(!0),className:"px-4 py-2 bg-neon-red/10 border border-neon-red text-neon-red rounded hover:bg-neon-red hover:text-white transition-all whitespace-nowrap font-bold",children:"Delete All Data"})]})]})]}),d.jsx(El,{isOpen:p,title:"FACTORY RESET",message:"CRITICAL WARNING: You are about to wipe your entire digital existence from MEX OS. All profiles, finances, grades, and habits will be permanently destroyed. Are you absolutely sure?",confirmText:"DESTROY DATA",isDangerous:!0,onConfirm:P,onCancel:()=>g(!1)})]}):null}function AQ(){const{finances:t,addFinance:e,updateFinance:n,deleteFinance:r,getPassedCFUs:a}=Qa(),{showToast:s}=Za(),l=a(),u=t.reduce((U,V)=>U+V.amount,0),f=t.filter(U=>U.status==="received").reduce((U,V)=>U+V.amount,0),h=t.filter(U=>U.status==="pending").reduce((U,V)=>U+V.amount,0),[p,g]=_.useState(!1),[x,w]=_.useState(null),[E,S]=_.useState(!1),[A,j]=_.useState(!1),[I,P]=_.useState(null),[H,R]=_.useState({source:"",type:"income",amount:0,status:"locked",unlock_condition:"",expected_date:""}),F=()=>{R({source:"",type:"income",amount:0,status:"locked",unlock_condition:"",expected_date:""}),w(null)},k=()=>{F(),g(!0)},O=U=>{w(U),R(U),g(!0)},D=async U=>{if(U.preventDefault(),!(!H.source||H.amount<=0)){S(!0);try{x?(await n(x.id,H),s("Funding source updated","success")):(await e(H),s("Funding source added","success")),g(!1),F()}catch{s("Failed to save funding source","error")}finally{S(!1)}}},q=U=>{P(U),j(!0)},M=async()=>{if(I)try{await r(I),s("Funding source deleted","success"),j(!1),P(null)}catch{s("Failed to delete funding source","error"),j(!1)}};return d.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[d.jsx(di,{className:"w-8 h-8 text-neon-green"}),"Funding Engine"]}),d.jsx("p",{className:"text-gray-500 mt-1",children:"Scholarships, Jobs & Collaborations"})]}),d.jsxs("button",{onClick:k,className:"btn-cyber flex items-center gap-2",children:[d.jsx(or,{className:"w-4 h-4"})," Add Funding Source"]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"card-cyber p-4 bg-gradient-to-br from-neon-green/10 to-transparent border-neon-green/30",children:[d.jsxs("div",{className:"flex items-center gap-2 text-neon-green mb-2",children:[d.jsx(q3,{className:"w-4 h-4"})," UNLOCKED FUNDING"]}),d.jsxs("div",{className:"text-3xl font-bold text-white",children:["",f.toFixed(0)]}),d.jsx("div",{className:"text-sm text-gray-400 mt-1",children:"Ready to use"})]}),d.jsxs("div",{className:"card-cyber p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 text-neon-yellow mb-2",children:[d.jsx(Kn,{className:"w-4 h-4"})," PENDING"]}),d.jsxs("div",{className:"text-3xl font-bold text-white",children:["",h.toFixed(0)]}),d.jsx("div",{className:"text-sm text-gray-400 mt-1",children:"Awaiting disbursement"})]}),d.jsxs("div",{className:"card-cyber p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 text-neon-purple mb-2",children:[d.jsx(BX,{className:"w-4 h-4"})," TOTAL POTENTIAL"]}),d.jsxs("div",{className:"text-3xl font-bold text-white",children:["",u.toFixed(0)]}),d.jsx("div",{className:"text-sm text-gray-400 mt-1",children:"Total academic year value"})]})]}),d.jsxs("div",{className:"card-cyber p-6",children:[d.jsxs("h2",{className:"text-lg font-semibold text-white mb-6 flex items-center gap-2",children:[d.jsx(_c,{className:"w-5 h-5 text-neon-cyan"}),"Funding Sources & Installments"]}),d.jsxs("div",{className:"space-y-4",children:[t.map(U=>{const V=U.status==="locked",we=U.status==="received";return d.jsxs("div",{className:`p-4 rounded-lg border transition-all group relative ${we?"bg-neon-green/5 border-neon-green/30":V?"bg-dark-700/50 border-dark-600 opacity-70":"bg-dark-700 border-neon-yellow/30"}`,children:[d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx("div",{className:`p-3 rounded-full ${we?"bg-neon-green/10 text-neon-green":V?"bg-gray-800 text-gray-500":"bg-neon-yellow/10 text-neon-yellow"}`,children:we?d.jsx(qs,{className:"w-6 h-6"}):V?d.jsx(H3,{className:"w-6 h-6"}):d.jsx(Kn,{className:"w-6 h-6 animate-pulse"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-white",children:U.source}),d.jsx("p",{className:"text-sm text-gray-400 mt-0.5",children:U.unlock_condition}),d.jsxs("div",{className:"flex items-center gap-3 mt-2 text-sm",children:[d.jsxs("span",{className:"flex items-center gap-1 text-gray-500",children:[d.jsx(Kn,{className:"w-3 h-3"}),"Expected: ",U.expected_date?$e(new Date(U.expected_date),"MMM yyyy"):"TBD"]}),V&&U.unlock_condition.includes("CFU")&&d.jsxs("span",{className:`px-2 py-0.5 rounded text-xs border ${l>=20?"bg-neon-green/10 text-neon-green border-neon-green/30":"bg-dark-600 text-gray-500 border-dark-500"}`,children:[l,"/20 CFU"]})]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:`text-2xl font-bold font-mono ${we?"text-neon-green":"text-gray-300"}`,children:["",U.amount]}),d.jsx("div",{className:`text-xs uppercase font-bold mt-1 ${we?"text-neon-green":V?"text-gray-500":"text-neon-yellow"}`,children:U.status})]})]}),d.jsxs("div",{className:"absolute top-4 right-[120px] opacity-0 group-hover:opacity-100 transition-opacity flex gap-2",children:[d.jsx("button",{onClick:()=>O(U),className:"p-1.5 rounded bg-dark-600 hover:bg-neon-cyan/20 text-gray-400 hover:text-neon-cyan transition-colors",children:d.jsx(Qr,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>q(U.id),className:"p-1.5 rounded bg-dark-600 hover:bg-neon-red/20 text-gray-400 hover:text-neon-red transition-colors",children:d.jsx(vi,{className:"w-4 h-4"})})]})]},U.id)}),t.length===0&&d.jsx("p",{className:"text-center text-gray-500 py-8",children:"No funding sources tracked yet."})]})]}),p&&d.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-dark-800 border border-dark-600 rounded-xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in duration-200",children:[d.jsxs("div",{className:"p-6 border-b border-dark-600 flex justify-between items-center",children:[d.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[x?d.jsx(Qr,{className:"w-5 h-5 text-neon-cyan"}):d.jsx(or,{className:"w-5 h-5 text-neon-green"}),x?"Edit Funding Source":"Add Funding Source"]}),d.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-white",children:d.jsx(va,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:D,className:"p-6 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Source Name"}),d.jsx("input",{type:"text",placeholder:"e.g. Scholarship Installment 1",value:H.source,onChange:U=>R({...H,source:U.target.value}),className:"w-full bg-dark-900 border border-dark-600 rounded p-2 text-white focus:border-neon-purple focus:outline-none",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Amount ()"}),d.jsx("input",{type:"number",placeholder:"0.00",value:H.amount,onChange:U=>R({...H,amount:parseFloat(U.target.value)||0}),className:"w-full bg-dark-900 border border-dark-600 rounded p-2 text-white focus:border-neon-purple focus:outline-none",required:!0})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Status"}),d.jsxs("select",{value:H.status,onChange:U=>R({...H,status:U.target.value}),className:"w-full bg-dark-900 border border-dark-600 rounded p-2 text-white focus:border-neon-purple focus:outline-none",children:[d.jsx("option",{value:"locked",children:"Locked"}),d.jsx("option",{value:"pending",children:"Pending"}),d.jsx("option",{value:"received",children:"Received"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Expected Date"}),d.jsx("input",{type:"date",value:H.expected_date,onChange:U=>R({...H,expected_date:U.target.value}),className:"w-full bg-dark-900 border border-dark-600 rounded p-2 text-white focus:border-neon-purple focus:outline-none"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Unlock Condition / Notes"}),d.jsx("textarea",{placeholder:"e.g. Requires 20 CFUs by Feb 2026",value:H.unlock_condition,onChange:U=>R({...H,unlock_condition:U.target.value}),className:"w-full bg-dark-900 border border-dark-600 rounded p-2 text-white focus:border-neon-purple focus:outline-none h-20 resize-none"})]}),d.jsxs("div",{className:"pt-4 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:()=>g(!1),className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:E,className:"btn-cyber flex items-center gap-2 disabled:opacity-50",children:E?d.jsxs(d.Fragment,{children:[d.jsx(Hs,{className:"w-4 h-4 animate-spin"})," Saving..."]}):d.jsxs(d.Fragment,{children:[d.jsx(es,{className:"w-4 h-4"})," Save"]})})]})]})]})}),d.jsx(El,{isOpen:A,title:"Delete Funding Source",message:"Are you sure you want to delete this funding source? This action cannot be undone.",confirmText:"Delete",isDangerous:!0,onConfirm:M,onCancel:()=>j(!1)})]})}function J3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=J3(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function wt(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=J3(t))&&(r&&(r+=" "),r+=e);return r}var TQ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function sS(t){if(typeof t!="string")return!1;var e=TQ;return e.includes(t)}var jQ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],CQ=new Set(jQ);function e6(t){return typeof t!="string"?!1:CQ.has(t)}function t6(t){return typeof t=="string"&&t.startsWith("data-")}function Ya(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e6(n)||t6(n))&&(e[n]=t[n]);return e}function Ec(t){if(t==null)return null;if(_.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Ya(e)}return typeof t=="object"&&!Array.isArray(t)?Ya(t):null}function Rr(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e6(n)||t6(n)||sS(n))&&(e[n]=t[n]);return e}function kQ(t){return t==null?null:_.isValidElement(t)?Rr(t.props):typeof t=="object"&&!Array.isArray(t)?Rr(t):null}var OQ=["children","width","height","viewBox","className","style","title","desc"];function J1(){return J1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J1.apply(null,arguments)}function PQ(t,e){if(t==null)return{};var n,r,a=DQ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function DQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var oS=_.forwardRef((t,e)=>{var{children:n,width:r,height:a,viewBox:s,className:l,style:u,title:f,desc:h}=t,p=PQ(t,OQ),g=s||{width:r,height:a,x:0,y:0},x=wt("recharts-surface",l);return _.createElement("svg",J1({},Rr(p),{className:x,width:r,height:a,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),_.createElement("title",null,f),_.createElement("desc",null,h),n)}),IQ=["children","className"];function e_(){return e_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e_.apply(null,arguments)}function RQ(t,e){if(t==null)return{};var n,r,a=MQ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function MQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var lr=_.forwardRef((t,e)=>{var{children:n,className:r}=t,a=RQ(t,IQ),s=wt("recharts-layer",r);return _.createElement("g",e_({className:s},Rr(a),{ref:e}),n)}),n6=_.createContext(null),LQ=()=>_.useContext(n6);function qt(t){return function(){return t}}const r6=Math.cos,cy=Math.sin,wi=Math.sqrt,uy=Math.PI,Tv=2*uy,t_=Math.PI,n_=2*t_,tc=1e-6,VQ=n_-tc;function a6(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function UQ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return a6;const n=10**e;return function(r){this._+=r[0];for(let a=1,s=r.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class zQ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?a6:UQ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,a){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,n,r,a,s,l){this._append`C${+e},${+n},${+r},${+a},${this._x1=+s},${this._y1=+l}`}arcTo(e,n,r,a,s){if(e=+e,n=+n,r=+r,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,u=this._y1,f=r-e,h=a-n,p=l-e,g=u-n,x=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(x>tc)if(!(Math.abs(g*f-h*p)>tc)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let w=r-l,E=a-u,S=f*f+h*h,A=w*w+E*E,j=Math.sqrt(S),I=Math.sqrt(x),P=s*Math.tan((t_-Math.acos((S+x-A)/(2*j*I)))/2),H=P/I,R=P/j;Math.abs(H-1)>tc&&this._append`L${e+H*p},${n+H*g}`,this._append`A${s},${s},0,0,${+(g*w>p*E)},${this._x1=e+R*f},${this._y1=n+R*h}`}}arc(e,n,r,a,s,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(a),f=r*Math.sin(a),h=e+u,p=n+f,g=1^l,x=l?a-s:s-a;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>tc||Math.abs(this._y1-p)>tc)&&this._append`L${h},${p}`,r&&(x<0&&(x=x%n_+n_),x>VQ?this._append`A${r},${r},0,1,${g},${e-u},${n-f}A${r},${r},0,1,${g},${this._x1=h},${this._y1=p}`:x>tc&&this._append`A${r},${r},0,${+(x>=t_)},${g},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function lS(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new zQ(e)}function cS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function i6(t){this._context=t}i6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function jv(t){return new i6(t)}function s6(t){return t[0]}function o6(t){return t[1]}function l6(t,e){var n=qt(!0),r=null,a=jv,s=null,l=lS(u);t=typeof t=="function"?t:t===void 0?s6:qt(t),e=typeof e=="function"?e:e===void 0?o6:qt(e);function u(f){var h,p=(f=cS(f)).length,g,x=!1,w;for(r==null&&(s=a(w=l())),h=0;h<=p;++h)!(h<p&&n(g=f[h],h,f))===x&&((x=!x)?s.lineStart():s.lineEnd()),x&&s.point(+t(g,h,f),+e(g,h,f));if(w)return s=null,w+""||null}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:qt(+f),u):t},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:qt(+f),u):e},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:qt(!!f),u):n},u.curve=function(f){return arguments.length?(a=f,r!=null&&(s=a(r)),u):a},u.context=function(f){return arguments.length?(f==null?r=s=null:s=a(r=f),u):r},u}function ag(t,e,n){var r=null,a=qt(!0),s=null,l=jv,u=null,f=lS(h);t=typeof t=="function"?t:t===void 0?s6:qt(+t),e=typeof e=="function"?e:qt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?o6:qt(+n);function h(g){var x,w,E,S=(g=cS(g)).length,A,j=!1,I,P=new Array(S),H=new Array(S);for(s==null&&(u=l(I=f())),x=0;x<=S;++x){if(!(x<S&&a(A=g[x],x,g))===j)if(j=!j)w=x,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),E=x-1;E>=w;--E)u.point(P[E],H[E]);u.lineEnd(),u.areaEnd()}j&&(P[x]=+t(A,x,g),H[x]=+e(A,x,g),u.point(r?+r(A,x,g):P[x],n?+n(A,x,g):H[x]))}if(I)return u=null,I+""||null}function p(){return l6().defined(a).curve(l).context(s)}return h.x=function(g){return arguments.length?(t=typeof g=="function"?g:qt(+g),r=null,h):t},h.x0=function(g){return arguments.length?(t=typeof g=="function"?g:qt(+g),h):t},h.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:qt(+g),h):r},h.y=function(g){return arguments.length?(e=typeof g=="function"?g:qt(+g),n=null,h):e},h.y0=function(g){return arguments.length?(e=typeof g=="function"?g:qt(+g),h):e},h.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:qt(+g),h):n},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(n)},h.lineX1=function(){return p().x(r).y(e)},h.defined=function(g){return arguments.length?(a=typeof g=="function"?g:qt(!!g),h):a},h.curve=function(g){return arguments.length?(l=g,s!=null&&(u=l(s)),h):l},h.context=function(g){return arguments.length?(g==null?s=u=null:u=l(s=g),h):s},h}class c6{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function $Q(t){return new c6(t,!0)}function BQ(t){return new c6(t,!1)}const uS={draw(t,e){const n=wi(e/uy);t.moveTo(n,0),t.arc(0,0,n,0,Tv)}},FQ={draw(t,e){const n=wi(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},u6=wi(1/3),qQ=u6*2,HQ={draw(t,e){const n=wi(e/qQ),r=n*u6;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},KQ={draw(t,e){const n=wi(e),r=-n/2;t.rect(r,r,n,n)}},GQ=.8908130915292852,d6=cy(uy/10)/cy(7*uy/10),YQ=cy(Tv/10)*d6,WQ=-r6(Tv/10)*d6,XQ={draw(t,e){const n=wi(e*GQ),r=YQ*n,a=WQ*n;t.moveTo(0,-n),t.lineTo(r,a);for(let s=1;s<5;++s){const l=Tv*s/5,u=r6(l),f=cy(l);t.lineTo(f*n,-u*n),t.lineTo(u*r-f*a,f*r+u*a)}t.closePath()}},Ub=wi(3),QQ={draw(t,e){const n=-wi(e/(Ub*3));t.moveTo(0,n*2),t.lineTo(-Ub*n,-n),t.lineTo(Ub*n,-n),t.closePath()}},Ua=-.5,za=wi(3)/2,r_=1/wi(12),ZQ=(r_/2+1)*3,JQ={draw(t,e){const n=wi(e/ZQ),r=n/2,a=n*r_,s=r,l=n*r_+n,u=-s,f=l;t.moveTo(r,a),t.lineTo(s,l),t.lineTo(u,f),t.lineTo(Ua*r-za*a,za*r+Ua*a),t.lineTo(Ua*s-za*l,za*s+Ua*l),t.lineTo(Ua*u-za*f,za*u+Ua*f),t.lineTo(Ua*r+za*a,Ua*a-za*r),t.lineTo(Ua*s+za*l,Ua*l-za*s),t.lineTo(Ua*u+za*f,Ua*f-za*u),t.closePath()}};function eZ(t,e){let n=null,r=lS(a);t=typeof t=="function"?t:qt(t||uS),e=typeof e=="function"?e:qt(e===void 0?64:+e);function a(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return a.type=function(s){return arguments.length?(t=typeof s=="function"?s:qt(s),a):t},a.size=function(s){return arguments.length?(e=typeof s=="function"?s:qt(+s),a):e},a.context=function(s){return arguments.length?(n=s??null,a):n},a}function dy(){}function fy(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function f6(t){this._context=t}f6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:fy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:fy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function tZ(t){return new f6(t)}function h6(t){this._context=t}h6.prototype={areaStart:dy,areaEnd:dy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:fy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function nZ(t){return new h6(t)}function m6(t){this._context=t}m6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:fy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function rZ(t){return new m6(t)}function p6(t){this._context=t}p6.prototype={areaStart:dy,areaEnd:dy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function aZ(t){return new p6(t)}function Rk(t){return t<0?-1:1}function Mk(t,e,n){var r=t._x1-t._x0,a=e-t._x1,s=(t._y1-t._y0)/(r||a<0&&-0),l=(n-t._y1)/(a||r<0&&-0),u=(s*a+l*r)/(r+a);return(Rk(s)+Rk(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(u))||0}function Lk(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function zb(t,e,n){var r=t._x0,a=t._y0,s=t._x1,l=t._y1,u=(s-r)/3;t._context.bezierCurveTo(r+u,a+u*e,s-u,l-u*n,s,l)}function hy(t){this._context=t}hy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:zb(this,this._t0,Lk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,zb(this,Lk(this,n=Mk(this,t,e)),n);break;default:zb(this,this._t0,n=Mk(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function g6(t){this._context=new y6(t)}(g6.prototype=Object.create(hy.prototype)).point=function(t,e){hy.prototype.point.call(this,e,t)};function y6(t){this._context=t}y6.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,s){this._context.bezierCurveTo(e,t,r,n,s,a)}};function iZ(t){return new hy(t)}function sZ(t){return new g6(t)}function v6(t){this._context=t}v6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Vk(t),a=Vk(e),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],a[0][s],r[1][s],a[1][s],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Vk(t){var e,n=t.length-1,r,a=new Array(n),s=new Array(n),l=new Array(n);for(a[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)a[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(a[n-1]=2,s[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=a[e]/s[e-1],s[e]-=r,l[e]-=r*l[e-1];for(a[n-1]=l[n-1]/s[n-1],e=n-2;e>=0;--e)a[e]=(l[e]-a[e+1])/s[e];for(s[n-1]=(t[n]+a[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-a[e+1];return[a,s]}function oZ(t){return new v6(t)}function Cv(t,e){this._context=t,this._t=e}Cv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function lZ(t){return new Cv(t,.5)}function cZ(t){return new Cv(t,0)}function uZ(t){return new Cv(t,1)}function Sc(t,e){if((l=t.length)>1)for(var n=1,r,a,s=t[e[0]],l,u=s.length;n<l;++n)for(a=s,s=t[e[n]],r=0;r<u;++r)s[r][1]+=s[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function a_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function dZ(t,e){return t[e]}function fZ(t){const e=[];return e.key=t,e}function hZ(){var t=qt([]),e=a_,n=Sc,r=dZ;function a(s){var l=Array.from(t.apply(this,arguments),fZ),u,f=l.length,h=-1,p;for(const g of s)for(u=0,++h;u<f;++u)(l[u][h]=[0,+r(g,l[u].key,h,s)]).data=g;for(u=0,p=cS(e(l));u<f;++u)l[p[u]].index=u;return n(l,p),l}return a.keys=function(s){return arguments.length?(t=typeof s=="function"?s:qt(Array.from(s)),a):t},a.value=function(s){return arguments.length?(r=typeof s=="function"?s:qt(+s),a):r},a.order=function(s){return arguments.length?(e=s==null?a_:typeof s=="function"?s:qt(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(n=s??Sc,a):n},a}function mZ(t,e){if((r=t.length)>0){for(var n,r,a=0,s=t[0].length,l;a<s;++a){for(l=n=0;n<r;++n)l+=t[n][a][1]||0;if(l)for(n=0;n<r;++n)t[n][a][1]/=l}Sc(t,e)}}function pZ(t,e){if((a=t.length)>0){for(var n=0,r=t[e[0]],a,s=r.length;n<s;++n){for(var l=0,u=0;l<a;++l)u+=t[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}Sc(t,e)}}function gZ(t,e){if(!(!((l=t.length)>0)||!((s=(a=t[e[0]]).length)>0))){for(var n=0,r=1,a,s,l;r<s;++r){for(var u=0,f=0,h=0;u<l;++u){for(var p=t[e[u]],g=p[r][1]||0,x=p[r-1][1]||0,w=(g-x)/2,E=0;E<u;++E){var S=t[e[E]],A=S[r][1]||0,j=S[r-1][1]||0;w+=A-j}f+=g,h+=w*g}a[r-1][1]+=a[r-1][0]=n,f&&(n-=h/f)}a[r-1][1]+=a[r-1][0]=n,Sc(t,e)}}var $b={},Bb={},Uk;function yZ(){return Uk||(Uk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(Bb)),Bb}var Fb={},zk;function x6(){return zk||(zk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(Fb)),Fb}var qb={},$k;function dS(){return $k||($k=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(qb)),qb}var Hb={},Kb={},Bk;function vZ(){return Bk||(Bk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(Kb)),Kb}var Fk;function fS(){return Fk||(Fk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vZ(),n=dS();function r(a){if(Array.isArray(a))return a.map(n.toKey);if(typeof a=="symbol")return[a];a=e.toString(a);const s=[],l=a.length;if(l===0)return s;let u=0,f="",h="",p=!1;for(a.charCodeAt(0)===46&&(s.push(""),u++);u<l;){const g=a[u];h?g==="\\"&&u+1<l?(u++,f+=a[u]):g===h?h="":f+=g:p?g==='"'||g==="'"?h=g:g==="]"?(p=!1,s.push(f),f=""):f+=g:g==="["?(p=!0,f&&(s.push(f),f="")):g==="."?f&&(s.push(f),f=""):f+=g,u++}return f&&s.push(f),s}t.toPath=r})(Hb)),Hb}var qk;function hS(){return qk||(qk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yZ(),n=x6(),r=dS(),a=fS();function s(u,f,h){if(u==null)return h;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return h;const p=u[f];return p===void 0?n.isDeepKey(f)?s(u,a.toPath(f),h):h:p}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const p=u[f];return p===void 0?h:p}default:{if(Array.isArray(f))return l(u,f,h);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return h;const p=u[f];return p===void 0?h:p}}}function l(u,f,h){if(f.length===0)return h;let p=u;for(let g=0;g<f.length;g++){if(p==null||e.isUnsafeProperty(f[g]))return h;p=p[f[g]]}return p===void 0?h:p}t.get=s})($b)),$b}var Gb,Hk;function xZ(){return Hk||(Hk=1,Gb=hS().get),Gb}var bZ=xZ();const Nc=Js(bZ);var wZ=4;function Zo(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wZ,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function gn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((a,s,l)=>{var u=n[l-1];return typeof u=="string"?a+u+s:u!==void 0?a+Zo(u)+s:a+s},"")}var xr=t=>t===0?0:t>0?1:-1,ts=t=>typeof t=="number"&&t!=+t,Ks=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Be=t=>(typeof t=="number"||t instanceof Number)&&!ts(t),ns=t=>Be(t)||typeof t=="string",_Z=0,Th=t=>{var e=++_Z;return"".concat(t||"").concat(e)},Ar=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Be(e)&&typeof e!="string")return r;var s;if(Ks(e)){if(n==null)return r;var l=e.indexOf("%");s=n*parseFloat(e.slice(0,l))/100}else s=+e;return ts(s)&&(s=r),a&&n!=null&&s>n&&(s=n),s},b6=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function nn(t,e,n){return Be(t)&&Be(e)?Zo(t+n*(e-t)):e}function w6(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Nc(r,e))===n)}var sn=t=>t===null||typeof t>"u",sm=t=>sn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function EZ(t){return t!=null}function om(){}var SZ=["type","size","sizeType"];function i_(){return i_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i_.apply(null,arguments)}function Kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Gk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kk(Object(n),!0).forEach(function(r){NZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NZ(t,e,n){return(e=AZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AZ(t){var e=TZ(t,"string");return typeof e=="symbol"?e:e+""}function TZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jZ(t,e){if(t==null)return{};var n,r,a=CZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function CZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _6={symbolCircle:uS,symbolCross:FQ,symbolDiamond:HQ,symbolSquare:KQ,symbolStar:XQ,symbolTriangle:QQ,symbolWye:JQ},kZ=Math.PI/180,OZ=t=>{var e="symbol".concat(sm(t));return _6[e]||uS},PZ=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*kZ;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},DZ=(t,e)=>{_6["symbol".concat(sm(t))]=e},mS=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,a=jZ(t,SZ),s=Gk(Gk({},a),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var u=()=>{var x=OZ(l),w=eZ().type(x).size(PZ(n,r,l)),E=w();if(E!==null)return E},{className:f,cx:h,cy:p}=s,g=Rr(s);return Be(h)&&Be(p)&&Be(n)?_.createElement("path",i_({},g,{className:wt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};mS.registerSymbol=DZ;var E6=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,pS=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(_.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{sS(a)&&(r[a]=(s=>n[a](n,s)))}),r},IZ=(t,e,n)=>r=>(t(e,n,r),null),lm=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(a=>{var s=t[a];sS(a)&&typeof s=="function"&&(r||(r={}),r[a]=IZ(s,e,n))}),r};function Yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function RZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yk(Object(n),!0).forEach(function(r){MZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MZ(t,e,n){return(e=LZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LZ(t){var e=VZ(t,"string");return typeof e=="symbol"?e:e+""}function VZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xn(t,e){var n=RZ({},t),r=e,a=Object.keys(e),s=a.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return s}function my(){return my=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},my.apply(null,arguments)}function Wk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function UZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wk(Object(n),!0).forEach(function(r){zZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zZ(t,e,n){return(e=$Z(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Z(t){var e=BZ(t,"string");return typeof e=="symbol"?e:e+""}function BZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ba=32,FZ={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function qZ(t){var{data:e,iconType:n,inactiveColor:r}=t,a=Ba/2,s=Ba/6,l=Ba/3,u=e.inactive?r:e.color,f=n??e.type;if(f==="none")return null;if(f==="plainline"){var h;return _.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:(h=e.payload)===null||h===void 0?void 0:h.strokeDasharray,x1:0,y1:a,x2:Ba,y2:a,className:"recharts-legend-icon"})}if(f==="line")return _.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Ba,"M").concat(2*l,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(f==="rect")return _.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Ba/8,"h").concat(Ba,"v").concat(Ba*3/4,"h").concat(-Ba,"z"),className:"recharts-legend-icon"});if(_.isValidElement(e.legendIcon)){var p=UZ({},e);return delete p.legendIcon,_.cloneElement(e.legendIcon,p)}return _.createElement(mS,{fill:u,cx:a,cy:a,size:Ba,sizeType:"diameter",type:f})}function HZ(t){var{payload:e,iconSize:n,layout:r,formatter:a,inactiveColor:s,iconType:l}=t,u={x:0,y:0,width:Ba,height:Ba},f={display:r==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((p,g)=>{var x=p.formatter||a,w=wt({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:p.inactive});if(p.type==="none")return null;var E=p.inactive?s:p.color,S=x?x(p.value,p,g):p.value;return _.createElement("li",my({className:w,style:f,key:"legend-item-".concat(g)},lm(t,p,g)),_.createElement(oS,{width:n,height:n,viewBox:u,style:h,"aria-label":"".concat(S," legend icon")},_.createElement(qZ,{data:p,iconType:l,inactiveColor:s})),_.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},S))})}var KZ=t=>{var e=Xn(t,FZ),{payload:n,layout:r,align:a}=e;if(!n||!n.length)return null;var s={padding:0,margin:0,textAlign:r==="horizontal"?a:"left"};return _.createElement("ul",{className:"recharts-default-legend",style:s},_.createElement(HZ,my({},e,{payload:n})))},Yb={},Wb={},Xk;function GZ(){return Xk||(Xk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const a=new Map;for(let s=0;s<n.length;s++){const l=n[s],u=r(l);a.has(u)||a.set(u,l)}return Array.from(a.values())}t.uniqBy=e})(Wb)),Wb}var Xb={},Qk;function S6(){return Qk||(Qk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Xb)),Xb}var Qb={},Zb={},Jb={},Zk;function YZ(){return Zk||(Zk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Jb)),Jb}var Jk;function gS(){return Jk||(Jk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YZ();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Zb)),Zb}var ew={},eO;function WZ(){return eO||(eO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(ew)),ew}var tO;function XZ(){return tO||(tO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gS(),n=WZ();function r(a){return n.isObjectLike(a)&&e.isArrayLike(a)}t.isArrayLikeObject=r})(Qb)),Qb}var tw={},nw={},nO;function QZ(){return nO||(nO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hS();function n(r){return function(a){return e.get(a,r)}}t.property=n})(nw)),nw}var rw={},aw={},iw={},sw={},rO;function N6(){return rO||(rO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(sw)),sw}var ow={},aO;function A6(){return aO||(aO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(ow)),ow}var lw={},iO;function T6(){return iO||(iO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(lw)),lw}var sO;function ZZ(){return sO||(sO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=N6(),n=A6(),r=T6();function a(p,g,x){return typeof x!="function"?a(p,g,()=>{}):s(p,g,function w(E,S,A,j,I,P){const H=x(E,S,A,j,I,P);return H!==void 0?!!H:s(E,S,w,P)},new Map)}function s(p,g,x,w){if(g===p)return!0;switch(typeof g){case"object":return l(p,g,x,w);case"function":return Object.keys(g).length>0?s(p,{...g},x,w):r.eq(p,g);default:return e.isObject(p)?typeof g=="string"?g==="":!0:r.eq(p,g)}}function l(p,g,x,w){if(g==null)return!0;if(Array.isArray(g))return f(p,g,x,w);if(g instanceof Map)return u(p,g,x,w);if(g instanceof Set)return h(p,g,x,w);const E=Object.keys(g);if(p==null||n.isPrimitive(p))return E.length===0;if(E.length===0)return!0;if(w?.has(g))return w.get(g)===p;w?.set(g,p);try{for(let S=0;S<E.length;S++){const A=E[S];if(!n.isPrimitive(p)&&!(A in p)||g[A]===void 0&&p[A]!==void 0||g[A]===null&&p[A]!==null||!x(p[A],g[A],A,p,g,w))return!1}return!0}finally{w?.delete(g)}}function u(p,g,x,w){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[E,S]of g.entries()){const A=p.get(E);if(x(A,S,E,p,g,w)===!1)return!1}return!0}function f(p,g,x,w){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const E=new Set;for(let S=0;S<g.length;S++){const A=g[S];let j=!1;for(let I=0;I<p.length;I++){if(E.has(I))continue;const P=p[I];let H=!1;if(x(P,A,S,p,g,w)&&(H=!0),H){E.add(I),j=!0;break}}if(!j)return!1}return!0}function h(p,g,x,w){return g.size===0?!0:p instanceof Set?f([...p],[...g],x,w):!1}t.isMatchWith=a,t.isSetMatch=h})(iw)),iw}var oO;function j6(){return oO||(oO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZZ();function n(r,a){return e.isMatchWith(r,a,()=>{})}t.isMatch=n})(aw)),aw}var cw={},uw={},dw={},lO;function JZ(){return lO||(lO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(dw)),dw}var fw={},cO;function C6(){return cO||(cO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(fw)),fw}var hw={},uO;function k6(){return uO||(uO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",s="[object Arguments]",l="[object Symbol]",u="[object Date]",f="[object Map]",h="[object Set]",p="[object Array]",g="[object Function]",x="[object ArrayBuffer]",w="[object Object]",E="[object Error]",S="[object DataView]",A="[object Uint8Array]",j="[object Uint8ClampedArray]",I="[object Uint16Array]",P="[object Uint32Array]",H="[object BigUint64Array]",R="[object Int8Array]",F="[object Int16Array]",k="[object Int32Array]",O="[object BigInt64Array]",D="[object Float32Array]",q="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=x,t.arrayTag=p,t.bigInt64ArrayTag=O,t.bigUint64ArrayTag=H,t.booleanTag=a,t.dataViewTag=S,t.dateTag=u,t.errorTag=E,t.float32ArrayTag=D,t.float64ArrayTag=q,t.functionTag=g,t.int16ArrayTag=F,t.int32ArrayTag=k,t.int8ArrayTag=R,t.mapTag=f,t.numberTag=r,t.objectTag=w,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=I,t.uint32ArrayTag=P,t.uint8ArrayTag=A,t.uint8ClampedArrayTag=j})(hw)),hw}var mw={},dO;function eJ(){return dO||(dO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(mw)),mw}var fO;function O6(){return fO||(fO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JZ(),n=C6(),r=k6(),a=A6(),s=eJ();function l(p,g){return u(p,void 0,p,new Map,g)}function u(p,g,x,w=new Map,E=void 0){const S=E?.(p,g,x,w);if(S!==void 0)return S;if(a.isPrimitive(p))return p;if(w.has(p))return w.get(p);if(Array.isArray(p)){const A=new Array(p.length);w.set(p,A);for(let j=0;j<p.length;j++)A[j]=u(p[j],j,x,w,E);return Object.hasOwn(p,"index")&&(A.index=p.index),Object.hasOwn(p,"input")&&(A.input=p.input),A}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const A=new RegExp(p.source,p.flags);return A.lastIndex=p.lastIndex,A}if(p instanceof Map){const A=new Map;w.set(p,A);for(const[j,I]of p)A.set(j,u(I,j,x,w,E));return A}if(p instanceof Set){const A=new Set;w.set(p,A);for(const j of p)A.add(u(j,void 0,x,w,E));return A}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const A=new(Object.getPrototypeOf(p)).constructor(p.length);w.set(p,A);for(let j=0;j<p.length;j++)A[j]=u(p[j],j,x,w,E);return A}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const A=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return w.set(p,A),f(A,p,x,w,E),A}if(typeof File<"u"&&p instanceof File){const A=new File([p],p.name,{type:p.type});return w.set(p,A),f(A,p,x,w,E),A}if(typeof Blob<"u"&&p instanceof Blob){const A=new Blob([p],{type:p.type});return w.set(p,A),f(A,p,x,w,E),A}if(p instanceof Error){const A=new p.constructor;return w.set(p,A),A.message=p.message,A.name=p.name,A.stack=p.stack,A.cause=p.cause,f(A,p,x,w,E),A}if(p instanceof Boolean){const A=new Boolean(p.valueOf());return w.set(p,A),f(A,p,x,w,E),A}if(p instanceof Number){const A=new Number(p.valueOf());return w.set(p,A),f(A,p,x,w,E),A}if(p instanceof String){const A=new String(p.valueOf());return w.set(p,A),f(A,p,x,w,E),A}if(typeof p=="object"&&h(p)){const A=Object.create(Object.getPrototypeOf(p));return w.set(p,A),f(A,p,x,w,E),A}return p}function f(p,g,x=p,w,E){const S=[...Object.keys(g),...e.getSymbols(g)];for(let A=0;A<S.length;A++){const j=S[A],I=Object.getOwnPropertyDescriptor(p,j);(I==null||I.writable)&&(p[j]=u(g[j],j,x,w,E))}}function h(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=u,t.copyProperties=f})(uw)),uw}var hO;function tJ(){return hO||(hO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=O6();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(cw)),cw}var mO;function nJ(){return mO||(mO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=j6(),n=tJ();function r(a){return a=n.cloneDeep(a),s=>e.isMatch(s,a)}t.matches=r})(rw)),rw}var pw={},gw={},yw={},pO;function rJ(){return pO||(pO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=O6(),n=k6();function r(a,s){return e.cloneDeepWith(a,(l,u,f,h)=>{const p=s?.(l,u,f,h);if(p!==void 0)return p;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new a.constructor(a?.valueOf());return e.copyProperties(g,a),g}case n.argumentsTag:{const g={};return e.copyProperties(g,a),g.length=a.length,g[Symbol.iterator]=a[Symbol.iterator],g}default:return}})}t.cloneDeepWith=r})(yw)),yw}var gO;function aJ(){return gO||(gO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rJ();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(gw)),gw}var vw={},xw={},yO;function P6(){return yO||(yO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(xw)),xw}var bw={},vO;function iJ(){return vO||(vO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=C6();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(bw)),bw}var xO;function sJ(){return xO||(xO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=x6(),n=P6(),r=iJ(),a=fS();function s(l,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&e.isDeepKey(u)&&l?.[u]==null?f=a.toPath(u):f=[u],f.length===0)return!1;let h=l;for(let p=0;p<f.length;p++){const g=f[p];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}t.has=s})(vw)),vw}var bO;function oJ(){return bO||(bO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=j6(),n=dS(),r=aJ(),a=hS(),s=sJ();function l(u,f){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return f=r.cloneDeep(f),function(h){const p=a.get(h,u);return p===void 0?s.has(h,u):f===void 0?p===void 0:e.isMatch(p,f)}}t.matchesProperty=l})(pw)),pw}var wO;function lJ(){return wO||(wO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=S6(),n=QZ(),r=nJ(),a=oJ();function s(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=s})(tw)),tw}var _O;function cJ(){return _O||(_O=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GZ(),n=S6(),r=XZ(),a=lJ();function s(l,u=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),a.iteratee(u)):[]}t.uniqBy=s})(Yb)),Yb}var ww,EO;function uJ(){return EO||(EO=1,ww=cJ().uniqBy),ww}var dJ=uJ();const SO=Js(dJ);function D6(t,e,n){return e===!0?SO(t,n):typeof e=="function"?SO(t,e):t}var _w={exports:{}},Ew={},Sw={exports:{}},Nw={};var NO;function fJ(){if(NO)return Nw;NO=1;var t=fd();function e(g,x){return g===x&&(g!==0||1/g===1/x)||g!==g&&x!==x}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,a=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function u(g,x){var w=x(),E=r({inst:{value:w,getSnapshot:x}}),S=E[0].inst,A=E[1];return s(function(){S.value=w,S.getSnapshot=x,f(S)&&A({inst:S})},[g,w,x]),a(function(){return f(S)&&A({inst:S}),g(function(){f(S)&&A({inst:S})})},[g]),l(w),w}function f(g){var x=g.getSnapshot;g=g.value;try{var w=x();return!n(g,w)}catch{return!0}}function h(g,x){return x()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return Nw.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Nw}var AO;function hJ(){return AO||(AO=1,Sw.exports=fJ()),Sw.exports}var TO;function mJ(){if(TO)return Ew;TO=1;var t=fd(),e=hJ();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,u=t.useMemo,f=t.useDebugValue;return Ew.useSyncExternalStoreWithSelector=function(h,p,g,x,w){var E=s(null);if(E.current===null){var S={hasValue:!1,value:null};E.current=S}else S=E.current;E=u(function(){function j(F){if(!I){if(I=!0,P=F,F=x(F),w!==void 0&&S.hasValue){var k=S.value;if(w(k,F))return H=k}return H=F}if(k=H,r(P,F))return k;var O=x(F);return w!==void 0&&w(k,O)?(P=F,k):(P=F,H=O)}var I=!1,P,H,R=g===void 0?null:g;return[function(){return j(p())},R===null?void 0:function(){return j(R())}]},[p,g,x,w]);var A=a(h,E[0],E[1]);return l(function(){S.hasValue=!0,S.value=A},[A]),f(A),A},Ew}var jO;function pJ(){return jO||(jO=1,_w.exports=mJ()),_w.exports}var gJ=pJ(),yS=_.createContext(null),yJ=t=>t,Kt=()=>{var t=_.useContext(yS);return t?t.store.dispatch:yJ},Dg=()=>{},vJ=()=>Dg,xJ=(t,e)=>t===e;function Ve(t){var e=_.useContext(yS);return gJ.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:vJ,e?e.store.getState:Dg,e?e.store.getState:Dg,e?t:Dg,xJ)}function bJ(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function wJ(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function _J(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var CO=t=>Array.isArray(t)?t:[t];function EJ(t){const e=Array.isArray(t[0])?t[0]:t;return _J(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function SJ(t,e){const n=[],{length:r}=t;for(let a=0;a<r;a++)n.push(t[a].apply(null,e));return n}var NJ=class{constructor(t){this.value=t}deref(){return this.value}},AJ=typeof WeakRef<"u"?WeakRef:NJ,TJ=0,kO=1;function ig(){return{s:TJ,v:void 0,o:null,p:null}}function I6(t,e={}){let n=ig();const{resultEqualityCheck:r}=e;let a,s=0;function l(){let u=n;const{length:f}=arguments;for(let g=0,x=f;g<x;g++){const w=arguments[g];if(typeof w=="function"||typeof w=="object"&&w!==null){let E=u.o;E===null&&(u.o=E=new WeakMap);const S=E.get(w);S===void 0?(u=ig(),E.set(w,u)):u=S}else{let E=u.p;E===null&&(u.p=E=new Map);const S=E.get(w);S===void 0?(u=ig(),E.set(w,u)):u=S}}const h=u;let p;if(u.s===kO)p=u.v;else if(p=t.apply(null,arguments),s++,r){const g=a?.deref?.()??a;g!=null&&r(g,p)&&(p=g,s!==0&&s--),a=typeof p=="object"&&p!==null||typeof p=="function"?new AJ(p):p}return h.s=kO,h.v=p,p}return l.clearCache=()=>{n=ig(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function jJ(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...a)=>{let s=0,l=0,u,f={},h=a.pop();typeof h=="object"&&(f=h,h=a.pop()),bJ(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...f},{memoize:g,memoizeOptions:x=[],argsMemoize:w=I6,argsMemoizeOptions:E=[]}=p,S=CO(x),A=CO(E),j=EJ(a),I=g(function(){return s++,h.apply(null,arguments)},...S),P=w(function(){l++;const R=SJ(j,arguments);return u=I.apply(null,R),u},...A);return Object.assign(P,{resultFunc:h,memoizedResultFunc:I,dependencies:j,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:w})};return Object.assign(r,{withTypes:()=>r}),r}var oe=jJ(I6),CJ=Object.assign((t,e=oe)=>{wJ(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((l,u,f)=>(l[n[f]]=u,l),{}))},{withTypes:()=>CJ}),Aw={},Tw={},jw={},OO;function kJ(){return OO||(OO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,s)=>{if(r!==a){const l=e(r),u=e(a);if(l===u&&l===0){if(r<a)return s==="desc"?1:-1;if(r>a)return s==="desc"?-1:1}return s==="desc"?u-l:l-u}return 0};t.compareValues=n})(jw)),jw}var Cw={},kw={},PO;function R6(){return PO||(PO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(kw)),kw}var DO;function OJ(){return DO||(DO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=R6(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||l!=null&&Object.hasOwn(l,s)}t.isKey=a})(Cw)),Cw}var IO;function PJ(){return IO||(IO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kJ(),n=OJ(),r=fS();function a(s,l,u,f){if(s==null)return[];u=f?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(w=>String(w));const h=(w,E)=>{let S=w;for(let A=0;A<E.length&&S!=null;++A)S=S[E[A]];return S},p=(w,E)=>E==null||w==null?E:typeof w=="object"&&"key"in w?Object.hasOwn(E,w.key)?E[w.key]:h(E,w.path):typeof w=="function"?w(E):Array.isArray(w)?h(E,w):typeof E=="object"?E[w]:E,g=l.map(w=>(Array.isArray(w)&&w.length===1&&(w=w[0]),w==null||typeof w=="function"||Array.isArray(w)||n.isKey(w)?w:{key:w,path:r.toPath(w)}));return s.map(w=>({original:w,criteria:g.map(E=>p(E,w))})).slice().sort((w,E)=>{for(let S=0;S<g.length;S++){const A=e.compareValues(w.criteria[S],E.criteria[S],u[S]);if(A!==0)return A}return 0}).map(w=>w.original)}t.orderBy=a})(Tw)),Tw}var Ow={},RO;function DJ(){return RO||(RO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const a=[],s=Math.floor(r),l=(u,f)=>{for(let h=0;h<u.length;h++){const p=u[h];Array.isArray(p)&&f<s?l(p,f+1):a.push(p)}};return l(n,0),a}t.flatten=e})(Ow)),Ow}var Pw={},MO;function M6(){return MO||(MO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=P6(),n=gS(),r=N6(),a=T6();function s(l,u,f){return r.isObject(f)&&(typeof u=="number"&&n.isArrayLike(f)&&e.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?a.eq(f[u],l):!1}t.isIterateeCall=s})(Pw)),Pw}var LO;function IJ(){return LO||(LO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PJ(),n=DJ(),r=M6();function a(s,...l){const u=l.length;return u>1&&r.isIterateeCall(s,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(s,n.flatten(l),["asc"])}t.sortBy=a})(Aw)),Aw}var Dw,VO;function RJ(){return VO||(VO=1,Dw=IJ().sortBy),Dw}var MJ=RJ();const kv=Js(MJ);var L6=t=>t.legend.settings,LJ=t=>t.legend.size,VJ=t=>t.legend.payload,UJ=oe([VJ,L6],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?kv(r,n):r});function zJ(){return Ve(UJ)}var sg=1;function V6(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=_.useState({height:0,left:0,top:0,width:0}),r=_.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-e.height)>sg||Math.abs(l.left-e.left)>sg||Math.abs(l.top-e.top)>sg||Math.abs(l.width-e.width)>sg)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function pr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var $J=typeof Symbol=="function"&&Symbol.observable||"@@observable",UO=$J,Iw=()=>Math.random().toString(36).substring(7).split("").join("."),BJ={INIT:`@@redux/INIT${Iw()}`,REPLACE:`@@redux/REPLACE${Iw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Iw()}`},py=BJ;function vS(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function U6(t,e,n){if(typeof t!="function")throw new Error(pr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(pr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(pr(1));return n(U6)(t,e)}let r=t,a=e,s=new Map,l=s,u=0,f=!1;function h(){l===s&&(l=new Map,s.forEach((A,j)=>{l.set(j,A)}))}function p(){if(f)throw new Error(pr(3));return a}function g(A){if(typeof A!="function")throw new Error(pr(4));if(f)throw new Error(pr(5));let j=!0;h();const I=u++;return l.set(I,A),function(){if(j){if(f)throw new Error(pr(6));j=!1,h(),l.delete(I),s=null}}}function x(A){if(!vS(A))throw new Error(pr(7));if(typeof A.type>"u")throw new Error(pr(8));if(typeof A.type!="string")throw new Error(pr(17));if(f)throw new Error(pr(9));try{f=!0,a=r(a,A)}finally{f=!1}return(s=l).forEach(I=>{I()}),A}function w(A){if(typeof A!="function")throw new Error(pr(10));r=A,x({type:py.REPLACE})}function E(){const A=g;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(pr(11));function I(){const H=j;H.next&&H.next(p())}return I(),{unsubscribe:A(I)}},[UO](){return this}}}return x({type:py.INIT}),{dispatch:x,subscribe:g,getState:p,replaceReducer:w,[UO]:E}}function FJ(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:py.INIT})>"u")throw new Error(pr(12));if(typeof n(void 0,{type:py.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(pr(13))})}function z6(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const l=e[s];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let a;try{FJ(n)}catch(s){a=s}return function(l={},u){if(a)throw a;let f=!1;const h={};for(let p=0;p<r.length;p++){const g=r[p],x=n[g],w=l[g],E=x(w,u);if(typeof E>"u")throw u&&u.type,new Error(pr(14));h[g]=E,f=f||E!==w}return f=f||r.length!==Object.keys(l).length,f?h:l}}function gy(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function qJ(...t){return e=>(n,r)=>{const a=e(n,r);let s=()=>{throw new Error(pr(15))};const l={getState:a.getState,dispatch:(f,...h)=>s(f,...h)},u=t.map(f=>f(l));return s=gy(...u)(a.dispatch),{...a,dispatch:s}}}function $6(t){return vS(t)&&"type"in t&&typeof t.type=="string"}var B6=Symbol.for("immer-nothing"),zO=Symbol.for("immer-draftable"),Mr=Symbol.for("immer-state");function fi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var ya=Object,id=ya.getPrototypeOf,yy="constructor",Ov="prototype",s_="configurable",vy="enumerable",Ig="writable",jh="value",Gs=t=>!!t&&!!t[Mr];function xi(t){return t?F6(t)||Dv(t)||!!t[zO]||!!t[yy]?.[zO]||Iv(t)||Rv(t):!1}var HJ=ya[Ov][yy].toString(),$O=new WeakMap;function F6(t){if(!t||!xS(t))return!1;const e=id(t);if(e===null||e===ya[Ov])return!0;const n=ya.hasOwnProperty.call(e,yy)&&e[yy];if(n===Object)return!0;if(!Uu(n))return!1;let r=$O.get(n);return r===void 0&&(r=Function.toString.call(n),$O.set(n,r)),r===HJ}function Pv(t,e,n=!0){cm(t)===0?(n?Reflect.ownKeys(t):ya.keys(t)).forEach(a=>{e(a,t[a],t)}):t.forEach((r,a)=>e(a,r,t))}function cm(t){const e=t[Mr];return e?e.type_:Dv(t)?1:Iv(t)?2:Rv(t)?3:0}var BO=(t,e,n=cm(t))=>n===2?t.has(e):ya[Ov].hasOwnProperty.call(t,e),o_=(t,e,n=cm(t))=>n===2?t.get(e):t[e],xy=(t,e,n,r=cm(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function KJ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Dv=Array.isArray,Iv=t=>t instanceof Map,Rv=t=>t instanceof Set,xS=t=>typeof t=="object",Uu=t=>typeof t=="function",Rw=t=>typeof t=="boolean";function GJ(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var Ts=t=>t.copy_||t.base_,bS=t=>t.modified_?t.copy_:t.base_;function l_(t,e){if(Iv(t))return new Map(t);if(Rv(t))return new Set(t);if(Dv(t))return Array[Ov].slice.call(t);const n=F6(t);if(e===!0||e==="class_only"&&!n){const r=ya.getOwnPropertyDescriptors(t);delete r[Mr];let a=Reflect.ownKeys(r);for(let s=0;s<a.length;s++){const l=a[s],u=r[l];u[Ig]===!1&&(u[Ig]=!0,u[s_]=!0),(u.get||u.set)&&(r[l]={[s_]:!0,[Ig]:!0,[vy]:u[vy],[jh]:t[l]})}return ya.create(id(t),r)}else{const r=id(t);if(r!==null&&n)return{...t};const a=ya.create(r);return ya.assign(a,t)}}function wS(t,e=!1){return Mv(t)||Gs(t)||!xi(t)||(cm(t)>1&&ya.defineProperties(t,{set:og,add:og,clear:og,delete:og}),ya.freeze(t),e&&Pv(t,(n,r)=>{wS(r,!0)},!1)),t}function YJ(){fi(2)}var og={[jh]:YJ};function Mv(t){return t===null||!xS(t)?!0:ya.isFrozen(t)}var by="MapSet",c_="Patches",FO="ArrayMethods",q6={};function Ac(t){const e=q6[t];return e||fi(0,t),e}var qO=t=>!!q6[t],Ch,H6=()=>Ch,WJ=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:qO(by)?Ac(by):void 0,arrayMethodsPlugin_:qO(FO)?Ac(FO):void 0});function HO(t,e){e&&(t.patchPlugin_=Ac(c_),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function u_(t){d_(t),t.drafts_.forEach(XJ),t.drafts_=null}function d_(t){t===Ch&&(Ch=t.parent_)}var KO=t=>Ch=WJ(Ch,t);function XJ(t){const e=t[Mr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function GO(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Mr].modified_&&(u_(e),fi(4)),xi(t)&&(t=YO(e,t));const{patchPlugin_:a}=e;a&&a.generateReplacementPatches_(n[Mr].base_,t,e)}else t=YO(e,n);return QJ(e,t,!0),u_(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==B6?t:void 0}function YO(t,e){if(Mv(e))return e;const n=e[Mr];if(!n)return wy(e,t.handledSet_,t);if(!Lv(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);Y6(n,t)}return n.copy_}function QJ(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&wS(e,n)}function K6(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Lv=(t,e)=>t.scope_===e,ZJ=[];function G6(t,e,n,r){const a=Ts(t),s=t.type_;if(r!==void 0&&o_(a,r,s)===e){xy(a,r,n,s);return}if(!t.draftLocations_){const u=t.draftLocations_=new Map;Pv(a,(f,h)=>{if(Gs(h)){const p=u.get(h)||[];p.push(f),u.set(h,p)}})}const l=t.draftLocations_.get(e)??ZJ;for(const u of l)xy(a,u,n,s)}function JJ(t,e,n){t.callbacks_.push(function(a){const s=e;if(!s||!Lv(s,a))return;a.mapSetPlugin_?.fixSetContents(s);const l=bS(s);G6(t,s.draft_??s,l,n),Y6(s,a)})}function Y6(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const a=r.getPath(t);a&&r.generatePatches_(t,a,e)}K6(t)}}function eee(t,e,n){const{scope_:r}=t;if(Gs(n)){const a=n[Mr];Lv(a,r)&&a.callbacks_.push(function(){Rg(t);const l=bS(a);G6(t,n,l,e)})}else xi(n)&&t.callbacks_.push(function(){const s=Ts(t);t.type_===3?s.has(n)&&wy(n,r.handledSet_,r):o_(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&wy(o_(t.copy_,e,t.type_),r.handledSet_,r)})}function wy(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Gs(t)||e.has(t)||!xi(t)||Mv(t)||(e.add(t),Pv(t,(r,a)=>{if(Gs(a)){const s=a[Mr];if(Lv(s,n)){const l=bS(s);xy(t,r,l,t.type_),K6(s)}}else xi(a)&&wy(a,e,n)})),t}function tee(t,e){const n=Dv(t),r={type_:n?1:0,scope_:e?e.scope_:H6(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=r,s=_y;n&&(a=[r],s=kh);const{revoke:l,proxy:u}=Proxy.revocable(a,s);return r.draft_=u,r.revoke_=l,[u,r]}var _y={get(t,e){if(e===Mr)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const a=Ts(t);if(!BO(a,e,t.type_))return nee(t,a,e);const s=a[e];if(t.finalized_||!xi(s)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&GJ(e))return s;if(s===Mw(t.base_,e)){Rg(t);const l=t.type_===1?+e:e,u=h_(t.scope_,s,t,l);return t.copy_[l]=u}return s},has(t,e){return e in Ts(t)},ownKeys(t){return Reflect.ownKeys(Ts(t))},set(t,e,n){const r=W6(Ts(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const a=Mw(Ts(t),e),s=a?.[Mr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(KJ(n,a)&&(n!==void 0||BO(t.base_,e,t.type_)))return!0;Rg(t),f_(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),eee(t,e,n)),!0},deleteProperty(t,e){return Rg(t),Mw(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),f_(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ts(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[Ig]:!0,[s_]:t.type_!==1||e!=="length",[vy]:r[vy],[jh]:n[e]}},defineProperty(){fi(11)},getPrototypeOf(t){return id(t.base_)},setPrototypeOf(){fi(12)}},kh={};for(let t in _y){let e=_y[t];kh[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}kh.deleteProperty=function(t,e){return kh.set.call(this,t,e,void 0)};kh.set=function(t,e,n){return _y.set.call(this,t[0],e,n,t[0])};function Mw(t,e){const n=t[Mr];return(n?Ts(n):t)[e]}function nee(t,e,n){const r=W6(e,n);return r?jh in r?r[jh]:r.get?.call(t.draft_):void 0}function W6(t,e){if(!(e in t))return;let n=id(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=id(n)}}function f_(t){t.modified_||(t.modified_=!0,t.parent_&&f_(t.parent_))}function Rg(t){t.copy_||(t.assigned_=new Map,t.copy_=l_(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var ree=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,a)=>{if(Uu(n)&&!Uu(r)){const l=r;r=n;const u=this;return function(h=l,...p){return u.produce(h,g=>r.call(this,g,...p))}}Uu(r)||fi(6),a!==void 0&&!Uu(a)&&fi(7);let s;if(xi(n)){const l=KO(this),u=h_(l,n,void 0);let f=!0;try{s=r(u),f=!1}finally{f?u_(l):d_(l)}return HO(l,a),GO(s,l)}else if(!n||!xS(n)){if(s=r(n),s===void 0&&(s=n),s===B6&&(s=void 0),this.autoFreeze_&&wS(s,!0),a){const l=[],u=[];Ac(c_).generateReplacementPatches_(n,s,{patches_:l,inversePatches_:u}),a(l,u)}return s}else fi(1,n)},this.produceWithPatches=(n,r)=>{if(Uu(n))return(u,...f)=>this.produceWithPatches(u,h=>n(h,...f));let a,s;return[this.produce(n,r,(u,f)=>{a=u,s=f}),a,s]},Rw(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),Rw(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),Rw(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){xi(e)||fi(8),Gs(e)&&(e=gi(e));const n=KO(this),r=h_(n,e,void 0);return r[Mr].isManual_=!0,d_(n),r}finishDraft(e,n){const r=e&&e[Mr];(!r||!r.isManual_)&&fi(9);const{scope_:a}=r;return HO(a,n),GO(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const a=Ac(c_).applyPatches_;return Gs(e)?a(e,n):this.produce(e,s=>a(s,n))}};function h_(t,e,n,r){const[a,s]=Iv(e)?Ac(by).proxyMap_(e,n):Rv(e)?Ac(by).proxySet_(e,n):tee(e,n);return(n?.scope_??H6()).drafts_.push(a),s.callbacks_=n?.callbacks_??[],s.key_=r,n&&r!==void 0?JJ(n,s,r):s.callbacks_.push(function(f){f.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:h}=f;s.modified_&&h&&h.generatePatches_(s,[],f)}),a}function gi(t){return Gs(t)||fi(10,t),X6(t)}function X6(t){if(!xi(t)||Mv(t))return t;const e=t[Mr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=l_(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=l_(t,!0);return Pv(n,(a,s)=>{xy(n,a,X6(s))},r),e&&(e.finalized_=!1),n}var aee=new ree,Q6=aee.produce;function Z6(t){return({dispatch:n,getState:r})=>a=>s=>typeof s=="function"?s(n,r,t):a(s)}var iee=Z6(),see=Z6,oee=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?gy:gy.apply(null,arguments)};function Wa(t,e){function n(...r){if(e){let a=e(...r);if(!a)throw new Error(xa(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>$6(r)&&r.type===t,n}var J6=class rh extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,rh.prototype)}static get[Symbol.species](){return rh}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new rh(...e[0].concat(this)):new rh(...e.concat(this))}};function WO(t){return xi(t)?Q6(t,()=>{}):t}function lg(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function lee(t){return typeof t=="boolean"}var cee=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=e??{};let l=new J6;return n&&(lee(n)?l.push(iee):l.push(see(n.extraArgument))),l},e5="RTK_autoBatch",tn=()=>t=>({payload:t,meta:{[e5]:!0}}),XO=t=>e=>{setTimeout(e,t)},t5=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let a=!0,s=!1,l=!1;const u=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:XO(10):t.type==="callback"?t.queueNotification:XO(t.timeout),h=()=>{l=!1,s&&(s=!1,u.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>a&&p(),x=r.subscribe(g);return u.add(p),()=>{x(),u.delete(p)}},dispatch(p){try{return a=!p?.meta?.[e5],s=!a,s&&(l||(l=!0,f(h))),r.dispatch(p)}finally{a=!0}}})},uee=t=>function(n){const{autoBatch:r=!0}=n??{};let a=new J6(t);return r&&a.push(t5(typeof r=="object"?r:void 0)),a};function dee(t){const e=cee(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:s=void 0,enhancers:l=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(vS(n))u=z6(n);else throw new Error(xa(1));let f;typeof r=="function"?f=r(e):f=e();let h=gy;a&&(h=oee({trace:!1,...typeof a=="object"&&a}));const p=qJ(...f),g=uee(p);let x=typeof l=="function"?l(g):g();const w=h(...x);return U6(u,s,w)}function n5(t){const e={},n=[];let r;const a={addCase(s,l){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(xa(28));if(u in e)throw new Error(xa(29));return e[u]=l,a},addAsyncThunk(s,l){return l.pending&&(e[s.pending.type]=l.pending),l.rejected&&(e[s.rejected.type]=l.rejected),l.fulfilled&&(e[s.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:s.settled,reducer:l.settled}),a},addMatcher(s,l){return n.push({matcher:s,reducer:l}),a},addDefaultCase(s){return r=s,a}};return t(a),[e,n,r]}function fee(t){return typeof t=="function"}function hee(t,e){let[n,r,a]=n5(e),s;if(fee(t))s=()=>WO(t());else{const u=WO(t);s=()=>u}function l(u=s(),f){let h=[n[f.type],...r.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[a]),h.reduce((p,g)=>{if(g)if(Gs(p)){const w=g(p,f);return w===void 0?p:w}else{if(xi(p))return Q6(p,x=>g(x,f));{const x=g(p,f);if(x===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return p},u)}return l.getInitialState=s,l}var mee="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",pee=(t=21)=>{let e="",n=t;for(;n--;)e+=mee[Math.random()*64|0];return e},gee=Symbol.for("rtk-slice-createasyncthunk");function yee(t,e){return`${t}/${e}`}function vee({creators:t}={}){const e=t?.asyncThunk?.[gee];return function(r){const{name:a,reducerPath:s=a}=r;if(!a)throw new Error(xa(11));const l=(typeof r.reducers=="function"?r.reducers(bee()):r.reducers)||{},u=Object.keys(l),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(P,H){const R=typeof P=="string"?P:P.type;if(!R)throw new Error(xa(12));if(R in f.sliceCaseReducersByType)throw new Error(xa(13));return f.sliceCaseReducersByType[R]=H,h},addMatcher(P,H){return f.sliceMatchers.push({matcher:P,reducer:H}),h},exposeAction(P,H){return f.actionCreators[P]=H,h},exposeCaseReducer(P,H){return f.sliceCaseReducersByName[P]=H,h}};u.forEach(P=>{const H=l[P],R={reducerName:P,type:yee(a,P),createNotation:typeof r.reducers=="function"};_ee(H)?See(R,H,h,e):wee(R,H,h)});function p(){const[P={},H=[],R=void 0]=typeof r.extraReducers=="function"?n5(r.extraReducers):[r.extraReducers],F={...P,...f.sliceCaseReducersByType};return hee(r.initialState,k=>{for(let O in F)k.addCase(O,F[O]);for(let O of f.sliceMatchers)k.addMatcher(O.matcher,O.reducer);for(let O of H)k.addMatcher(O.matcher,O.reducer);R&&k.addDefaultCase(R)})}const g=P=>P,x=new Map,w=new WeakMap;let E;function S(P,H){return E||(E=p()),E(P,H)}function A(){return E||(E=p()),E.getInitialState()}function j(P,H=!1){function R(k){let O=k[P];return typeof O>"u"&&H&&(O=lg(w,R,A)),O}function F(k=g){const O=lg(x,H,()=>new WeakMap);return lg(O,k,()=>{const D={};for(const[q,M]of Object.entries(r.selectors??{}))D[q]=xee(M,k,()=>lg(w,k,A),H);return D})}return{reducerPath:P,getSelectors:F,get selectors(){return F(R)},selectSlice:R}}const I={name:a,reducer:S,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:A,...j(s),injectInto(P,{reducerPath:H,...R}={}){const F=H??s;return P.inject({reducerPath:F,reducer:S},R),{...I,...j(F,!0)}}};return I}}function xee(t,e,n,r){function a(s,...l){let u=e(s);return typeof u>"u"&&r&&(u=n()),t(u,...l)}return a.unwrapped=t,a}var ea=vee();function bee(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function wee({type:t,reducerName:e,createNotation:n},r,a){let s,l;if("reducer"in r){if(n&&!Eee(r))throw new Error(xa(17));s=r.reducer,l=r.prepare}else s=r;a.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,l?Wa(t,l):Wa(t))}function _ee(t){return t._reducerDefinitionType==="asyncThunk"}function Eee(t){return t._reducerDefinitionType==="reducerWithPrepare"}function See({type:t,reducerName:e},n,r,a){if(!a)throw new Error(xa(18));const{payloadCreator:s,fulfilled:l,pending:u,rejected:f,settled:h,options:p}=n,g=a(t,s,p);r.exposeAction(e,g),l&&r.addCase(g.fulfilled,l),u&&r.addCase(g.pending,u),f&&r.addCase(g.rejected,f),h&&r.addMatcher(g.settled,h),r.exposeCaseReducer(e,{fulfilled:l||cg,pending:u||cg,rejected:f||cg,settled:h||cg})}function cg(){}var Nee="task",r5="listener",a5="completed",_S="cancelled",Aee=`task-${_S}`,Tee=`task-${a5}`,m_=`${r5}-${_S}`,jee=`${r5}-${a5}`,Vv=class{constructor(t){this.code=t,this.message=`${Nee} ${_S} (reason: ${t})`}name="TaskAbortError";message},ES=(t,e)=>{if(typeof t!="function")throw new TypeError(xa(32))},Ey=()=>{},i5=(t,e=Ey)=>(t.catch(e),t),s5=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),fc=t=>{if(t.aborted)throw new Vv(t.reason)};function o5(t,e){let n=Ey;return new Promise((r,a)=>{const s=()=>a(new Vv(t.reason));if(t.aborted){s();return}n=s5(t,s),e.finally(()=>n()).then(r,a)}).finally(()=>{n=Ey})}var Cee=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Vv?"cancelled":"rejected",error:n}}finally{e?.()}},Sy=t=>e=>i5(o5(t,e).then(n=>(fc(t),n))),l5=t=>{const e=Sy(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Yu}=Object,QO={},Uv="listenerMiddleware",kee=(t,e)=>{const n=r=>s5(t,()=>r.abort(t.reason));return(r,a)=>{ES(r);const s=new AbortController;n(s);const l=Cee(async()=>{fc(t),fc(s.signal);const u=await r({pause:Sy(s.signal),delay:l5(s.signal),signal:s.signal});return fc(s.signal),u},()=>s.abort(Tee));return a?.autoJoin&&e.push(l.catch(Ey)),{result:Sy(t)(l),cancel(){s.abort(Aee)}}}},Oee=(t,e)=>{const n=async(r,a)=>{fc(e);let s=()=>{};const u=[new Promise((f,h)=>{let p=t({predicate:r,effect:(g,x)=>{x.unsubscribe(),f([g,x.getState(),x.getOriginalState()])}});s=()=>{p(),h()}})];a!=null&&u.push(new Promise(f=>setTimeout(f,a,null)));try{const f=await o5(e,Promise.race(u));return fc(e),f}finally{s()}};return(r,a)=>i5(n(r,a))},c5=t=>{let{type:e,actionCreator:n,matcher:r,predicate:a,effect:s}=t;if(e)a=Wa(e).match;else if(n)e=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(xa(21));return ES(s),{predicate:a,type:e,effect:s}},u5=Yu(t=>{const{type:e,predicate:n,effect:r}=c5(t);return{id:pee(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(xa(22))}}},{withTypes:()=>u5}),ZO=(t,e)=>{const{type:n,effect:r,predicate:a}=c5(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===a)&&s.effect===r)},p_=t=>{t.pending.forEach(e=>{e.abort(m_)})},Pee=(t,e)=>()=>{for(const n of e.keys())p_(n);t.clear()},JO=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},d5=Yu(Wa(`${Uv}/add`),{withTypes:()=>d5}),Dee=Wa(`${Uv}/removeAll`),f5=Yu(Wa(`${Uv}/remove`),{withTypes:()=>f5}),Iee=(...t)=>{console.error(`${Uv}/error`,...t)},um=(t={})=>{const e=new Map,n=new Map,r=w=>{const E=n.get(w)??0;n.set(w,E+1)},a=w=>{const E=n.get(w)??1;E===1?n.delete(w):n.set(w,E-1)},{extra:s,onError:l=Iee}=t;ES(l);const u=w=>(w.unsubscribe=()=>e.delete(w.id),e.set(w.id,w),E=>{w.unsubscribe(),E?.cancelActive&&p_(w)}),f=w=>{const E=ZO(e,w)??u5(w);return u(E)};Yu(f,{withTypes:()=>f});const h=w=>{const E=ZO(e,w);return E&&(E.unsubscribe(),w.cancelActive&&p_(E)),!!E};Yu(h,{withTypes:()=>h});const p=async(w,E,S,A)=>{const j=new AbortController,I=Oee(f,j.signal),P=[];try{w.pending.add(j),r(w),await Promise.resolve(w.effect(E,Yu({},S,{getOriginalState:A,condition:(H,R)=>I(H,R).then(Boolean),take:I,delay:l5(j.signal),pause:Sy(j.signal),extra:s,signal:j.signal,fork:kee(j.signal,P),unsubscribe:w.unsubscribe,subscribe:()=>{e.set(w.id,w)},cancelActiveListeners:()=>{w.pending.forEach((H,R,F)=>{H!==j&&(H.abort(m_),F.delete(H))})},cancel:()=>{j.abort(m_),w.pending.delete(j)},throwIfCancelled:()=>{fc(j.signal)}})))}catch(H){H instanceof Vv||JO(l,H,{raisedBy:"effect"})}finally{await Promise.all(P),j.abort(jee),a(w),w.pending.delete(j)}},g=Pee(e,n);return{middleware:w=>E=>S=>{if(!$6(S))return E(S);if(d5.match(S))return f(S.payload);if(Dee.match(S)){g();return}if(f5.match(S))return h(S.payload);let A=w.getState();const j=()=>{if(A===QO)throw new Error(xa(23));return A};let I;try{if(I=E(S),e.size>0){const P=w.getState(),H=Array.from(e.values());for(const R of H){let F=!1;try{F=R.predicate(S,P,A)}catch(k){F=!1,JO(l,k,{raisedBy:"predicate"})}F&&p(R,S,w,j)}}}finally{A=QO}return I},startListening:f,stopListening:h,clearListeners:g}};function xa(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Ree={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},h5=ea({name:"chartLayout",initialState:Ree,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,a,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(a=e.payload.bottom)!==null&&a!==void 0?a:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Mee,setLayout:Lee,setChartSize:Vee,setScale:Uee}=h5.actions,zee=h5.reducer;function m5(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function dn(t){return Number.isFinite(t)}function fl(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function eP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function $u(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eP(Object(n),!0).forEach(function(r){$ee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ee(t,e,n){return(e=Bee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bee(t){var e=Fee(t,"string");return typeof e=="symbol"?e:e+""}function Fee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ut(t,e,n){return sn(t)||sn(e)?n:ns(e)?Nc(t,e,n):typeof e=="function"?e(t):n}var qee=(t,e,n)=>{if(e&&n){var{width:r,height:a}=n,{align:s,verticalAlign:l,layout:u}=e;if((u==="vertical"||u==="horizontal"&&l==="middle")&&s!=="center"&&Be(t[s]))return $u($u({},t),{},{[s]:t[s]+(r||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&l!=="middle"&&Be(t[l]))return $u($u({},t),{},{[l]:t[l]+(a||0)})}return t},Sl=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",tP=1e-4,Hee=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),a=Math.min(r[0],r[1])-tP,s=Math.max(r[0],r[1])+tP,l=t(e[0]),u=t(e[n-1]);(l<a||l>s||u<a||u>s)&&t.domain([e[0],e[n-1]])}},Kee=(t,e)=>{if(!e||e.length!==2||!Be(e[0])||!Be(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),a=[t[0],t[1]];return(!Be(t[0])||t[0]<n)&&(a[0]=n),(!Be(t[1])||t[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a},Gee=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var s=0,l=0,u=0;u<n;++u){var f=t[u],h=f?.[a];if(h!=null){var p=h[1],g=h[0],x=ts(p)?g:p;x>=0?(h[0]=s,h[1]=s+x,s=p):(h[0]=l,h[1]=l+x,l=p)}}}},Yee=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var s=0,l=0;l<n;++l){var u=t[l],f=u?.[a];if(f!=null){var h=ts(f[1])?f[0]:f[1];h>=0?(f[0]=s,f[1]=s+h,s=f[1]):(f[0]=0,f[1]=0)}}}},Wee={sign:Gee,expand:mZ,none:Sc,silhouette:pZ,wiggle:gZ,positive:Yee},Xee=(t,e,n)=>{var r,a=(r=Wee[n])!==null&&r!==void 0?r:Sc,s=hZ().keys(e).value((u,f)=>Number(Ut(u,f,0))).order(a_).offset(a),l=s(t);return l.forEach((u,f)=>{u.forEach((h,p)=>{var g=Ut(t[p],e[f],0);Array.isArray(g)&&g.length===2&&Be(g[0])&&Be(g[1])&&(h[0]=g[0],h[1]=g[1])})}),l};function Qee(t){return t==null?void 0:String(t)}function nP(t){var{axis:e,ticks:n,bandSize:r,entry:a,index:s,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!sn(a[e.dataKey])){var u=w6(n,"value",a[e.dataKey]);if(u)return u.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var f=Ut(a,sn(l)?e.dataKey:l);return sn(f)?null:e.scale(f)}var rP=t=>{var{axis:e,ticks:n,offset:r,bandSize:a,entry:s,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var u=Ut(s,e.dataKey,e.scale.domain()[l]);return sn(u)?null:e.scale(u)-a/2+r},Zee=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]},Jee=t=>{var e=t.flat(2).filter(Be);return[Math.min(...e),Math.max(...e)]},ete=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],tte=(t,e,n)=>{if(t!=null)return ete(Object.keys(t).reduce((r,a)=>{var s=t[a];if(!s)return r;var{stackedData:l}=s,u=l.reduce((f,h)=>{var p=m5(h,e,n),g=Jee(p);return!dn(g[0])||!dn(g[1])?f:[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},aP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,iP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sd=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var a=kv(e,p=>p.coordinate),s=1/0,l=1,u=a.length;l<u;l++){var f=a[l],h=a[l-1];s=Math.min((f?.coordinate||0)-(h?.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function sP(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:a,name:s}=t;return $u($u({},e),{},{dataKey:n,payload:r,value:a,name:s})}function _d(t,e){if(t)return String(t);if(typeof e=="string")return e}var nte=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},rte=(t,e)=>e==="centric"?t.angle:t.radius,to=t=>t.layout.width,no=t=>t.layout.height,ate=t=>t.layout.scale,p5=t=>t.layout.margin,zv=oe(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),$v=oe(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),g5="data-recharts-item-index",y5="data-recharts-item-id",dm=60;function oP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ug(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oP(Object(n),!0).forEach(function(r){ite(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ite(t,e,n){return(e=ste(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ste(t){var e=ote(t,"string");return typeof e=="symbol"?e:e+""}function ote(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lte=t=>t.brush.height;function cte(t){var e=$v(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:dm;return n+a}return n},0)}function ute(t){var e=$v(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:dm;return n+a}return n},0)}function dte(t){var e=zv(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function fte(t){var e=zv(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Qn=oe([to,no,p5,lte,cte,ute,dte,fte,L6,LJ],(t,e,n,r,a,s,l,u,f,h)=>{var p={left:(n.left||0)+a,right:(n.right||0)+s},g={top:(n.top||0)+l,bottom:(n.bottom||0)+u},x=ug(ug({},g),p),w=x.bottom;x.bottom+=r,x=qee(x,f,h);var E=t-x.left-x.right,S=e-x.top-x.bottom;return ug(ug({brushBottom:w},x),{},{width:Math.max(E,0),height:Math.max(S,0)})}),hte=oe(Qn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),SS=oe(to,no,(t,e)=>({x:0,y:0,width:t,height:e})),mte=_.createContext(null),Lr=()=>_.useContext(mte)!=null,Bv=t=>t.brush,Fv=oe([Bv,Qn,p5],(t,e,n)=>({height:t.height,x:Be(t.x)?t.x:e.left,y:Be(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Be(t.width)?t.width:e.width})),Lw={},Vw={},Uw={},lP;function pte(){return lP||(lP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:a,edges:s}={}){let l,u=null;const f=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),p=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},g=()=>{h&&p(),S()};let x=null;const w=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,g()},r)},E=()=>{x!==null&&(clearTimeout(x),x=null)},S=()=>{E(),l=void 0,u=null},A=()=>{p()},j=function(...I){if(a?.aborted)return;l=this,u=I;const P=x==null;w(),f&&P&&p()};return j.schedule=w,j.cancel=S,j.flush=A,a?.addEventListener("abort",S,{once:!0}),j}t.debounce=e})(Uw)),Uw}var cP;function gte(){return cP||(cP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pte();function n(r,a=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:u=!0,maxWait:f}=s,h=Array(2);l&&(h[0]="leading"),u&&(h[1]="trailing");let p,g=null;const x=e.debounce(function(...S){p=r.apply(this,S),g=null},a,{edges:h}),w=function(...S){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(p=r.apply(this,S),g=Date.now(),x.cancel(),x.schedule(),p):(x.apply(this,S),p)},E=()=>(x.flush(),p);return w.cancel=x.cancel,w.flush=E,w}t.debounce=n})(Vw)),Vw}var uP;function yte(){return uP||(uP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gte();function n(r,a=0,s={}){const{leading:l=!0,trailing:u=!0}=s;return e.debounce(r,a,{leading:l,maxWait:a,trailing:u})}t.throttle=n})(Lw)),Lw}var zw,dP;function vte(){return dP||(dP=1,zw=yte().throttle),zw}var xte=vte();const bte=Js(xte);var fP=function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>a[l++]))}},v5=(t,e,n)=>{var{width:r="100%",height:a="100%",aspect:s,maxHeight:l}=n,u=Ks(r)?t:Number(r),f=Ks(a)?e:Number(a);return s&&s>0&&(u?f=u/s:f&&(u=f*s),l&&f!=null&&f>l&&(f=l)),{calculatedWidth:u,calculatedHeight:f}},wte={width:0,height:0,overflow:"visible"},_te={width:0,overflowX:"visible"},Ete={height:0,overflowY:"visible"},Ste={},Nte=t=>{var{width:e,height:n}=t,r=Ks(e),a=Ks(n);return r&&a?wte:r?_te:a?Ete:Ste};function Ate(t){var{width:e,height:n,aspect:r}=t,a=e,s=n;return a===void 0&&s===void 0?(a="100%",s="100%"):a===void 0?a=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:a,height:s}}function g_(){return g_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g_.apply(null,arguments)}function hP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function mP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hP(Object(n),!0).forEach(function(r){Tte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tte(t,e,n){return(e=jte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jte(t){var e=Cte(t,"string");return typeof e=="symbol"?e:e+""}function Cte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var x5=_.createContext({width:-1,height:-1});function kte(t){return fl(t.width)&&fl(t.height)}function b5(t){var{children:e,width:n,height:r}=t,a=_.useMemo(()=>({width:n,height:r}),[n,r]);return kte(a)?_.createElement(x5.Provider,{value:a},e):null}var NS=()=>_.useContext(x5),Ote=_.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a,height:s,minWidth:l=0,minHeight:u,maxHeight:f,children:h,debounce:p=0,id:g,className:x,onResize:w,style:E={}}=t,S=_.useRef(null),A=_.useRef();A.current=w,_.useImperativeHandle(e,()=>S.current);var[j,I]=_.useState({containerWidth:r.width,containerHeight:r.height}),P=_.useCallback((O,D)=>{I(q=>{var M=Math.round(O),U=Math.round(D);return q.containerWidth===M&&q.containerHeight===U?q:{containerWidth:M,containerHeight:U}})},[]);_.useEffect(()=>{if(S.current==null||typeof ResizeObserver>"u")return om;var O=U=>{var V,{width:we,height:Se}=U[0].contentRect;P(we,Se),(V=A.current)===null||V===void 0||V.call(A,we,Se)};p>0&&(O=bte(O,p,{trailing:!0,leading:!1}));var D=new ResizeObserver(O),{width:q,height:M}=S.current.getBoundingClientRect();return P(q,M),D.observe(S.current),()=>{D.disconnect()}},[P,p]);var{containerWidth:H,containerHeight:R}=j;fP(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:F,calculatedHeight:k}=v5(H,R,{width:a,height:s,aspect:n,maxHeight:f});return fP(F!=null&&F>0||k!=null&&k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,k,a,s,l,u,n),_.createElement("div",{id:g?"".concat(g):void 0,className:wt("recharts-responsive-container",x),style:mP(mP({},E),{},{width:a,height:s,minWidth:l,minHeight:u,maxHeight:f}),ref:S},_.createElement("div",{style:Nte({width:a,height:s})},_.createElement(b5,{width:F,height:k},h)))}),pP=_.forwardRef((t,e)=>{var n=NS();if(fl(n.width)&&fl(n.height))return t.children;var{width:r,height:a}=Ate({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:l}=v5(void 0,void 0,{width:r,height:a,aspect:t.aspect,maxHeight:t.maxHeight});return Be(s)&&Be(l)?_.createElement(b5,{width:s,height:l},t.children):_.createElement(Ote,g_({},t,{width:r,height:a,ref:e}))});function w5(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var qv=()=>{var t,e=Lr(),n=Ve(hte),r=Ve(Fv),a=(t=Ve(Bv))===null||t===void 0?void 0:t.padding;return!e||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},Pte={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Dte=()=>{var t;return(t=Ve(Qn))!==null&&t!==void 0?t:Pte},_5=()=>Ve(to),E5=()=>Ve(no),Ite=()=>Ve(t=>t.layout.margin),yt=t=>t.layout.layoutType,Ed=()=>Ve(yt),Rte=()=>{var t=Ed();return t!==void 0},Hv=t=>{var e=Kt(),n=Lr(),{width:r,height:a}=t,s=NS(),l=r,u=a;return s&&(l=s.width>0?s.width:r,u=s.height>0?s.height:a),_.useEffect(()=>{!n&&fl(l)&&fl(u)&&e(Vee({width:l,height:u}))},[e,n,l,u]),null},S5=Symbol.for("immer-nothing"),gP=Symbol.for("immer-draftable"),wa=Symbol.for("immer-state");function hi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Oh=Object.getPrototypeOf;function od(t){return!!t&&!!t[wa]}function Tc(t){return t?N5(t)||Array.isArray(t)||!!t[gP]||!!t.constructor?.[gP]||fm(t)||Gv(t):!1}var Mte=Object.prototype.constructor.toString(),yP=new WeakMap;function N5(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=yP.get(n);return r===void 0&&(r=Function.toString.call(n),yP.set(n,r)),r===Mte}function Ny(t,e,n=!0){Kv(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(a=>{e(a,t[a],t)}):t.forEach((r,a)=>e(a,r,t))}function Kv(t){const e=t[wa];return e?e.type_:Array.isArray(t)?1:fm(t)?2:Gv(t)?3:0}function y_(t,e){return Kv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function A5(t,e,n){const r=Kv(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Lte(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function fm(t){return t instanceof Map}function Gv(t){return t instanceof Set}function nc(t){return t.copy_||t.base_}function v_(t,e){if(fm(t))return new Map(t);if(Gv(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=N5(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[wa];let a=Reflect.ownKeys(r);for(let s=0;s<a.length;s++){const l=a[s],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[l]})}return Object.create(Oh(t),r)}else{const r=Oh(t);if(r!==null&&n)return{...t};const a=Object.create(r);return Object.assign(a,t)}}function AS(t,e=!1){return Yv(t)||od(t)||!Tc(t)||(Kv(t)>1&&Object.defineProperties(t,{set:dg,add:dg,clear:dg,delete:dg}),Object.freeze(t),e&&Object.values(t).forEach(n=>AS(n,!0))),t}function Vte(){hi(2)}var dg={value:Vte};function Yv(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var Ute={};function jc(t){const e=Ute[t];return e||hi(0,t),e}var Ph;function T5(){return Ph}function zte(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function vP(t,e){e&&(jc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function x_(t){b_(t),t.drafts_.forEach($te),t.drafts_=null}function b_(t){t===Ph&&(Ph=t.parent_)}function xP(t){return Ph=zte(Ph,t)}function $te(t){const e=t[wa];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function bP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[wa].modified_&&(x_(e),hi(4)),Tc(t)&&(t=Ay(e,t),e.parent_||Ty(e,t)),e.patches_&&jc("Patches").generateReplacementPatches_(n[wa].base_,t,e.patches_,e.inversePatches_)):t=Ay(e,n,[]),x_(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==S5?t:void 0}function Ay(t,e,n){if(Yv(e))return e;const r=t.immer_.shouldUseStrictIteration(),a=e[wa];if(!a)return Ny(e,(s,l)=>wP(t,a,e,s,l,n),r),e;if(a.scope_!==t)return e;if(!a.modified_)return Ty(t,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let l=s,u=!1;a.type_===3&&(l=new Set(s),s.clear(),u=!0),Ny(l,(f,h)=>wP(t,a,s,f,h,n,u),r),Ty(t,s,!1),n&&t.patches_&&jc("Patches").generatePatches_(a,n,t.patches_,t.inversePatches_)}return a.copy_}function wP(t,e,n,r,a,s,l){if(a==null||typeof a!="object"&&!l)return;const u=Yv(a);if(!(u&&!l)){if(od(a)){const f=s&&e&&e.type_!==3&&!y_(e.assigned_,r)?s.concat(r):void 0,h=Ay(t,a,f);if(A5(n,r,h),od(h))t.canAutoFreeze_=!1;else return}else l&&n.add(a);if(Tc(a)&&!u){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===a&&u)return;Ay(t,a),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(fm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Ty(t,a)}}}function Ty(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&AS(e,n)}function Bte(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:T5(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,s=TS;n&&(a=[r],s=Dh);const{revoke:l,proxy:u}=Proxy.revocable(a,s);return r.draft_=u,r.revoke_=l,u}var TS={get(t,e){if(e===wa)return t;const n=nc(t);if(!y_(n,e))return Fte(t,n,e);const r=n[e];return t.finalized_||!Tc(r)?r:r===$w(t.base_,e)?(Bw(t),t.copy_[e]=__(r,t)):r},has(t,e){return e in nc(t)},ownKeys(t){return Reflect.ownKeys(nc(t))},set(t,e,n){const r=j5(nc(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const a=$w(nc(t),e),s=a?.[wa];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Lte(n,a)&&(n!==void 0||y_(t.base_,e)))return!0;Bw(t),w_(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return $w(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Bw(t),w_(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=nc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){hi(11)},getPrototypeOf(t){return Oh(t.base_)},setPrototypeOf(){hi(12)}},Dh={};Ny(TS,(t,e)=>{Dh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Dh.deleteProperty=function(t,e){return Dh.set.call(this,t,e,void 0)};Dh.set=function(t,e,n){return TS.set.call(this,t[0],e,n,t[0])};function $w(t,e){const n=t[wa];return(n?nc(n):t)[e]}function Fte(t,e,n){const r=j5(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function j5(t,e){if(!(e in t))return;let n=Oh(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Oh(n)}}function w_(t){t.modified_||(t.modified_=!0,t.parent_&&w_(t.parent_))}function Bw(t){t.copy_||(t.copy_=v_(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var qte=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const l=this;return function(f=s,...h){return l.produce(f,p=>n.call(this,p,...h))}}typeof n!="function"&&hi(6),r!==void 0&&typeof r!="function"&&hi(7);let a;if(Tc(e)){const s=xP(this),l=__(e,void 0);let u=!0;try{a=n(l),u=!1}finally{u?x_(s):b_(s)}return vP(s,r),bP(a,s)}else if(!e||typeof e!="object"){if(a=n(e),a===void 0&&(a=e),a===S5&&(a=void 0),this.autoFreeze_&&AS(a,!0),r){const s=[],l=[];jc("Patches").generateReplacementPatches_(e,a,s,l),r(s,l)}return a}else hi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...u)=>this.produceWithPatches(l,f=>e(f,...u));let r,a;return[this.produce(e,n,(l,u)=>{r=l,a=u}),r,a]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Tc(t)||hi(8),od(t)&&(t=Hte(t));const e=xP(this),n=__(t,void 0);return n[wa].isManual_=!0,b_(e),n}finishDraft(t,e){const n=t&&t[wa];(!n||!n.isManual_)&&hi(9);const{scope_:r}=n;return vP(r,e),bP(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const a=e[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(e=e.slice(n+1));const r=jc("Patches").applyPatches_;return od(t)?r(t,e):this.produce(t,a=>r(a,e))}};function __(t,e){const n=fm(t)?jc("MapSet").proxyMap_(t,e):Gv(t)?jc("MapSet").proxySet_(t,e):Bte(t,e);return(e?e.scope_:T5()).drafts_.push(n),n}function Hte(t){return od(t)||hi(10,t),C5(t)}function C5(t){if(!Tc(t)||Yv(t))return t;const e=t[wa];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=v_(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=v_(t,!0);return Ny(n,(a,s)=>{A5(n,a,C5(s))},r),e&&(e.finalized_=!1),n}var Kte=new qte;Kte.produce;var Gte={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},k5=ea({name:"legend",initialState:Gte,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:tn()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,a=gi(t).payload.indexOf(n);a>-1&&(t.payload[a]=r)},prepare:tn()},removeLegendPayload:{reducer(t,e){var n=gi(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:tn()}}}),{setLegendSize:_P,setLegendSettings:Yte,addLegendPayload:O5,replaceLegendPayload:P5,removeLegendPayload:D5}=k5.actions,Wte=k5.reducer,Xte=["contextPayload"];function E_(){return E_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E_.apply(null,arguments)}function EP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ld(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EP(Object(n),!0).forEach(function(r){Qte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qte(t,e,n){return(e=Zte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zte(t){var e=Jte(t,"string");return typeof e=="symbol"?e:e+""}function Jte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ene(t,e){if(t==null)return{};var n,r,a=tne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function tne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function nne(t){return t.value}function rne(t){var{contextPayload:e}=t,n=ene(t,Xte),r=D6(e,t.payloadUniqBy,nne),a=ld(ld({},n),{},{payload:r});return _.isValidElement(t.content)?_.cloneElement(t.content,a):typeof t.content=="function"?_.createElement(t.content,a):_.createElement(KZ,a)}function ane(t,e,n,r,a,s){var{layout:l,align:u,verticalAlign:f}=e,h,p;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(u==="center"&&l==="vertical"?h={left:((r||0)-s.width)/2}:h=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(f==="middle"?p={top:((a||0)-s.height)/2}:p=f==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),ld(ld({},h),p)}function ine(t){var e=Kt();return _.useEffect(()=>{e(Yte(t))},[e,t]),null}function sne(t){var e=Kt();return _.useEffect(()=>(e(_P(t)),()=>{e(_P({width:0,height:0}))}),[e,t]),null}function one(t,e,n,r){return t==="vertical"&&Be(e)?{height:e}:t==="horizontal"?{width:n||r}:null}var lne={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function I5(t){var e=Xn(t,lne),n=zJ(),r=LQ(),a=Ite(),{width:s,height:l,wrapperStyle:u,portal:f}=e,[h,p]=V6([n]),g=_5(),x=E5();if(g==null||x==null)return null;var w=g-(a?.left||0)-(a?.right||0),E=one(e.layout,l,s,w),S=f?u:ld(ld({position:"absolute",width:E?.width||s||"auto",height:E?.height||l||"auto"},ane(u,e,a,g,x,h)),u),A=f??r;if(A==null||n==null)return null;var j=_.createElement("div",{className:"recharts-legend-wrapper",style:S,ref:p},_.createElement(ine,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!f&&_.createElement(sne,{width:h.width,height:h.height}),_.createElement(rne,E_({},e,E,{margin:a,chartWidth:g,chartHeight:x,contextPayload:n})));return uE.createPortal(j,A)}I5.displayName="Legend";function S_(){return S_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S_.apply(null,arguments)}function SP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Fw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(n),!0).forEach(function(r){cne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cne(t,e,n){return(e=une(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function une(t){var e=dne(t,"string");return typeof e=="symbol"?e:e+""}function dne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fne(t){return Array.isArray(t)&&ns(t[0])&&ns(t[1])?t.join(" ~ "):t}var hne=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:s,formatter:l,itemSorter:u,wrapperClassName:f,labelClassName:h,label:p,labelFormatter:g,accessibilityLayer:x=!1}=t,w=()=>{if(s&&s.length){var R={padding:0,margin:0},F=(u?kv(s,u):s).map((k,O)=>{if(k.type==="none")return null;var D=k.formatter||l||fne,{value:q,name:M}=k,U=q,V=M;if(D){var we=D(q,M,k,O,s);if(Array.isArray(we))[U,V]=we;else if(we!=null)U=we;else return null}var Se=Fw({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},r);return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:Se},ns(V)?_.createElement("span",{className:"recharts-tooltip-item-name"},V):null,ns(V)?_.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,_.createElement("span",{className:"recharts-tooltip-item-value"},U),_.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:R},F)}return null},E=Fw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),S=Fw({margin:0},a),A=!sn(p),j=A?p:"",I=wt("recharts-default-tooltip",f),P=wt("recharts-tooltip-label",h);A&&g&&s!==void 0&&s!==null&&(j=g(p,s));var H=x?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",S_({className:I,style:E},H),_.createElement("p",{className:P,style:S},_.isValidElement(j)?j:"".concat(j)),w())},zf="recharts-tooltip-wrapper",mne={visibility:"hidden"};function pne(t){var{coordinate:e,translateX:n,translateY:r}=t;return wt(zf,{["".concat(zf,"-right")]:Be(n)&&e&&Be(e.x)&&n>=e.x,["".concat(zf,"-left")]:Be(n)&&e&&Be(e.x)&&n<e.x,["".concat(zf,"-bottom")]:Be(r)&&e&&Be(e.y)&&r>=e.y,["".concat(zf,"-top")]:Be(r)&&e&&Be(e.y)&&r<e.y})}function NP(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:a,position:s,reverseDirection:l,tooltipDimension:u,viewBox:f,viewBoxDimension:h}=t;if(s&&Be(s[r]))return s[r];var p=n[r]-u-(a>0?a:0),g=n[r]+a;if(e[r])return l[r]?p:g;var x=f[r];if(x==null)return 0;if(l[r]){var w=p,E=x;return w<E?Math.max(g,x):Math.max(p,x)}if(h==null)return 0;var S=g+u,A=x+h;return S>A?Math.max(p,x):Math.max(g,x)}function gne(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function yne(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:s,tooltipBox:l,useTranslate3d:u,viewBox:f}=t,h,p,g;return l.height>0&&l.width>0&&n?(p=NP({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:l.width,viewBox:f,viewBoxDimension:f.width}),g=NP({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:l.height,viewBox:f,viewBoxDimension:f.height}),h=gne({translateX:p,translateY:g,useTranslate3d:u})):h=mne,{cssProperties:h,cssClasses:pne({translateX:p,translateY:g,coordinate:n})}}function AP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function fg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AP(Object(n),!0).forEach(function(r){N_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function N_(t,e,n){return(e=vne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vne(t){var e=xne(t,"string");return typeof e=="symbol"?e:e+""}function xne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class bne extends _.PureComponent{constructor(){super(...arguments),N_(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),N_(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:s,coordinate:l,hasPayload:u,isAnimationActive:f,offset:h,position:p,reverseDirection:g,useTranslate3d:x,viewBox:w,wrapperStyle:E,lastBoundingBox:S,innerRef:A,hasPortalFromProps:j}=this.props,{cssClasses:I,cssProperties:P}=yne({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:h,position:p,reverseDirection:g,tooltipBox:{height:S.height,width:S.width},useTranslate3d:x,viewBox:w}),H=j?{}:fg(fg({transition:f&&e?"transform ".concat(r,"ms ").concat(a):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),R=fg(fg({},H),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},E);return _.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:I,style:R,ref:A},s)}}var R5=()=>{var t;return(t=Ve(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function A_(){return A_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A_.apply(null,arguments)}function TP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function jP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TP(Object(n),!0).forEach(function(r){wne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wne(t,e,n){return(e=_ne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ne(t){var e=Ene(t,"string");return typeof e=="symbol"?e:e+""}function Ene(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CP={curveBasisClosed:nZ,curveBasisOpen:rZ,curveBasis:tZ,curveBumpX:$Q,curveBumpY:BQ,curveLinearClosed:aZ,curveLinear:jv,curveMonotoneX:iZ,curveMonotoneY:sZ,curveNatural:oZ,curveStep:lZ,curveStepAfter:uZ,curveStepBefore:cZ},jy=t=>dn(t.x)&&dn(t.y),kP=t=>t.base!=null&&jy(t.base)&&jy(t),$f=t=>t.x,Bf=t=>t.y,Sne=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(sm(t));return(n==="curveMonotone"||n==="curveBump")&&e?CP["".concat(n).concat(e==="vertical"?"Y":"X")]:CP[n]||jv},Nne=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:a,connectNulls:s=!1}=t,l=Sne(e,a),u=s?n.filter(jy):n,f;if(Array.isArray(r)){var h=n.map((w,E)=>jP(jP({},w),{},{base:r[E]}));a==="vertical"?f=ag().y(Bf).x1($f).x0(w=>w.base.x):f=ag().x($f).y1(Bf).y0(w=>w.base.y);var p=f.defined(kP).curve(l),g=s?h.filter(kP):h;return p(g)}a==="vertical"&&Be(r)?f=ag().y(Bf).x1($f).x0(r):Be(r)?f=ag().x($f).y1(Bf).y0(r):f=l6().x($f).y(Bf);var x=f.defined(jy).curve(l);return x(u)},jS=t=>{var{className:e,points:n,path:r,pathRef:a}=t,s=Ed();if((!n||!n.length)&&!r)return null;var l={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},u=n&&n.length?Nne(l):r;return _.createElement("path",A_({},Ya(t),pS(t),{className:wt("recharts-curve",e),d:u===null?void 0:u,ref:a}))},Ane=["x","y","top","left","width","height","className"];function T_(){return T_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T_.apply(null,arguments)}function OP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Tne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OP(Object(n),!0).forEach(function(r){jne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jne(t,e,n){return(e=Cne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cne(t){var e=kne(t,"string");return typeof e=="symbol"?e:e+""}function kne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function One(t,e){if(t==null)return{};var n,r,a=Pne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Pne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Dne=(t,e,n,r,a,s)=>"M".concat(t,",").concat(a,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),Ine=t=>{var{x:e=0,y:n=0,top:r=0,left:a=0,width:s=0,height:l=0,className:u}=t,f=One(t,Ane),h=Tne({x:e,y:n,top:r,left:a,width:s,height:l},f);return!Be(e)||!Be(n)||!Be(s)||!Be(l)||!Be(r)||!Be(a)?null:_.createElement("path",T_({},Rr(h),{className:wt("recharts-cross",u),d:Dne(e,n,s,l,r,a)}))};function Rne(t,e,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-a,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function PP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function DP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PP(Object(n),!0).forEach(function(r){Mne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mne(t,e,n){return(e=Lne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lne(t){var e=Vne(t,"string");return typeof e=="symbol"?e:e+""}function Vne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Une=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),M5=(t,e,n)=>t.map(r=>"".concat(Une(r)," ").concat(e,"ms ").concat(n)).join(","),zne=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(a=>r.includes(a))),Ih=(t,e)=>Object.keys(e).reduce((n,r)=>DP(DP({},n),{},{[r]:t(r,e[r])}),{});function IP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IP(Object(n),!0).forEach(function(r){$ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ne(t,e,n){return(e=Bne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bne(t){var e=Fne(t,"string");return typeof e=="symbol"?e:e+""}function Fne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cy=(t,e,n)=>t+(e-t)*n,j_=t=>{var{from:e,to:n}=t;return e!==n},L5=(t,e,n)=>{var r=Ih((a,s)=>{if(j_(s)){var[l,u]=t(s.from,s.to,s.velocity);return Hn(Hn({},s),{},{from:l,velocity:u})}return s},e);return n<1?Ih((a,s)=>j_(s)&&r[a]!=null?Hn(Hn({},s),{},{velocity:Cy(s.velocity,r[a].velocity,n),from:Cy(s.from,r[a].from,n)}):s,e):L5(t,r,n-1)};function qne(t,e,n,r,a,s){var l,u=r.reduce((x,w)=>Hn(Hn({},x),{},{[w]:{from:t[w],velocity:0,to:e[w]}}),{}),f=()=>Ih((x,w)=>w.from,u),h=()=>!Object.values(u).filter(j_).length,p=null,g=x=>{l||(l=x);var w=x-l,E=w/n.dt;u=L5(n,u,E),a(Hn(Hn(Hn({},t),e),f())),l=x,h()||(p=s.setTimeout(g))};return()=>(p=s.setTimeout(g),()=>{var x;(x=p)===null||x===void 0||x()})}function Hne(t,e,n,r,a,s,l){var u=null,f=a.reduce((g,x)=>{var w=t[x],E=e[x];return w==null||E==null?g:Hn(Hn({},g),{},{[x]:[w,E]})},{}),h,p=g=>{h||(h=g);var x=(g-h)/r,w=Ih((S,A)=>Cy(...A,n(x)),f);if(s(Hn(Hn(Hn({},t),e),w)),x<1)u=l.setTimeout(p);else{var E=Ih((S,A)=>Cy(...A,n(1)),f);s(Hn(Hn(Hn({},t),e),E))}};return()=>(u=l.setTimeout(p),()=>{var g;(g=u)===null||g===void 0||g()})}const Kne=(t,e,n,r,a,s)=>{var l=zne(t,e);return n==null?()=>(a(Hn(Hn({},t),e)),()=>{}):n.isStepper===!0?qne(t,e,n,l,a,s):Hne(t,e,n,r,l,a,s)};var ky=1e-4,V5=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],U5=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),RP=(t,e)=>n=>{var r=V5(t,e);return U5(r,n)},Gne=(t,e)=>n=>{var r=V5(t,e),a=[...r.map((s,l)=>s*l).slice(1),0];return U5(a,n)},Yne=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var a=r.map(s=>parseFloat(s));return[a[0],a[1],a[2],a[3]]},Wne=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=Yne(n[0]);if(a)return a}}return n.length===4?n:[0,0,1,1]},Xne=(t,e,n,r)=>{var a=RP(t,n),s=RP(e,r),l=Gne(t,n),u=h=>h>1?1:h<0?0:h,f=h=>{for(var p=h>1?1:h,g=p,x=0;x<8;++x){var w=a(g)-p,E=l(g);if(Math.abs(w-p)<ky||E<ky)return s(g);g=u(g-w/E)}return s(g)};return f.isStepper=!1,f},MP=function(){return Xne(...Wne(...arguments))},Qne=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=e,s=(l,u,f)=>{var h=-(l-u)*n,p=f*r,g=f+(h-p)*a/1e3,x=f*a/1e3+l;return Math.abs(x-u)<ky&&Math.abs(g)<ky?[u,0]:[x,g]};return s.isStepper=!0,s.dt=a,s},Zne=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return MP(t);case"spring":return Qne();default:if(t.split("(")[0]==="cubic-bezier")return MP(t)}return typeof t=="function"?t:null};function Jne(t){var e,n=()=>null,r=!1,a=null,s=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[f,...h]=u;if(typeof f=="number"){a=t.setTimeout(s.bind(null,h),f);return}s(f),a=t.setTimeout(s.bind(null,h));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,a&&(a(),a=null),s(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class ere{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,s=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function tre(){return Jne(new ere)}var nre=_.createContext(tre);function rre(t,e){var n=_.useContext(nre);return _.useMemo(()=>e??n(t),[t,e,n])}var are=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Wv={isSsr:are()},ire={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},LP={t:0},qw={t:1};function hm(t){var e=Xn(t,ire),{isActive:n,canBegin:r,duration:a,easing:s,begin:l,onAnimationEnd:u,onAnimationStart:f,children:h}=e,p=n==="auto"?!Wv.isSsr:n,g=rre(e.animationId,e.animationManager),[x,w]=_.useState(p?LP:qw),E=_.useRef(null);return _.useEffect(()=>{p||w(qw)},[p]),_.useEffect(()=>{if(!p||!r)return om;var S=Kne(LP,qw,Zne(s),a,w,g.getTimeoutController()),A=()=>{E.current=S()};return g.start([f,l,A,a,u]),()=>{g.stop(),E.current&&E.current(),u()}},[p,r,a,s,l,f,u,g]),h(x.t)}function mm(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=_.useRef(Th(e)),r=_.useRef(t);return r.current!==t&&(n.current=Th(e),r.current=t),n.current}var sre=["radius"],ore=["radius"],VP,UP,zP,$P,BP,FP,qP,HP,KP,GP;function YP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function WP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YP(Object(n),!0).forEach(function(r){lre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lre(t,e,n){return(e=cre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cre(t){var e=ure(t,"string");return typeof e=="symbol"?e:e+""}function ure(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oy(){return Oy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oy.apply(null,arguments)}function XP(t,e){if(t==null)return{};var n,r,a=dre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function dre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function zi(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var QP=(t,e,n,r,a)=>{var s=Zo(n),l=Zo(r),u=Math.min(Math.abs(s)/2,Math.abs(l)/2),f=l>=0?1:-1,h=s>=0?1:-1,p=l>=0&&s>=0||l<0&&s<0?1:0,g;if(u>0&&a instanceof Array){for(var x=[0,0,0,0],w=0,E=4;w<E;w++)x[w]=a[w]>u?u:a[w];g=gn(VP||(VP=zi(["M",",",""])),t,e+f*x[0]),x[0]>0&&(g+=gn(UP||(UP=zi(["A ",",",",0,0,",",",",",""])),x[0],x[0],p,t+h*x[0],e)),g+=gn(zP||(zP=zi(["L ",",",""])),t+n-h*x[1],e),x[1]>0&&(g+=gn($P||($P=zi(["A ",",",",0,0,",`,
        `,",",""])),x[1],x[1],p,t+n,e+f*x[1])),g+=gn(BP||(BP=zi(["L ",",",""])),t+n,e+r-f*x[2]),x[2]>0&&(g+=gn(FP||(FP=zi(["A ",",",",0,0,",`,
        `,",",""])),x[2],x[2],p,t+n-h*x[2],e+r)),g+=gn(qP||(qP=zi(["L ",",",""])),t+h*x[3],e+r),x[3]>0&&(g+=gn(HP||(HP=zi(["A ",",",",0,0,",`,
        `,",",""])),x[3],x[3],p,t,e+r-f*x[3])),g+="Z"}else if(u>0&&a===+a&&a>0){var S=Math.min(u,a);g=gn(KP||(KP=zi(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+f*S,S,S,p,t+h*S,e,t+n-h*S,e,S,S,p,t+n,e+f*S,t+n,e+r-f*S,S,S,p,t+n-h*S,e+r,t+h*S,e+r,S,S,p,t,e+r-f*S)}else g=gn(GP||(GP=zi(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return g},ZP={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},z5=t=>{var e=Xn(t,ZP),n=_.useRef(null),[r,a]=_.useState(-1);_.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Y=n.current.getTotalLength();Y&&a(Y)}catch{}},[]);var{x:s,y:l,width:u,height:f,radius:h,className:p}=e,{animationEasing:g,animationDuration:x,animationBegin:w,isAnimationActive:E,isUpdateAnimationActive:S}=e,A=_.useRef(u),j=_.useRef(f),I=_.useRef(s),P=_.useRef(l),H=_.useMemo(()=>({x:s,y:l,width:u,height:f,radius:h}),[s,l,u,f,h]),R=mm(H,"rectangle-");if(s!==+s||l!==+l||u!==+u||f!==+f||u===0||f===0)return null;var F=wt("recharts-rectangle",p);if(!S){var k=Rr(e),{radius:O}=k,D=XP(k,sre);return _.createElement("path",Oy({},D,{x:Zo(s),y:Zo(l),width:Zo(u),height:Zo(f),radius:typeof h=="number"?h:void 0,className:F,d:QP(s,l,u,f,h)}))}var q=A.current,M=j.current,U=I.current,V=P.current,we="0px ".concat(r===-1?1:r,"px"),Se="".concat(r,"px 0px"),Z=M5(["strokeDasharray"],x,typeof g=="string"?g:ZP.animationEasing);return _.createElement(hm,{animationId:R,key:R,canBegin:r>0,duration:x,easing:g,isActive:S,begin:w},Y=>{var J=nn(q,u,Y),he=nn(M,f,Y),Te=nn(U,s,Y),$=nn(V,l,Y);n.current&&(A.current=J,j.current=he,I.current=Te,P.current=$);var z;E?Y>0?z={transition:Z,strokeDasharray:Se}:z={strokeDasharray:we}:z={strokeDasharray:Se};var K=Rr(e),{radius:re}=K,ge=XP(K,ore);return _.createElement("path",Oy({},ge,{radius:typeof h=="number"?h:void 0,className:F,d:QP(Te,$,J,he,h),ref:n,style:WP(WP({},z),e.style)}))})};function JP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function eD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JP(Object(n),!0).forEach(function(r){fre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fre(t,e,n){return(e=hre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hre(t){var e=mre(t,"string");return typeof e=="symbol"?e:e+""}function mre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Py=Math.PI/180,pre=t=>t*180/Math.PI,Un=(t,e,n,r)=>({x:t+Math.cos(-Py*r)*n,y:e+Math.sin(-Py*r)*n}),$5=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},gre=(t,e)=>{var{x:n,y:r}=t,{x:a,y:s}=e;return Math.sqrt((n-a)**2+(r-s)**2)},yre=(t,e)=>{var{x:n,y:r}=t,{cx:a,cy:s}=e,l=gre({x:n,y:r},{x:a,y:s});if(l<=0)return{radius:l,angle:0};var u=(n-a)/l,f=Math.acos(u);return r>s&&(f=2*Math.PI-f),{radius:l,angle:pre(f),angleInRadian:f}},vre=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),a=Math.floor(n/360),s=Math.min(r,a);return{startAngle:e-s*360,endAngle:n-s*360}},xre=(t,e)=>{var{startAngle:n,endAngle:r}=e,a=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(a,s);return t+l*360},bre=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:a,angle:s}=yre({x:n,y:r},e),{innerRadius:l,outerRadius:u}=e;if(a<l||a>u||a===0)return null;var{startAngle:f,endAngle:h}=vre(e),p=s,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?eD(eD({},e),{},{radius:a,angle:xre(p,e)}):null};function B5(t){var{cx:e,cy:n,radius:r,startAngle:a,endAngle:s}=t,l=Un(e,n,r,a),u=Un(e,n,r,s);return{points:[l,u],cx:e,cy:n,radius:r,startAngle:a,endAngle:s}}var tD,nD,rD,aD,iD,sD,oD;function C_(){return C_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C_.apply(null,arguments)}function sc(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var wre=(t,e)=>{var n=xr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},hg=t=>{var{cx:e,cy:n,radius:r,angle:a,sign:s,isExternal:l,cornerRadius:u,cornerIsExternal:f}=t,h=u*(l?1:-1)+r,p=Math.asin(u/h)/Py,g=f?a:a+s*p,x=Un(e,n,h,g),w=Un(e,n,r,g),E=f?a-s*p:a,S=Un(e,n,h*Math.cos(p*Py),E);return{center:x,circleTangency:w,lineTangency:S,theta:p}},F5=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:s,endAngle:l}=t,u=wre(s,l),f=s+u,h=Un(e,n,a,s),p=Un(e,n,a,f),g=gn(tD||(tD=sc(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),h.x,h.y,a,a,+(Math.abs(u)>180),+(s>f),p.x,p.y);if(r>0){var x=Un(e,n,r,s),w=Un(e,n,r,f);g+=gn(nD||(nD=sc(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),w.x,w.y,r,r,+(Math.abs(u)>180),+(s<=f),x.x,x.y)}else g+=gn(rD||(rD=sc(["L ",","," Z"])),e,n);return g},_re=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:h}=t,p=xr(h-f),{circleTangency:g,lineTangency:x,theta:w}=hg({cx:e,cy:n,radius:a,angle:f,sign:p,cornerRadius:s,cornerIsExternal:u}),{circleTangency:E,lineTangency:S,theta:A}=hg({cx:e,cy:n,radius:a,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:u}),j=u?Math.abs(f-h):Math.abs(f-h)-w-A;if(j<0)return l?gn(aD||(aD=sc(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),x.x,x.y,s,s,s*2,s,s,-s*2):F5({cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:f,endAngle:h});var I=gn(iD||(iD=sc(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),x.x,x.y,s,s,+(p<0),g.x,g.y,a,a,+(j>180),+(p<0),E.x,E.y,s,s,+(p<0),S.x,S.y);if(r>0){var{circleTangency:P,lineTangency:H,theta:R}=hg({cx:e,cy:n,radius:r,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:F,lineTangency:k,theta:O}=hg({cx:e,cy:n,radius:r,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),D=u?Math.abs(f-h):Math.abs(f-h)-R-O;if(D<0&&s===0)return"".concat(I,"L").concat(e,",").concat(n,"Z");I+=gn(sD||(sD=sc(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),k.x,k.y,s,s,+(p<0),F.x,F.y,r,r,+(D>180),+(p>0),P.x,P.y,s,s,+(p<0),H.x,H.y)}else I+=gn(oD||(oD=sc(["L",",","Z"])),e,n);return I},Ere={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},q5=t=>{var e=Xn(t,Ere),{cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:f,startAngle:h,endAngle:p,className:g}=e;if(s<a||h===p)return null;var x=wt("recharts-sector",g),w=s-a,E=Ar(l,w,0,!0),S;return E>0&&Math.abs(h-p)<360?S=_re({cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:Math.min(E,w/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:h,endAngle:p}):S=F5({cx:n,cy:r,innerRadius:a,outerRadius:s,startAngle:h,endAngle:p}),_.createElement("path",C_({},Rr(e),{className:x,d:S}))};function Sre(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(E6(e)){if(t==="centric"){var{cx:r,cy:a,innerRadius:s,outerRadius:l,angle:u}=e,f=Un(r,a,s,u),h=Un(r,a,l,u);return[{x:f.x,y:f.y},{x:h.x,y:h.y}]}return B5(e)}}var Hw={},Kw={},Gw={},lD;function Nre(){return lD||(lD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=R6();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(Gw)),Gw}var cD;function Are(){return cD||(cD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Nre();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(Kw)),Kw}var uD;function Tre(){return uD||(uD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=M6(),n=Are();function r(a,s,l){l&&typeof l!="number"&&e.isIterateeCall(a,s,l)&&(s=l=void 0),a=n.toFinite(a),s===void 0?(s=a,a=0):s=n.toFinite(s),l=l===void 0?a<s?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((s-a)/(l||1)),0),f=new Array(u);for(let h=0;h<u;h++)f[h]=a,a+=l;return f}t.range=r})(Hw)),Hw}var Yw,dD;function jre(){return dD||(dD=1,Yw=Tre().range),Yw}var Cre=jre();const H5=Js(Cre);function il(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function kre(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function CS(t){let e,n,r;t.length!==2?(e=il,n=(u,f)=>il(t(u),f),r=(u,f)=>t(u)-f):(e=t===il||t===kre?t:Ore,n=t,r=t);function a(u,f,h=0,p=u.length){if(h<p){if(e(f,f)!==0)return p;do{const g=h+p>>>1;n(u[g],f)<0?h=g+1:p=g}while(h<p)}return h}function s(u,f,h=0,p=u.length){if(h<p){if(e(f,f)!==0)return p;do{const g=h+p>>>1;n(u[g],f)<=0?h=g+1:p=g}while(h<p)}return h}function l(u,f,h=0,p=u.length){const g=a(u,f,h,p-1);return g>h&&r(u[g-1],f)>-r(u[g],f)?g-1:g}return{left:a,center:l,right:s}}function Ore(){return 0}function K5(t){return t===null?NaN:+t}function*Pre(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Dre=CS(il),pm=Dre.right;CS(K5).center;class fD extends Map{constructor(e,n=Mre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(hD(this,e))}has(e){return super.has(hD(this,e))}set(e,n){return super.set(Ire(this,e),n)}delete(e){return super.delete(Rre(this,e))}}function hD({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Ire({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Rre({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Mre(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Lre(t=il){if(t===il)return G5;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function G5(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Vre=Math.sqrt(50),Ure=Math.sqrt(10),zre=Math.sqrt(2);function Dy(t,e,n){const r=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(r)),s=r/Math.pow(10,a),l=s>=Vre?10:s>=Ure?5:s>=zre?2:1;let u,f,h;return a<0?(h=Math.pow(10,-a)/l,u=Math.round(t*h),f=Math.round(e*h),u/h<t&&++u,f/h>e&&--f,h=-h):(h=Math.pow(10,a)*l,u=Math.round(t/h),f=Math.round(e/h),u*h<t&&++u,f*h>e&&--f),f<u&&.5<=n&&n<2?Dy(t,e,n*2):[u,f,h]}function k_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[a,s,l]=r?Dy(e,t,n):Dy(t,e,n);if(!(s>=a))return[];const u=s-a+1,f=new Array(u);if(r)if(l<0)for(let h=0;h<u;++h)f[h]=(s-h)/-l;else for(let h=0;h<u;++h)f[h]=(s-h)*l;else if(l<0)for(let h=0;h<u;++h)f[h]=(a+h)/-l;else for(let h=0;h<u;++h)f[h]=(a+h)*l;return f}function O_(t,e,n){return e=+e,t=+t,n=+n,Dy(t,e,n)[2]}function P_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,a=r?O_(e,t,n):O_(t,e,n);return(r?-1:1)*(a<0?1/-a:a)}function mD(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function pD(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Y5(t,e,n=0,r=1/0,a){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(a=a===void 0?G5:Lre(a);r>n;){if(r-n>600){const f=r-n+1,h=e-n+1,p=Math.log(f),g=.5*Math.exp(2*p/3),x=.5*Math.sqrt(p*g*(f-g)/f)*(h-f/2<0?-1:1),w=Math.max(n,Math.floor(e-h*g/f+x)),E=Math.min(r,Math.floor(e+(f-h)*g/f+x));Y5(t,e,w,E,a)}const s=t[e];let l=n,u=r;for(Ff(t,n,e),a(t[r],s)>0&&Ff(t,n,r);l<u;){for(Ff(t,l,u),++l,--u;a(t[l],s)<0;)++l;for(;a(t[u],s)>0;)--u}a(t[n],s)===0?Ff(t,n,u):(++u,Ff(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function Ff(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function $re(t,e,n){if(t=Float64Array.from(Pre(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return pD(t);if(e>=1)return mD(t);var r,a=(r-1)*e,s=Math.floor(a),l=mD(Y5(t,s).subarray(0,s+1)),u=pD(t.subarray(s+1));return l+(u-l)*(a-s)}}function Bre(t,e,n=K5){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,s=Math.floor(a),l=+n(t[s],s,t),u=+n(t[s+1],s+1,t);return l+(u-l)*(a-s)}}function Fre(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(a);++r<a;)s[r]=t+r*n;return s}function Ja(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ro(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const D_=Symbol("implicit");function kS(){var t=new fD,e=[],n=[],r=D_;function a(s){let l=t.get(s);if(l===void 0){if(r!==D_)return r;t.set(s,l=e.push(s)-1)}return n[l%n.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new fD;for(const l of s)t.has(l)||t.set(l,e.push(l)-1);return a},a.range=function(s){return arguments.length?(n=Array.from(s),a):n.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return kS(e,n).unknown(r)},Ja.apply(a,arguments),a}function OS(){var t=kS().unknown(void 0),e=t.domain,n=t.range,r=0,a=1,s,l,u=!1,f=0,h=0,p=.5;delete t.unknown;function g(){var x=e().length,w=a<r,E=w?a:r,S=w?r:a;s=(S-E)/Math.max(1,x-f+h*2),u&&(s=Math.floor(s)),E+=(S-E-s*(x-f))*p,l=s*(1-f),u&&(E=Math.round(E),l=Math.round(l));var A=Fre(x).map(function(j){return E+s*j});return n(w?A.reverse():A)}return t.domain=function(x){return arguments.length?(e(x),g()):e()},t.range=function(x){return arguments.length?([r,a]=x,r=+r,a=+a,g()):[r,a]},t.rangeRound=function(x){return[r,a]=x,r=+r,a=+a,u=!0,g()},t.bandwidth=function(){return l},t.step=function(){return s},t.round=function(x){return arguments.length?(u=!!x,g()):u},t.padding=function(x){return arguments.length?(f=Math.min(1,h=+x),g()):f},t.paddingInner=function(x){return arguments.length?(f=Math.min(1,x),g()):f},t.paddingOuter=function(x){return arguments.length?(h=+x,g()):h},t.align=function(x){return arguments.length?(p=Math.max(0,Math.min(1,x)),g()):p},t.copy=function(){return OS(e(),[r,a]).round(u).paddingInner(f).paddingOuter(h).align(p)},Ja.apply(g(),arguments)}function W5(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return W5(e())},t}function qre(){return W5(OS.apply(null,arguments).paddingInner(1))}function PS(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function X5(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function gm(){}var Rh=.7,Iy=1/Rh,Wu="\\s*([+-]?\\d+)\\s*",Mh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Hre=/^#([0-9a-f]{3,8})$/,Kre=new RegExp(`^rgb\\(${Wu},${Wu},${Wu}\\)$`),Gre=new RegExp(`^rgb\\(${Xi},${Xi},${Xi}\\)$`),Yre=new RegExp(`^rgba\\(${Wu},${Wu},${Wu},${Mh}\\)$`),Wre=new RegExp(`^rgba\\(${Xi},${Xi},${Xi},${Mh}\\)$`),Xre=new RegExp(`^hsl\\(${Mh},${Xi},${Xi}\\)$`),Qre=new RegExp(`^hsla\\(${Mh},${Xi},${Xi},${Mh}\\)$`),gD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};PS(gm,Lh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:yD,formatHex:yD,formatHex8:Zre,formatHsl:Jre,formatRgb:vD,toString:vD});function yD(){return this.rgb().formatHex()}function Zre(){return this.rgb().formatHex8()}function Jre(){return Q5(this).formatHsl()}function vD(){return this.rgb().formatRgb()}function Lh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Hre.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?xD(e):n===3?new Xr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?mg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?mg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Kre.exec(t))?new Xr(e[1],e[2],e[3],1):(e=Gre.exec(t))?new Xr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Yre.exec(t))?mg(e[1],e[2],e[3],e[4]):(e=Wre.exec(t))?mg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Xre.exec(t))?_D(e[1],e[2]/100,e[3]/100,1):(e=Qre.exec(t))?_D(e[1],e[2]/100,e[3]/100,e[4]):gD.hasOwnProperty(t)?xD(gD[t]):t==="transparent"?new Xr(NaN,NaN,NaN,0):null}function xD(t){return new Xr(t>>16&255,t>>8&255,t&255,1)}function mg(t,e,n,r){return r<=0&&(t=e=n=NaN),new Xr(t,e,n,r)}function eae(t){return t instanceof gm||(t=Lh(t)),t?(t=t.rgb(),new Xr(t.r,t.g,t.b,t.opacity)):new Xr}function I_(t,e,n,r){return arguments.length===1?eae(t):new Xr(t,e,n,r??1)}function Xr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}PS(Xr,I_,X5(gm,{brighter(t){return t=t==null?Iy:Math.pow(Iy,t),new Xr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Rh:Math.pow(Rh,t),new Xr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Xr(hc(this.r),hc(this.g),hc(this.b),Ry(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bD,formatHex:bD,formatHex8:tae,formatRgb:wD,toString:wD}));function bD(){return`#${oc(this.r)}${oc(this.g)}${oc(this.b)}`}function tae(){return`#${oc(this.r)}${oc(this.g)}${oc(this.b)}${oc((isNaN(this.opacity)?1:this.opacity)*255)}`}function wD(){const t=Ry(this.opacity);return`${t===1?"rgb(":"rgba("}${hc(this.r)}, ${hc(this.g)}, ${hc(this.b)}${t===1?")":`, ${t})`}`}function Ry(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function hc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function oc(t){return t=hc(t),(t<16?"0":"")+t.toString(16)}function _D(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new mi(t,e,n,r)}function Q5(t){if(t instanceof mi)return new mi(t.h,t.s,t.l,t.opacity);if(t instanceof gm||(t=Lh(t)),!t)return new mi;if(t instanceof mi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),s=Math.max(e,n,r),l=NaN,u=s-a,f=(s+a)/2;return u?(e===s?l=(n-r)/u+(n<r)*6:n===s?l=(r-e)/u+2:l=(e-n)/u+4,u/=f<.5?s+a:2-s-a,l*=60):u=f>0&&f<1?0:l,new mi(l,u,f,t.opacity)}function nae(t,e,n,r){return arguments.length===1?Q5(t):new mi(t,e,n,r??1)}function mi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}PS(mi,nae,X5(gm,{brighter(t){return t=t==null?Iy:Math.pow(Iy,t),new mi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Rh:Math.pow(Rh,t),new mi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new Xr(Ww(t>=240?t-240:t+120,a,r),Ww(t,a,r),Ww(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new mi(ED(this.h),pg(this.s),pg(this.l),Ry(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ry(this.opacity);return`${t===1?"hsl(":"hsla("}${ED(this.h)}, ${pg(this.s)*100}%, ${pg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ED(t){return t=(t||0)%360,t<0?t+360:t}function pg(t){return Math.max(0,Math.min(1,t||0))}function Ww(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const DS=t=>()=>t;function rae(t,e){return function(n){return t+n*e}}function aae(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function iae(t){return(t=+t)==1?Z5:function(e,n){return n-e?aae(e,n,t):DS(isNaN(e)?n:e)}}function Z5(t,e){var n=e-t;return n?rae(t,n):DS(isNaN(t)?e:t)}const SD=(function t(e){var n=iae(e);function r(a,s){var l=n((a=I_(a)).r,(s=I_(s)).r),u=n(a.g,s.g),f=n(a.b,s.b),h=Z5(a.opacity,s.opacity);return function(p){return a.r=l(p),a.g=u(p),a.b=f(p),a.opacity=h(p),a+""}}return r.gamma=t,r})(1);function sae(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(s){for(a=0;a<n;++a)r[a]=t[a]*(1-s)+e[a]*s;return r}}function oae(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function lae(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)a[l]=Sd(t[l],e[l]);for(;l<n;++l)s[l]=e[l];return function(u){for(l=0;l<r;++l)s[l]=a[l](u);return s}}function cae(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function My(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function uae(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=Sd(t[a],e[a]):r[a]=e[a];return function(s){for(a in n)r[a]=n[a](s);return r}}var R_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xw=new RegExp(R_.source,"g");function dae(t){return function(){return t}}function fae(t){return function(e){return t(e)+""}}function hae(t,e){var n=R_.lastIndex=Xw.lastIndex=0,r,a,s,l=-1,u=[],f=[];for(t=t+"",e=e+"";(r=R_.exec(t))&&(a=Xw.exec(e));)(s=a.index)>n&&(s=e.slice(n,s),u[l]?u[l]+=s:u[++l]=s),(r=r[0])===(a=a[0])?u[l]?u[l]+=a:u[++l]=a:(u[++l]=null,f.push({i:l,x:My(r,a)})),n=Xw.lastIndex;return n<e.length&&(s=e.slice(n),u[l]?u[l]+=s:u[++l]=s),u.length<2?f[0]?fae(f[0].x):dae(e):(e=f.length,function(h){for(var p=0,g;p<e;++p)u[(g=f[p]).i]=g.x(h);return u.join("")})}function Sd(t,e){var n=typeof e,r;return e==null||n==="boolean"?DS(e):(n==="number"?My:n==="string"?(r=Lh(e))?(e=r,SD):hae:e instanceof Lh?SD:e instanceof Date?cae:oae(e)?sae:Array.isArray(e)?lae:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?uae:My)(t,e)}function IS(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function mae(t,e){e===void 0&&(e=t,t=Sd);for(var n=0,r=e.length-1,a=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(a,a=e[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[u](l-u)}}function pae(t){return function(){return t}}function Ly(t){return+t}var ND=[0,1];function Or(t){return t}function M_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:pae(isNaN(e)?NaN:.5)}function gae(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function yae(t,e,n){var r=t[0],a=t[1],s=e[0],l=e[1];return a<r?(r=M_(a,r),s=n(l,s)):(r=M_(r,a),s=n(s,l)),function(u){return s(r(u))}}function vae(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),s=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)a[l]=M_(t[l],t[l+1]),s[l]=n(e[l],e[l+1]);return function(u){var f=pm(t,u,1,r)-1;return s[f](a[f](u))}}function ym(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Xv(){var t=ND,e=ND,n=Sd,r,a,s,l=Or,u,f,h;function p(){var x=Math.min(t.length,e.length);return l!==Or&&(l=gae(t[0],t[x-1])),u=x>2?vae:yae,f=h=null,g}function g(x){return x==null||isNaN(x=+x)?s:(f||(f=u(t.map(r),e,n)))(r(l(x)))}return g.invert=function(x){return l(a((h||(h=u(e,t.map(r),My)))(x)))},g.domain=function(x){return arguments.length?(t=Array.from(x,Ly),p()):t.slice()},g.range=function(x){return arguments.length?(e=Array.from(x),p()):e.slice()},g.rangeRound=function(x){return e=Array.from(x),n=IS,p()},g.clamp=function(x){return arguments.length?(l=x?!0:Or,p()):l!==Or},g.interpolate=function(x){return arguments.length?(n=x,p()):n},g.unknown=function(x){return arguments.length?(s=x,g):s},function(x,w){return r=x,a=w,p()}}function RS(){return Xv()(Or,Or)}function xae(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Vy(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function cd(t){return t=Vy(Math.abs(t)),t?t[1]:NaN}function bae(t,e){return function(n,r){for(var a=n.length,s=[],l=0,u=t[0],f=0;a>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),s.push(n.substring(a-=u,a+u)),!((f+=u+1)>r));)u=t[l=(l+1)%t.length];return s.reverse().join(e)}}function wae(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var _ae=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vh(t){if(!(e=_ae.exec(t)))throw new Error("invalid format: "+t);var e;return new MS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Vh.prototype=MS.prototype;function MS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}MS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Eae(t){e:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var J5;function Sae(t,e){var n=Vy(t,e);if(!n)return t+"";var r=n[0],a=n[1],s=a-(J5=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Vy(t,Math.max(0,e+s-1))[0]}function AD(t,e){var n=Vy(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const TD={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:xae,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>AD(t*100,e),r:AD,s:Sae,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function jD(t){return t}var CD=Array.prototype.map,kD=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Nae(t){var e=t.grouping===void 0||t.thousands===void 0?jD:bae(CD.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?jD:wae(CD.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function h(g){g=Vh(g);var x=g.fill,w=g.align,E=g.sign,S=g.symbol,A=g.zero,j=g.width,I=g.comma,P=g.precision,H=g.trim,R=g.type;R==="n"?(I=!0,R="g"):TD[R]||(P===void 0&&(P=12),H=!0,R="g"),(A||x==="0"&&w==="=")&&(A=!0,x="0",w="=");var F=S==="$"?n:S==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",k=S==="$"?r:/[%p]/.test(R)?l:"",O=TD[R],D=/[defgprs%]/.test(R);P=P===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function q(M){var U=F,V=k,we,Se,Z;if(R==="c")V=O(M)+V,M="";else{M=+M;var Y=M<0||1/M<0;if(M=isNaN(M)?f:O(Math.abs(M),P),H&&(M=Eae(M)),Y&&+M==0&&E!=="+"&&(Y=!1),U=(Y?E==="("?E:u:E==="-"||E==="("?"":E)+U,V=(R==="s"?kD[8+J5/3]:"")+V+(Y&&E==="("?")":""),D){for(we=-1,Se=M.length;++we<Se;)if(Z=M.charCodeAt(we),48>Z||Z>57){V=(Z===46?a+M.slice(we+1):M.slice(we))+V,M=M.slice(0,we);break}}}I&&!A&&(M=e(M,1/0));var J=U.length+M.length+V.length,he=J<j?new Array(j-J+1).join(x):"";switch(I&&A&&(M=e(he+M,he.length?j-V.length:1/0),he=""),w){case"<":M=U+M+V+he;break;case"=":M=U+he+M+V;break;case"^":M=he.slice(0,J=he.length>>1)+U+M+V+he.slice(J);break;default:M=he+U+M+V;break}return s(M)}return q.toString=function(){return g+""},q}function p(g,x){var w=h((g=Vh(g),g.type="f",g)),E=Math.max(-8,Math.min(8,Math.floor(cd(x)/3)))*3,S=Math.pow(10,-E),A=kD[8+E/3];return function(j){return w(S*j)+A}}return{format:h,formatPrefix:p}}var gg,LS,eL;Aae({thousands:",",grouping:[3],currency:["$",""]});function Aae(t){return gg=Nae(t),LS=gg.format,eL=gg.formatPrefix,gg}function Tae(t){return Math.max(0,-cd(Math.abs(t)))}function jae(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cd(e)/3)))*3-cd(Math.abs(t)))}function Cae(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,cd(e)-cd(t))+1}function tL(t,e,n,r){var a=P_(t,e,n),s;switch(r=Vh(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=jae(a,l))&&(r.precision=s),eL(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Cae(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Tae(a))&&(r.precision=s-(r.type==="%")*2);break}}return LS(r)}function Nl(t){var e=t.domain;return t.ticks=function(n){var r=e();return k_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var a=e();return tL(a[0],a[a.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,s=r.length-1,l=r[a],u=r[s],f,h,p=10;for(u<l&&(h=l,l=u,u=h,h=a,a=s,s=h);p-- >0;){if(h=O_(l,u,n),h===f)return r[a]=l,r[s]=u,e(r);if(h>0)l=Math.floor(l/h)*h,u=Math.ceil(u/h)*h;else if(h<0)l=Math.ceil(l*h)/h,u=Math.floor(u*h)/h;else break;f=h}return t},t}function nL(){var t=RS();return t.copy=function(){return ym(t,nL())},Ja.apply(t,arguments),Nl(t)}function rL(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Ly),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return rL(t).unknown(e)},t=arguments.length?Array.from(t,Ly):[0,1],Nl(n)}function aL(t,e){t=t.slice();var n=0,r=t.length-1,a=t[n],s=t[r],l;return s<a&&(l=n,n=r,r=l,l=a,a=s,s=l),t[n]=e.floor(a),t[r]=e.ceil(s),t}function OD(t){return Math.log(t)}function PD(t){return Math.exp(t)}function kae(t){return-Math.log(-t)}function Oae(t){return-Math.exp(-t)}function Pae(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Dae(t){return t===10?Pae:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Iae(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function DD(t){return(e,n)=>-t(-e,n)}function VS(t){const e=t(OD,PD),n=e.domain;let r=10,a,s;function l(){return a=Iae(r),s=Dae(r),n()[0]<0?(a=DD(a),s=DD(s),t(kae,Oae)):t(OD,PD),e}return e.base=function(u){return arguments.length?(r=+u,l()):r},e.domain=function(u){return arguments.length?(n(u),l()):n()},e.ticks=u=>{const f=n();let h=f[0],p=f[f.length-1];const g=p<h;g&&([h,p]=[p,h]);let x=a(h),w=a(p),E,S;const A=u==null?10:+u;let j=[];if(!(r%1)&&w-x<A){if(x=Math.floor(x),w=Math.ceil(w),h>0){for(;x<=w;++x)for(E=1;E<r;++E)if(S=x<0?E/s(-x):E*s(x),!(S<h)){if(S>p)break;j.push(S)}}else for(;x<=w;++x)for(E=r-1;E>=1;--E)if(S=x>0?E/s(-x):E*s(x),!(S<h)){if(S>p)break;j.push(S)}j.length*2<A&&(j=k_(h,p,A))}else j=k_(x,w,Math.min(w-x,A)).map(s);return g?j.reverse():j},e.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Vh(f)).precision==null&&(f.trim=!0),f=LS(f)),u===1/0)return f;const h=Math.max(1,r*u/e.ticks().length);return p=>{let g=p/s(Math.round(a(p)));return g*r<r-.5&&(g*=r),g<=h?f(p):""}},e.nice=()=>n(aL(n(),{floor:u=>s(Math.floor(a(u))),ceil:u=>s(Math.ceil(a(u)))})),e}function iL(){const t=VS(Xv()).domain([1,10]);return t.copy=()=>ym(t,iL()).base(t.base()),Ja.apply(t,arguments),t}function ID(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function RD(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function US(t){var e=1,n=t(ID(e),RD(e));return n.constant=function(r){return arguments.length?t(ID(e=+r),RD(e)):e},Nl(n)}function sL(){var t=US(Xv());return t.copy=function(){return ym(t,sL()).constant(t.constant())},Ja.apply(t,arguments)}function MD(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Rae(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Mae(t){return t<0?-t*t:t*t}function zS(t){var e=t(Or,Or),n=1;function r(){return n===1?t(Or,Or):n===.5?t(Rae,Mae):t(MD(n),MD(1/n))}return e.exponent=function(a){return arguments.length?(n=+a,r()):n},Nl(e)}function $S(){var t=zS(Xv());return t.copy=function(){return ym(t,$S()).exponent(t.exponent())},Ja.apply(t,arguments),t}function Lae(){return $S.apply(null,arguments).exponent(.5)}function LD(t){return Math.sign(t)*t*t}function Vae(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function oL(){var t=RS(),e=[0,1],n=!1,r;function a(s){var l=Vae(t(s));return isNaN(l)?r:n?Math.round(l):l}return a.invert=function(s){return t.invert(LD(s))},a.domain=function(s){return arguments.length?(t.domain(s),a):t.domain()},a.range=function(s){return arguments.length?(t.range((e=Array.from(s,Ly)).map(LD)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(n=!!s,a):n},a.clamp=function(s){return arguments.length?(t.clamp(s),a):t.clamp()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return oL(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ja.apply(a,arguments),Nl(a)}function lL(){var t=[],e=[],n=[],r;function a(){var l=0,u=Math.max(1,e.length);for(n=new Array(u-1);++l<u;)n[l-1]=Bre(t,l/u);return s}function s(l){return l==null||isNaN(l=+l)?r:e[pm(n,l)]}return s.invertExtent=function(l){var u=e.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let u of l)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(il),a()},s.range=function(l){return arguments.length?(e=Array.from(l),a()):e.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return lL().domain(t).range(e).unknown(r)},Ja.apply(s,arguments)}function cL(){var t=0,e=1,n=1,r=[.5],a=[0,1],s;function l(f){return f!=null&&f<=f?a[pm(r,f,0,n)]:s}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return l}return l.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,u()):[t,e]},l.range=function(f){return arguments.length?(n=(a=Array.from(f)).length-1,u()):a.slice()},l.invertExtent=function(f){var h=a.indexOf(f);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},l.unknown=function(f){return arguments.length&&(s=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return cL().domain([t,e]).range(a).unknown(s)},Ja.apply(Nl(l),arguments)}function uL(){var t=[.5],e=[0,1],n,r=1;function a(s){return s!=null&&s<=s?e[pm(t,s,0,r)]:n}return a.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var l=e.indexOf(s);return[t[l-1],t[l]]},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return uL().domain(t).range(e).unknown(n)},Ja.apply(a,arguments)}const Qw=new Date,Zw=new Date;function Zn(t,e,n,r){function a(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(t(s=new Date(+s)),s),a.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),a.round=s=>{const l=a(s),u=a.ceil(s);return s-l<u-s?l:u},a.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),a.range=(s,l,u)=>{const f=[];if(s=a.ceil(s),u=u==null?1:Math.floor(u),!(s<l)||!(u>0))return f;let h;do f.push(h=new Date(+s)),e(s,u),t(s);while(h<s&&s<l);return f},a.filter=s=>Zn(l=>{if(l>=l)for(;t(l),!s(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;e(l,-1),!s(l););else for(;--u>=0;)for(;e(l,1),!s(l););}),n&&(a.count=(s,l)=>(Qw.setTime(+s),Zw.setTime(+l),t(Qw),t(Zw),Math.floor(n(Qw,Zw))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(r?l=>r(l)%s===0:l=>a.count(0,l)%s===0):a)),a}const Uy=Zn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Uy.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Zn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Uy);Uy.range;const Ps=1e3,Ha=Ps*60,Ds=Ha*60,Ys=Ds*24,BS=Ys*7,VD=Ys*30,Jw=Ys*365,lc=Zn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ps)},(t,e)=>(e-t)/Ps,t=>t.getUTCSeconds());lc.range;const FS=Zn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ps)},(t,e)=>{t.setTime(+t+e*Ha)},(t,e)=>(e-t)/Ha,t=>t.getMinutes());FS.range;const qS=Zn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ha)},(t,e)=>(e-t)/Ha,t=>t.getUTCMinutes());qS.range;const HS=Zn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ps-t.getMinutes()*Ha)},(t,e)=>{t.setTime(+t+e*Ds)},(t,e)=>(e-t)/Ds,t=>t.getHours());HS.range;const KS=Zn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ds)},(t,e)=>(e-t)/Ds,t=>t.getUTCHours());KS.range;const vm=Zn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ha)/Ys,t=>t.getDate()-1);vm.range;const Qv=Zn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ys,t=>t.getUTCDate()-1);Qv.range;const dL=Zn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ys,t=>Math.floor(t/Ys));dL.range;function Lc(t){return Zn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ha)/BS)}const Zv=Lc(0),zy=Lc(1),Uae=Lc(2),zae=Lc(3),ud=Lc(4),$ae=Lc(5),Bae=Lc(6);Zv.range;zy.range;Uae.range;zae.range;ud.range;$ae.range;Bae.range;function Vc(t){return Zn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/BS)}const Jv=Vc(0),$y=Vc(1),Fae=Vc(2),qae=Vc(3),dd=Vc(4),Hae=Vc(5),Kae=Vc(6);Jv.range;$y.range;Fae.range;qae.range;dd.range;Hae.range;Kae.range;const GS=Zn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());GS.range;const YS=Zn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());YS.range;const Ws=Zn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ws.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ws.range;const Xs=Zn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Xs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Xs.range;function fL(t,e,n,r,a,s){const l=[[lc,1,Ps],[lc,5,5*Ps],[lc,15,15*Ps],[lc,30,30*Ps],[s,1,Ha],[s,5,5*Ha],[s,15,15*Ha],[s,30,30*Ha],[a,1,Ds],[a,3,3*Ds],[a,6,6*Ds],[a,12,12*Ds],[r,1,Ys],[r,2,2*Ys],[n,1,BS],[e,1,VD],[e,3,3*VD],[t,1,Jw]];function u(h,p,g){const x=p<h;x&&([h,p]=[p,h]);const w=g&&typeof g.range=="function"?g:f(h,p,g),E=w?w.range(h,+p+1):[];return x?E.reverse():E}function f(h,p,g){const x=Math.abs(p-h)/g,w=CS(([,,A])=>A).right(l,x);if(w===l.length)return t.every(P_(h/Jw,p/Jw,g));if(w===0)return Uy.every(Math.max(P_(h,p,g),1));const[E,S]=l[x/l[w-1][2]<l[w][2]/x?w-1:w];return E.every(S)}return[u,f]}const[Gae,Yae]=fL(Xs,YS,Jv,dL,KS,qS),[Wae,Xae]=fL(Ws,GS,Zv,vm,HS,FS);function e1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function t1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function qf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Qae(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,s=t.days,l=t.shortDays,u=t.months,f=t.shortMonths,h=Hf(a),p=Kf(a),g=Hf(s),x=Kf(s),w=Hf(l),E=Kf(l),S=Hf(u),A=Kf(u),j=Hf(f),I=Kf(f),P={a:Y,A:J,b:he,B:Te,c:null,d:qD,e:qD,f:bie,g:kie,G:Pie,H:yie,I:vie,j:xie,L:hL,m:wie,M:_ie,p:$,q:z,Q:GD,s:YD,S:Eie,u:Sie,U:Nie,V:Aie,w:Tie,W:jie,x:null,X:null,y:Cie,Y:Oie,Z:Die,"%":KD},H={a:K,A:re,b:ge,B:Ee,c:null,d:HD,e:HD,f:Lie,g:Gie,G:Wie,H:Iie,I:Rie,j:Mie,L:pL,m:Vie,M:Uie,p:ne,q:Pe,Q:GD,s:YD,S:zie,u:$ie,U:Bie,V:Fie,w:qie,W:Hie,x:null,X:null,y:Kie,Y:Yie,Z:Xie,"%":KD},R={a:q,A:M,b:U,B:V,c:we,d:BD,e:BD,f:hie,g:$D,G:zD,H:FD,I:FD,j:cie,L:fie,m:lie,M:uie,p:D,q:oie,Q:pie,s:gie,S:die,u:nie,U:rie,V:aie,w:tie,W:iie,x:Se,X:Z,y:$D,Y:zD,Z:sie,"%":mie};P.x=F(n,P),P.X=F(r,P),P.c=F(e,P),H.x=F(n,H),H.X=F(r,H),H.c=F(e,H);function F(le,je){return function(Le){var X=[],Oe=-1,ke=0,Qe=le.length,at,Gt,Tn;for(Le instanceof Date||(Le=new Date(+Le));++Oe<Qe;)le.charCodeAt(Oe)===37&&(X.push(le.slice(ke,Oe)),(Gt=UD[at=le.charAt(++Oe)])!=null?at=le.charAt(++Oe):Gt=at==="e"?" ":"0",(Tn=je[at])&&(at=Tn(Le,Gt)),X.push(at),ke=Oe+1);return X.push(le.slice(ke,Oe)),X.join("")}}function k(le,je){return function(Le){var X=qf(1900,void 0,1),Oe=O(X,le,Le+="",0),ke,Qe;if(Oe!=Le.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(je&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(ke=t1(qf(X.y,0,1)),Qe=ke.getUTCDay(),ke=Qe>4||Qe===0?$y.ceil(ke):$y(ke),ke=Qv.offset(ke,(X.V-1)*7),X.y=ke.getUTCFullYear(),X.m=ke.getUTCMonth(),X.d=ke.getUTCDate()+(X.w+6)%7):(ke=e1(qf(X.y,0,1)),Qe=ke.getDay(),ke=Qe>4||Qe===0?zy.ceil(ke):zy(ke),ke=vm.offset(ke,(X.V-1)*7),X.y=ke.getFullYear(),X.m=ke.getMonth(),X.d=ke.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),Qe="Z"in X?t1(qf(X.y,0,1)).getUTCDay():e1(qf(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(Qe+5)%7:X.w+X.U*7-(Qe+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,t1(X)):e1(X)}}function O(le,je,Le,X){for(var Oe=0,ke=je.length,Qe=Le.length,at,Gt;Oe<ke;){if(X>=Qe)return-1;if(at=je.charCodeAt(Oe++),at===37){if(at=je.charAt(Oe++),Gt=R[at in UD?je.charAt(Oe++):at],!Gt||(X=Gt(le,Le,X))<0)return-1}else if(at!=Le.charCodeAt(X++))return-1}return X}function D(le,je,Le){var X=h.exec(je.slice(Le));return X?(le.p=p.get(X[0].toLowerCase()),Le+X[0].length):-1}function q(le,je,Le){var X=w.exec(je.slice(Le));return X?(le.w=E.get(X[0].toLowerCase()),Le+X[0].length):-1}function M(le,je,Le){var X=g.exec(je.slice(Le));return X?(le.w=x.get(X[0].toLowerCase()),Le+X[0].length):-1}function U(le,je,Le){var X=j.exec(je.slice(Le));return X?(le.m=I.get(X[0].toLowerCase()),Le+X[0].length):-1}function V(le,je,Le){var X=S.exec(je.slice(Le));return X?(le.m=A.get(X[0].toLowerCase()),Le+X[0].length):-1}function we(le,je,Le){return O(le,e,je,Le)}function Se(le,je,Le){return O(le,n,je,Le)}function Z(le,je,Le){return O(le,r,je,Le)}function Y(le){return l[le.getDay()]}function J(le){return s[le.getDay()]}function he(le){return f[le.getMonth()]}function Te(le){return u[le.getMonth()]}function $(le){return a[+(le.getHours()>=12)]}function z(le){return 1+~~(le.getMonth()/3)}function K(le){return l[le.getUTCDay()]}function re(le){return s[le.getUTCDay()]}function ge(le){return f[le.getUTCMonth()]}function Ee(le){return u[le.getUTCMonth()]}function ne(le){return a[+(le.getUTCHours()>=12)]}function Pe(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var je=F(le+="",P);return je.toString=function(){return le},je},parse:function(le){var je=k(le+="",!1);return je.toString=function(){return le},je},utcFormat:function(le){var je=F(le+="",H);return je.toString=function(){return le},je},utcParse:function(le){var je=k(le+="",!0);return je.toString=function(){return le},je}}}var UD={"-":"",_:" ",0:"0"},cr=/^\s*\d+/,Zae=/^%/,Jae=/[\\^$*+?|[\]().{}]/g;function _t(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",s=a.length;return r+(s<n?new Array(n-s+1).join(e)+a:a)}function eie(t){return t.replace(Jae,"\\$&")}function Hf(t){return new RegExp("^(?:"+t.map(eie).join("|")+")","i")}function Kf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function tie(t,e,n){var r=cr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function nie(t,e,n){var r=cr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function rie(t,e,n){var r=cr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function aie(t,e,n){var r=cr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function iie(t,e,n){var r=cr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function zD(t,e,n){var r=cr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function $D(t,e,n){var r=cr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function sie(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function oie(t,e,n){var r=cr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function lie(t,e,n){var r=cr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function BD(t,e,n){var r=cr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function cie(t,e,n){var r=cr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function FD(t,e,n){var r=cr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function uie(t,e,n){var r=cr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function die(t,e,n){var r=cr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function fie(t,e,n){var r=cr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function hie(t,e,n){var r=cr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function mie(t,e,n){var r=Zae.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function pie(t,e,n){var r=cr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function gie(t,e,n){var r=cr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function qD(t,e){return _t(t.getDate(),e,2)}function yie(t,e){return _t(t.getHours(),e,2)}function vie(t,e){return _t(t.getHours()%12||12,e,2)}function xie(t,e){return _t(1+vm.count(Ws(t),t),e,3)}function hL(t,e){return _t(t.getMilliseconds(),e,3)}function bie(t,e){return hL(t,e)+"000"}function wie(t,e){return _t(t.getMonth()+1,e,2)}function _ie(t,e){return _t(t.getMinutes(),e,2)}function Eie(t,e){return _t(t.getSeconds(),e,2)}function Sie(t){var e=t.getDay();return e===0?7:e}function Nie(t,e){return _t(Zv.count(Ws(t)-1,t),e,2)}function mL(t){var e=t.getDay();return e>=4||e===0?ud(t):ud.ceil(t)}function Aie(t,e){return t=mL(t),_t(ud.count(Ws(t),t)+(Ws(t).getDay()===4),e,2)}function Tie(t){return t.getDay()}function jie(t,e){return _t(zy.count(Ws(t)-1,t),e,2)}function Cie(t,e){return _t(t.getFullYear()%100,e,2)}function kie(t,e){return t=mL(t),_t(t.getFullYear()%100,e,2)}function Oie(t,e){return _t(t.getFullYear()%1e4,e,4)}function Pie(t,e){var n=t.getDay();return t=n>=4||n===0?ud(t):ud.ceil(t),_t(t.getFullYear()%1e4,e,4)}function Die(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+_t(e/60|0,"0",2)+_t(e%60,"0",2)}function HD(t,e){return _t(t.getUTCDate(),e,2)}function Iie(t,e){return _t(t.getUTCHours(),e,2)}function Rie(t,e){return _t(t.getUTCHours()%12||12,e,2)}function Mie(t,e){return _t(1+Qv.count(Xs(t),t),e,3)}function pL(t,e){return _t(t.getUTCMilliseconds(),e,3)}function Lie(t,e){return pL(t,e)+"000"}function Vie(t,e){return _t(t.getUTCMonth()+1,e,2)}function Uie(t,e){return _t(t.getUTCMinutes(),e,2)}function zie(t,e){return _t(t.getUTCSeconds(),e,2)}function $ie(t){var e=t.getUTCDay();return e===0?7:e}function Bie(t,e){return _t(Jv.count(Xs(t)-1,t),e,2)}function gL(t){var e=t.getUTCDay();return e>=4||e===0?dd(t):dd.ceil(t)}function Fie(t,e){return t=gL(t),_t(dd.count(Xs(t),t)+(Xs(t).getUTCDay()===4),e,2)}function qie(t){return t.getUTCDay()}function Hie(t,e){return _t($y.count(Xs(t)-1,t),e,2)}function Kie(t,e){return _t(t.getUTCFullYear()%100,e,2)}function Gie(t,e){return t=gL(t),_t(t.getUTCFullYear()%100,e,2)}function Yie(t,e){return _t(t.getUTCFullYear()%1e4,e,4)}function Wie(t,e){var n=t.getUTCDay();return t=n>=4||n===0?dd(t):dd.ceil(t),_t(t.getUTCFullYear()%1e4,e,4)}function Xie(){return"+0000"}function KD(){return"%"}function GD(t){return+t}function YD(t){return Math.floor(+t/1e3)}var Pu,yL,vL;Qie({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Qie(t){return Pu=Qae(t),yL=Pu.format,Pu.parse,vL=Pu.utcFormat,Pu.utcParse,Pu}function Zie(t){return new Date(t)}function Jie(t){return t instanceof Date?+t:+new Date(+t)}function WS(t,e,n,r,a,s,l,u,f,h){var p=RS(),g=p.invert,x=p.domain,w=h(".%L"),E=h(":%S"),S=h("%I:%M"),A=h("%I %p"),j=h("%a %d"),I=h("%b %d"),P=h("%B"),H=h("%Y");function R(F){return(f(F)<F?w:u(F)<F?E:l(F)<F?S:s(F)<F?A:r(F)<F?a(F)<F?j:I:n(F)<F?P:H)(F)}return p.invert=function(F){return new Date(g(F))},p.domain=function(F){return arguments.length?x(Array.from(F,Jie)):x().map(Zie)},p.ticks=function(F){var k=x();return t(k[0],k[k.length-1],F??10)},p.tickFormat=function(F,k){return k==null?R:h(k)},p.nice=function(F){var k=x();return(!F||typeof F.range!="function")&&(F=e(k[0],k[k.length-1],F??10)),F?x(aL(k,F)):p},p.copy=function(){return ym(p,WS(t,e,n,r,a,s,l,u,f,h))},p}function ese(){return Ja.apply(WS(Wae,Xae,Ws,GS,Zv,vm,HS,FS,lc,yL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function tse(){return Ja.apply(WS(Gae,Yae,Xs,YS,Jv,Qv,KS,qS,lc,vL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function e0(){var t=0,e=1,n,r,a,s,l=Or,u=!1,f;function h(g){return g==null||isNaN(g=+g)?f:l(a===0?.5:(g=(s(g)-n)*a,u?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e]=g,n=s(t=+t),r=s(e=+e),a=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(g){return arguments.length?(u=!!g,h):u},h.interpolator=function(g){return arguments.length?(l=g,h):l};function p(g){return function(x){var w,E;return arguments.length?([w,E]=x,l=g(w,E),h):[l(0),l(1)]}}return h.range=p(Sd),h.rangeRound=p(IS),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return s=g,n=g(t),r=g(e),a=n===r?0:1/(r-n),h}}function Al(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function xL(){var t=Nl(e0()(Or));return t.copy=function(){return Al(t,xL())},ro.apply(t,arguments)}function bL(){var t=VS(e0()).domain([1,10]);return t.copy=function(){return Al(t,bL()).base(t.base())},ro.apply(t,arguments)}function wL(){var t=US(e0());return t.copy=function(){return Al(t,wL()).constant(t.constant())},ro.apply(t,arguments)}function XS(){var t=zS(e0());return t.copy=function(){return Al(t,XS()).exponent(t.exponent())},ro.apply(t,arguments)}function nse(){return XS.apply(null,arguments).exponent(.5)}function _L(){var t=[],e=Or;function n(r){if(r!=null&&!isNaN(r=+r))return e((pm(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let a of r)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(il),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,a)=>e(a/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,s)=>$re(t,s/r))},n.copy=function(){return _L(e).domain(t)},ro.apply(n,arguments)}function t0(){var t=0,e=.5,n=1,r=1,a,s,l,u,f,h=Or,p,g=!1,x;function w(S){return isNaN(S=+S)?x:(S=.5+((S=+p(S))-s)*(r*S<r*s?u:f),h(g?Math.max(0,Math.min(1,S)):S))}w.domain=function(S){return arguments.length?([t,e,n]=S,a=p(t=+t),s=p(e=+e),l=p(n=+n),u=a===s?0:.5/(s-a),f=s===l?0:.5/(l-s),r=s<a?-1:1,w):[t,e,n]},w.clamp=function(S){return arguments.length?(g=!!S,w):g},w.interpolator=function(S){return arguments.length?(h=S,w):h};function E(S){return function(A){var j,I,P;return arguments.length?([j,I,P]=A,h=mae(S,[j,I,P]),w):[h(0),h(.5),h(1)]}}return w.range=E(Sd),w.rangeRound=E(IS),w.unknown=function(S){return arguments.length?(x=S,w):x},function(S){return p=S,a=S(t),s=S(e),l=S(n),u=a===s?0:.5/(s-a),f=s===l?0:.5/(l-s),r=s<a?-1:1,w}}function EL(){var t=Nl(t0()(Or));return t.copy=function(){return Al(t,EL())},ro.apply(t,arguments)}function SL(){var t=VS(t0()).domain([.1,1,10]);return t.copy=function(){return Al(t,SL()).base(t.base())},ro.apply(t,arguments)}function NL(){var t=US(t0());return t.copy=function(){return Al(t,NL()).constant(t.constant())},ro.apply(t,arguments)}function QS(){var t=zS(t0());return t.copy=function(){return Al(t,QS()).exponent(t.exponent())},ro.apply(t,arguments)}function rse(){return QS.apply(null,arguments).exponent(.5)}const ah=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:OS,scaleDiverging:EL,scaleDivergingLog:SL,scaleDivergingPow:QS,scaleDivergingSqrt:rse,scaleDivergingSymlog:NL,scaleIdentity:rL,scaleImplicit:D_,scaleLinear:nL,scaleLog:iL,scaleOrdinal:kS,scalePoint:qre,scalePow:$S,scaleQuantile:lL,scaleQuantize:cL,scaleRadial:oL,scaleSequential:xL,scaleSequentialLog:bL,scaleSequentialPow:XS,scaleSequentialQuantile:_L,scaleSequentialSqrt:nse,scaleSequentialSymlog:wL,scaleSqrt:Lae,scaleSymlog:sL,scaleThreshold:uL,scaleTime:ese,scaleUtc:tse,tickFormat:tL},Symbol.toStringTag,{value:"Module"}));var ao=t=>t.chartData,n0=oe([ao],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),ZS=(t,e,n,r)=>r?n0(t):ao(t),ase=(t,e,n)=>n?n0(t):ao(t);function hl(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(dn(e)&&dn(n))return!0}return!1}function WD(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function AL(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,a,s;if(dn(n))a=n;else if(typeof n=="function")return;if(dn(r))s=r;else if(typeof r=="function")return;var l=[a,s];if(hl(l))return l}}function ise(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(hl(r))return WD(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[a,s]=t,l,u;if(a==="auto")e!=null&&(l=Math.min(...e));else if(Be(a))l=a;else if(typeof a=="function")try{e!=null&&(l=a(e?.[0]))}catch{}else if(typeof a=="string"&&aP.test(a)){var f=aP.exec(a);if(f==null||f[1]==null||e==null)l=void 0;else{var h=+f[1];l=e[0]-h}}else l=e?.[0];if(s==="auto")e!=null&&(u=Math.max(...e));else if(Be(s))u=s;else if(typeof s=="function")try{e!=null&&(u=s(e?.[1]))}catch{}else if(typeof s=="string"&&iP.test(s)){var p=iP.exec(s);if(p==null||p[1]==null||e==null)u=void 0;else{var g=+p[1];u=e[1]+g}}else u=e?.[1];var x=[l,u];if(hl(x))return e==null?x:WD(x,e,n)}}}var Nd=1e9,sse={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},eN,rn=!0,Xa="[DecimalError] ",mc=Xa+"Invalid argument: ",JS=Xa+"Exponent out of range: ",Ad=Math.floor,rc=Math.pow,ose=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,pa,sr=1e7,Xt=7,TL=9007199254740991,By=Ad(TL/Xt),Ie={};Ie.absoluteValue=Ie.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ie.comparedTo=Ie.cmp=function(t){var e,n,r,a,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,a=t.d.length,e=0,n=r<a?r:a;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===a?0:r>a^s.s<0?1:-1};Ie.decimalPlaces=Ie.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Xt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ie.dividedBy=Ie.div=function(t){return Vs(this,new this.constructor(t))};Ie.dividedToIntegerBy=Ie.idiv=function(t){var e=this,n=e.constructor;return Bt(Vs(e,new n(t),0,1),n.precision)};Ie.equals=Ie.eq=function(t){return!this.cmp(t)};Ie.exponent=function(){return zn(this)};Ie.greaterThan=Ie.gt=function(t){return this.cmp(t)>0};Ie.greaterThanOrEqualTo=Ie.gte=function(t){return this.cmp(t)>=0};Ie.isInteger=Ie.isint=function(){return this.e>this.d.length-2};Ie.isNegative=Ie.isneg=function(){return this.s<0};Ie.isPositive=Ie.ispos=function(){return this.s>0};Ie.isZero=function(){return this.s===0};Ie.lessThan=Ie.lt=function(t){return this.cmp(t)<0};Ie.lessThanOrEqualTo=Ie.lte=function(t){return this.cmp(t)<1};Ie.logarithm=Ie.log=function(t){var e,n=this,r=n.constructor,a=r.precision,s=a+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(pa))throw Error(Xa+"NaN");if(n.s<1)throw Error(Xa+(n.s?"NaN":"-Infinity"));return n.eq(pa)?new r(0):(rn=!1,e=Vs(Uh(n,s),Uh(t,s),s),rn=!0,Bt(e,a))};Ie.minus=Ie.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?kL(e,t):jL(e,(t.s=-t.s,t))};Ie.modulo=Ie.mod=function(t){var e,n=this,r=n.constructor,a=r.precision;if(t=new r(t),!t.s)throw Error(Xa+"NaN");return n.s?(rn=!1,e=Vs(n,t,0,1).times(t),rn=!0,n.minus(e)):Bt(new r(n),a)};Ie.naturalExponential=Ie.exp=function(){return CL(this)};Ie.naturalLogarithm=Ie.ln=function(){return Uh(this)};Ie.negated=Ie.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ie.plus=Ie.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?jL(e,t):kL(e,(t.s=-t.s,t))};Ie.precision=Ie.sd=function(t){var e,n,r,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(mc+t);if(e=zn(a)+1,r=a.d.length-1,n=r*Xt+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ie.squareRoot=Ie.sqrt=function(){var t,e,n,r,a,s,l,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(Xa+"NaN")}for(t=zn(u),rn=!1,a=Math.sqrt(+u),a==0||a==1/0?(e=Fi(u.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=Ad((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(a.toString()),n=f.precision,a=l=n+3;;)if(s=r,r=s.plus(Vs(u,s,l+2)).times(.5),Fi(s.d).slice(0,l)===(e=Fi(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),a==l&&e=="4999"){if(Bt(s,n+1,0),s.times(s).eq(u)){r=s;break}}else if(e!="9999")break;l+=4}return rn=!0,Bt(r,n)};Ie.times=Ie.mul=function(t){var e,n,r,a,s,l,u,f,h,p=this,g=p.constructor,x=p.d,w=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,n=p.e+t.e,f=x.length,h=w.length,f<h&&(s=x,x=w,w=s,l=f,f=h,h=l),s=[],l=f+h,r=l;r--;)s.push(0);for(r=h;--r>=0;){for(e=0,a=f+r;a>r;)u=s[a]+w[r]*x[a-r-1]+e,s[a--]=u%sr|0,e=u/sr|0;s[a]=(s[a]+e)%sr|0}for(;!s[--l];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,rn?Bt(t,g.precision):t};Ie.toDecimalPlaces=Ie.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(rs(t,0,Nd),e===void 0?e=r.rounding:rs(e,0,8),Bt(n,t+zn(n)+1,e))};Ie.toExponential=function(t,e){var n,r=this,a=r.constructor;return t===void 0?n=Cc(r,!0):(rs(t,0,Nd),e===void 0?e=a.rounding:rs(e,0,8),r=Bt(new a(r),t+1,e),n=Cc(r,!0,t+1)),n};Ie.toFixed=function(t,e){var n,r,a=this,s=a.constructor;return t===void 0?Cc(a):(rs(t,0,Nd),e===void 0?e=s.rounding:rs(e,0,8),r=Bt(new s(a),t+zn(a)+1,e),n=Cc(r.abs(),!1,t+zn(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Ie.toInteger=Ie.toint=function(){var t=this,e=t.constructor;return Bt(new e(t),zn(t)+1,e.rounding)};Ie.toNumber=function(){return+this};Ie.toPower=Ie.pow=function(t){var e,n,r,a,s,l,u=this,f=u.constructor,h=12,p=+(t=new f(t));if(!t.s)return new f(pa);if(u=new f(u),!u.s){if(t.s<1)throw Error(Xa+"Infinity");return u}if(u.eq(pa))return u;if(r=f.precision,t.eq(pa))return Bt(u,r);if(e=t.e,n=t.d.length-1,l=e>=n,s=u.s,l){if((n=p<0?-p:p)<=TL){for(a=new f(pa),e=Math.ceil(r/Xt+4),rn=!1;n%2&&(a=a.times(u),QD(a.d,e)),n=Ad(n/2),n!==0;)u=u.times(u),QD(u.d,e);return rn=!0,t.s<0?new f(pa).div(a):Bt(a,r)}}else if(s<0)throw Error(Xa+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,rn=!1,a=t.times(Uh(u,r+h)),rn=!0,a=CL(a),a.s=s,a};Ie.toPrecision=function(t,e){var n,r,a=this,s=a.constructor;return t===void 0?(n=zn(a),r=Cc(a,n<=s.toExpNeg||n>=s.toExpPos)):(rs(t,1,Nd),e===void 0?e=s.rounding:rs(e,0,8),a=Bt(new s(a),t,e),n=zn(a),r=Cc(a,t<=n||n<=s.toExpNeg,t)),r};Ie.toSignificantDigits=Ie.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(rs(t,1,Nd),e===void 0?e=r.rounding:rs(e,0,8)),Bt(new r(n),t,e)};Ie.toString=Ie.valueOf=Ie.val=Ie.toJSON=Ie[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=zn(t),n=t.constructor;return Cc(t,e<=n.toExpNeg||e>=n.toExpPos)};function jL(t,e){var n,r,a,s,l,u,f,h,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),rn?Bt(e,g):e;if(f=t.d,h=e.d,l=t.e,a=e.e,f=f.slice(),s=l-a,s){for(s<0?(r=f,s=-s,u=h.length):(r=h,a=l,u=f.length),l=Math.ceil(g/Xt),u=l>u?l+1:u+1,s>u&&(s=u,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(u=f.length,s=h.length,u-s<0&&(s=u,r=h,h=f,f=r),n=0;s;)n=(f[--s]=f[s]+h[s]+n)/sr|0,f[s]%=sr;for(n&&(f.unshift(n),++a),u=f.length;f[--u]==0;)f.pop();return e.d=f,e.e=a,rn?Bt(e,g):e}function rs(t,e,n){if(t!==~~t||t<e||t>n)throw Error(mc+t)}function Fi(t){var e,n,r,a=t.length-1,s="",l=t[0];if(a>0){for(s+=l,e=1;e<a;e++)r=t[e]+"",n=Xt-r.length,n&&(s+=qo(n)),s+=r;l=t[e],r=l+"",n=Xt-r.length,n&&(s+=qo(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Vs=(function(){function t(r,a){var s,l=0,u=r.length;for(r=r.slice();u--;)s=r[u]*a+l,r[u]=s%sr|0,l=s/sr|0;return l&&r.unshift(l),r}function e(r,a,s,l){var u,f;if(s!=l)f=s>l?1:-1;else for(u=f=0;u<s;u++)if(r[u]!=a[u]){f=r[u]>a[u]?1:-1;break}return f}function n(r,a,s){for(var l=0;s--;)r[s]-=l,l=r[s]<a[s]?1:0,r[s]=l*sr+r[s]-a[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,s,l){var u,f,h,p,g,x,w,E,S,A,j,I,P,H,R,F,k,O,D=r.constructor,q=r.s==a.s?1:-1,M=r.d,U=a.d;if(!r.s)return new D(r);if(!a.s)throw Error(Xa+"Division by zero");for(f=r.e-a.e,k=U.length,R=M.length,w=new D(q),E=w.d=[],h=0;U[h]==(M[h]||0);)++h;if(U[h]>(M[h]||0)&&--f,s==null?I=s=D.precision:l?I=s+(zn(r)-zn(a))+1:I=s,I<0)return new D(0);if(I=I/Xt+2|0,h=0,k==1)for(p=0,U=U[0],I++;(h<R||p)&&I--;h++)P=p*sr+(M[h]||0),E[h]=P/U|0,p=P%U|0;else{for(p=sr/(U[0]+1)|0,p>1&&(U=t(U,p),M=t(M,p),k=U.length,R=M.length),H=k,S=M.slice(0,k),A=S.length;A<k;)S[A++]=0;O=U.slice(),O.unshift(0),F=U[0],U[1]>=sr/2&&++F;do p=0,u=e(U,S,k,A),u<0?(j=S[0],k!=A&&(j=j*sr+(S[1]||0)),p=j/F|0,p>1?(p>=sr&&(p=sr-1),g=t(U,p),x=g.length,A=S.length,u=e(g,S,x,A),u==1&&(p--,n(g,k<x?O:U,x))):(p==0&&(u=p=1),g=U.slice()),x=g.length,x<A&&g.unshift(0),n(S,g,A),u==-1&&(A=S.length,u=e(U,S,k,A),u<1&&(p++,n(S,k<A?O:U,A))),A=S.length):u===0&&(p++,S=[0]),E[h++]=p,u&&S[0]?S[A++]=M[H]||0:(S=[M[H]],A=1);while((H++<R||S[0]!==void 0)&&I--)}return E[0]||E.shift(),w.e=f,Bt(w,l?s+zn(w)+1:s)}})();function CL(t,e){var n,r,a,s,l,u,f=0,h=0,p=t.constructor,g=p.precision;if(zn(t)>16)throw Error(JS+zn(t));if(!t.s)return new p(pa);for(rn=!1,u=g,l=new p(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(r=Math.log(rc(2,h))/Math.LN10*2+5|0,u+=r,n=a=s=new p(pa),p.precision=u;;){if(a=Bt(a.times(t),u),n=n.times(++f),l=s.plus(Vs(a,n,u)),Fi(l.d).slice(0,u)===Fi(s.d).slice(0,u)){for(;h--;)s=Bt(s.times(s),u);return p.precision=g,e==null?(rn=!0,Bt(s,g)):s}s=l}}function zn(t){for(var e=t.e*Xt,n=t.d[0];n>=10;n/=10)e++;return e}function n1(t,e,n){if(e>t.LN10.sd())throw rn=!0,n&&(t.precision=n),Error(Xa+"LN10 precision limit exceeded");return Bt(new t(t.LN10),e)}function qo(t){for(var e="";t--;)e+="0";return e}function Uh(t,e){var n,r,a,s,l,u,f,h,p,g=1,x=10,w=t,E=w.d,S=w.constructor,A=S.precision;if(w.s<1)throw Error(Xa+(w.s?"NaN":"-Infinity"));if(w.eq(pa))return new S(0);if(e==null?(rn=!1,h=A):h=e,w.eq(10))return e==null&&(rn=!0),n1(S,h);if(h+=x,S.precision=h,n=Fi(E),r=n.charAt(0),s=zn(w),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)w=w.times(t),n=Fi(w.d),r=n.charAt(0),g++;s=zn(w),r>1?(w=new S("0."+n),s++):w=new S(r+"."+n.slice(1))}else return f=n1(S,h+2,A).times(s+""),w=Uh(new S(r+"."+n.slice(1)),h-x).plus(f),S.precision=A,e==null?(rn=!0,Bt(w,A)):w;for(u=l=w=Vs(w.minus(pa),w.plus(pa),h),p=Bt(w.times(w),h),a=3;;){if(l=Bt(l.times(p),h),f=u.plus(Vs(l,new S(a),h)),Fi(f.d).slice(0,h)===Fi(u.d).slice(0,h))return u=u.times(2),s!==0&&(u=u.plus(n1(S,h+2,A).times(s+""))),u=Vs(u,new S(g),h),S.precision=A,e==null?(rn=!0,Bt(u,A)):u;u=f,a+=2}}function XD(t,e){var n,r,a;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(r,a),e){if(a-=r,n=n-r-1,t.e=Ad(n/Xt),t.d=[],r=(n+1)%Xt,n<0&&(r+=Xt),r<a){for(r&&t.d.push(+e.slice(0,r)),a-=Xt;r<a;)t.d.push(+e.slice(r,r+=Xt));e=e.slice(r),r=Xt-e.length}else r-=a;for(;r--;)e+="0";if(t.d.push(+e),rn&&(t.e>By||t.e<-By))throw Error(JS+n)}else t.s=0,t.e=0,t.d=[0];return t}function Bt(t,e,n){var r,a,s,l,u,f,h,p,g=t.d;for(l=1,s=g[0];s>=10;s/=10)l++;if(r=e-l,r<0)r+=Xt,a=e,h=g[p=0];else{if(p=Math.ceil((r+1)/Xt),s=g.length,p>=s)return t;for(h=s=g[p],l=1;s>=10;s/=10)l++;r%=Xt,a=r-Xt+l}if(n!==void 0&&(s=rc(10,l-a-1),u=h/s%10|0,f=e<0||g[p+1]!==void 0||h%s,f=n<4?(u||f)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?a>0?h/rc(10,l-a):0:g[p-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return f?(s=zn(t),g.length=1,e=e-s-1,g[0]=rc(10,(Xt-e%Xt)%Xt),t.e=Ad(-e/Xt)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=p,s=1,p--):(g.length=p+1,s=rc(10,Xt-r),g[p]=a>0?(h/rc(10,l-a)%rc(10,a)|0)*s:0),f)for(;;)if(p==0){(g[0]+=s)==sr&&(g[0]=1,++t.e);break}else{if(g[p]+=s,g[p]!=sr)break;g[p--]=0,s=1}for(r=g.length;g[--r]===0;)g.pop();if(rn&&(t.e>By||t.e<-By))throw Error(JS+zn(t));return t}function kL(t,e){var n,r,a,s,l,u,f,h,p,g,x=t.constructor,w=x.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new x(t),rn?Bt(e,w):e;if(f=t.d,g=e.d,r=e.e,h=t.e,f=f.slice(),l=h-r,l){for(p=l<0,p?(n=f,l=-l,u=g.length):(n=g,r=h,u=f.length),a=Math.max(Math.ceil(w/Xt),u)+2,l>a&&(l=a,n.length=1),n.reverse(),a=l;a--;)n.push(0);n.reverse()}else{for(a=f.length,u=g.length,p=a<u,p&&(u=a),a=0;a<u;a++)if(f[a]!=g[a]){p=f[a]<g[a];break}l=0}for(p&&(n=f,f=g,g=n,e.s=-e.s),u=f.length,a=g.length-u;a>0;--a)f[u++]=0;for(a=g.length;a>l;){if(f[--a]<g[a]){for(s=a;s&&f[--s]===0;)f[s]=sr-1;--f[s],f[a]+=sr}f[a]-=g[a]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,rn?Bt(e,w):e):new x(0)}function Cc(t,e,n){var r,a=zn(t),s=Fi(t.d),l=s.length;return e?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+qo(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+qo(-a-1)+s,n&&(r=n-l)>0&&(s+=qo(r))):a>=l?(s+=qo(a+1-l),n&&(r=n-a-1)>0&&(s=s+"."+qo(r))):((r=a+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(a+1===l&&(s+="."),s+=qo(r))),t.s<0?"-"+s:s}function QD(t,e){if(t.length>e)return t.length=e,!0}function OL(t){var e,n,r;function a(s){var l=this;if(!(l instanceof a))return new a(s);if(l.constructor=a,s instanceof a){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(mc+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return XD(l,s.toString())}else if(typeof s!="string")throw Error(mc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,ose.test(s))XD(l,s);else throw Error(mc+s)}if(a.prototype=Ie,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=OL,a.config=a.set=lse,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return a.config(t),a}function lse(t){if(!t||typeof t!="object")throw Error(Xa+"Object expected");var e,n,r,a=["precision",1,Nd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((r=t[n=a[e]])!==void 0)if(Ad(r)===r&&r>=a[e+1]&&r<=a[e+2])this[n]=r;else throw Error(mc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(mc+n+": "+r);return this}var eN=OL(sse);pa=new eN(1);const Ot=eN;var cse=t=>t,PL={},DL=t=>t===PL,ZD=t=>function e(){return arguments.length===0||arguments.length===1&&DL(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},IL=(t,e)=>t===1?e:ZD(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=r.filter(l=>l!==PL).length;return s>=t?e(...r):IL(t-s,ZD(function(){for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];var h=r.map(p=>DL(p)?u.shift():p);return e(...h,...u)}))}),use=t=>IL(t.length,t),L_=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},dse=use((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),fse=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return cse;var a=n.reverse(),s=a[0],l=a.slice(1);return function(){return l.reduce((u,f)=>f(u),s(...arguments))}};function RL(t){var e;return t===0?e=1:e=Math.floor(new Ot(t).abs().log(10).toNumber())+1,e}function ML(t,e,n){for(var r=new Ot(t),a=0,s=[];r.lt(e)&&a<1e5;)s.push(r.toNumber()),r=r.add(n),a++;return s}var LL=t=>{var[e,n]=t,[r,a]=[e,n];return e>n&&([r,a]=[n,e]),[r,a]},VL=(t,e,n)=>{if(t.lte(0))return new Ot(0);var r=RL(t.toNumber()),a=new Ot(10).pow(r),s=t.div(a),l=r!==1?.05:.1,u=new Ot(Math.ceil(s.div(l).toNumber())).add(n).mul(l),f=u.mul(a);return e?new Ot(f.toNumber()):new Ot(Math.ceil(f.toNumber()))},hse=(t,e,n)=>{var r=new Ot(1),a=new Ot(t);if(!a.isint()&&n){var s=Math.abs(t);s<1?(r=new Ot(10).pow(RL(t)-1),a=new Ot(Math.floor(a.div(r).toNumber())).mul(r)):s>1&&(a=new Ot(Math.floor(t)))}else t===0?a=new Ot(Math.floor((e-1)/2)):n||(a=new Ot(Math.floor(t)));var l=Math.floor((e-1)/2),u=fse(dse(f=>a.add(new Ot(f-l).mul(r)).toNumber()),L_);return u(0,e)},UL=function(e,n,r,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Ot(0),tickMin:new Ot(0),tickMax:new Ot(0)};var l=VL(new Ot(n).sub(e).div(r-1),a,s),u;e<=0&&n>=0?u=new Ot(0):(u=new Ot(e).add(n).div(2),u=u.sub(new Ot(u).mod(l)));var f=Math.ceil(u.sub(e).div(l).toNumber()),h=Math.ceil(new Ot(n).sub(u).div(l).toNumber()),p=f+h+1;return p>r?UL(e,n,r,a,s+1):(p<r&&(h=n>0?h+(r-p):h,f=n>0?f:f+(r-p)),{step:l,tickMin:u.sub(new Ot(f).mul(l)),tickMax:u.add(new Ot(h).mul(l))})},mse=function(e){var[n,r]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(a,2),[u,f]=LL([n,r]);if(u===-1/0||f===1/0){var h=f===1/0?[u,...L_(0,a-1).map(()=>1/0)]:[...L_(0,a-1).map(()=>-1/0),f];return n>r?h.reverse():h}if(u===f)return hse(u,a,s);var{step:p,tickMin:g,tickMax:x}=UL(u,f,l,s,0),w=ML(g,x.add(new Ot(.1).mul(p)),p);return n>r?w.reverse():w},pse=function(e,n){var[r,a]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=LL([r,a]);if(l===-1/0||u===1/0)return[r,a];if(l===u)return[l];var f=Math.max(n,2),h=VL(new Ot(u).sub(l).div(f-1),s,0),p=[...ML(new Ot(l),new Ot(u),h),u];return s===!1&&(p=p.map(g=>Math.round(g))),r>a?p.reverse():p},zL=t=>t.rootProps.maxBarSize,gse=t=>t.rootProps.barGap,$L=t=>t.rootProps.barCategoryGap,yse=t=>t.rootProps.barSize,xm=t=>t.rootProps.stackOffset,BL=t=>t.rootProps.reverseStackOrder,tN=t=>t.options.chartName,nN=t=>t.rootProps.syncId,FL=t=>t.rootProps.syncMethod,rN=t=>t.options.eventEmitter,Yn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},js={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ma={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},r0=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},vse={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:js.angleAxisId,includeHidden:!1,name:void 0,reversed:js.reversed,scale:js.scale,tick:js.tick,tickCount:void 0,ticks:void 0,type:js.type,unit:void 0},xse={allowDataOverflow:ma.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ma.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ma.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ma.scale,tick:ma.tick,tickCount:ma.tickCount,ticks:void 0,type:ma.type,unit:void 0},bse={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:js.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:js.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:js.scale,tick:js.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},wse={allowDataOverflow:ma.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ma.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ma.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ma.scale,tick:ma.tick,tickCount:ma.tickCount,ticks:void 0,type:"category",unit:void 0},aN=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?bse:vse,iN=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?wse:xse,a0=t=>t.polarOptions,sN=oe([to,no,Qn],$5),qL=oe([a0,sN],(t,e)=>{if(t!=null)return Ar(t.innerRadius,e,0)}),HL=oe([a0,sN],(t,e)=>{if(t!=null)return Ar(t.outerRadius,e,e*.8)}),_se=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},KL=oe([a0],_se);oe([aN,KL],r0);var GL=oe([sN,qL,HL],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});oe([iN,GL],r0);var YL=oe([yt,a0,qL,HL,to,no],(t,e,n,r,a,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:u,startAngle:f,endAngle:h}=e;return{cx:Ar(l,a,a/2),cy:Ar(u,s,s/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:h,clockWise:!1}}}),on=(t,e)=>e,bm=(t,e,n)=>n;function oN(t){return t?.id}function WL(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:a,dataKey:s}=n,l=new Map;return t.forEach(u=>{var f,h=(f=u.data)!==null&&f!==void 0?f:r;if(!(h==null||h.length===0)){var p=oN(u);h.forEach((g,x)=>{var w=s==null||a?x:String(Ut(g,s,null)),E=Ut(g,u.dataKey,0),S;l.has(w)?S=l.get(w):S={},Object.assign(S,{[p]:E}),l.set(w,S)})}}),Array.from(l.values())}function i0(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var s0=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function o0(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Ese(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Jn=t=>{var e=yt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Td=t=>t.tooltip.settings.axisId;function JD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Fy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JD(Object(n),!0).forEach(function(r){Sse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sse(t,e,n){return(e=Nse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nse(t){var e=Ase(t,"string");return typeof e=="symbol"?e:e+""}function Ase(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var V_=[0,"auto"],rr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},XL=(t,e)=>t.cartesianAxis.xAxis[e],io=(t,e)=>{var n=XL(t,e);return n??rr},ar={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:V_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:dm},QL=(t,e)=>t.cartesianAxis.yAxis[e],so=(t,e)=>{var n=QL(t,e);return n??ar},Tse={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},lN=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Tse},fn=(t,e,n)=>{switch(e){case"xAxis":return io(t,n);case"yAxis":return so(t,n);case"zAxis":return lN(t,n);case"angleAxis":return aN(t,n);case"radiusAxis":return iN(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},jse=(t,e,n)=>{switch(e){case"xAxis":return io(t,n);case"yAxis":return so(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},wm=(t,e,n)=>{switch(e){case"xAxis":return io(t,n);case"yAxis":return so(t,n);case"angleAxis":return aN(t,n);case"radiusAxis":return iN(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},ZL=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function cN(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var l0=t=>t.graphicalItems.cartesianItems,Cse=oe([on,bm],cN),uN=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),_m=oe([l0,fn,Cse],uN,{memoizeOptions:{resultEqualityCheck:o0}}),JL=oe([_m],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(i0)),eV=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),kse=oe([_m],eV),dN=t=>t.map(e=>e.data).filter(Boolean).flat(1),Ose=oe([_m],dN,{memoizeOptions:{resultEqualityCheck:o0}}),fN=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=e;return t.length>0?t:n.slice(r,a+1)},hN=oe([Ose,ZS],fN),mN=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:Ut(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(a=>({value:Ut(a,r)}))):t.map(r=>({value:r})),c0=oe([hN,fn,_m],mN);function tV(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Mg(t){if(ns(t)||t instanceof Date){var e=Number(t);if(dn(e))return e}}function eI(t){if(Array.isArray(t)){var e=[Mg(t[0]),Mg(t[1])];return hl(e)?e:void 0}var n=Mg(t);if(n!=null)return[n,n]}function Qs(t){return t.map(Mg).filter(EZ)}function Pse(t,e,n){return!n||typeof e!="number"||ts(e)?[]:n.length?Qs(n.flatMap(r=>{var a=Ut(t,r.dataKey),s,l;if(Array.isArray(a)?[s,l]=a:s=l=a,!(!dn(s)||!dn(l)))return[e-s,e+l]})):[]}var er=t=>{var e=Jn(t),n=Td(t);return wm(t,e,n)},Em=oe([er],t=>t?.dataKey),Dse=oe([JL,ZS,er],WL),nV=(t,e,n,r)=>{var a={},s=e.reduce((l,u)=>{if(u.stackId==null)return l;var f=l[u.stackId];return f==null&&(f=[]),f.push(u),l[u.stackId]=f,l},a);return Object.fromEntries(Object.entries(s).map(l=>{var[u,f]=l,h=r?[...f].reverse():f,p=h.map(oN);return[u,{stackedData:Xee(t,p,n),graphicalItems:h}]}))},U_=oe([Dse,JL,xm,BL],nV),rV=(t,e,n,r)=>{var{dataStartIndex:a,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var l=tte(t,a,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},Ise=oe([fn],t=>t.allowDataOverflow),pN=t=>{var e;if(t==null||!("domain"in t))return V_;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=Qs(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:V_},gN=oe([fn],pN),yN=oe([gN,Ise],AL),Rse=oe([U_,ao,on,yN],rV,{memoizeOptions:{resultEqualityCheck:s0}}),u0=t=>t.errorBars,Mse=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>tV(n,r)),qy=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var s=a.flat(),l=Math.min(...s),u=Math.max(...s);return[l,u]}},vN=(t,e,n,r,a)=>{var s,l;if(n.length>0&&t.forEach(u=>{n.forEach(f=>{var h,p,g=(h=r[f.id])===null||h===void 0?void 0:h.filter(j=>tV(a,j)),x=Ut(u,(p=e.dataKey)!==null&&p!==void 0?p:f.dataKey),w=Pse(u,x,g);if(w.length>=2){var E=Math.min(...w),S=Math.max(...w);(s==null||E<s)&&(s=E),(l==null||S>l)&&(l=S)}var A=eI(x);A!=null&&(s=s==null?A[0]:Math.min(s,A[0]),l=l==null?A[1]:Math.max(l,A[1]))})}),e?.dataKey!=null&&t.forEach(u=>{var f=eI(Ut(u,e.dataKey));f!=null&&(s=s==null?f[0]:Math.min(s,f[0]),l=l==null?f[1]:Math.max(l,f[1]))}),dn(s)&&dn(l))return[s,l]},Lse=oe([hN,fn,kse,u0,on],vN,{memoizeOptions:{resultEqualityCheck:s0}});function Vse(t){var{value:e}=t;if(ns(e)||e instanceof Date)return e}var Use=(t,e,n)=>{var r=t.map(Vse).filter(a=>a!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&b6(r))?H5(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},aV=t=>t.referenceElements.dots,jd=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),zse=oe([aV,on,bm],jd),iV=t=>t.referenceElements.areas,$se=oe([iV,on,bm],jd),sV=t=>t.referenceElements.lines,Bse=oe([sV,on,bm],jd),oV=(t,e)=>{if(t!=null){var n=Qs(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Fse=oe(zse,on,oV),lV=(t,e)=>{if(t!=null){var n=Qs(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},qse=oe([$se,on],lV);function Hse(t){var e;if(t.x!=null)return Qs([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Qs(n)}function Kse(t){var e;if(t.y!=null)return Qs([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Qs(n)}var cV=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?Hse(r):Kse(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Gse=oe([Bse,on],cV),Yse=oe(Fse,Gse,qse,(t,e,n)=>qy(t,n,e)),xN=(t,e,n,r,a,s,l,u)=>{if(n!=null)return n;var f=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",h=f?qy(r,s,a):qy(s,a);return ise(e,h,t.allowDataOverflow)},Wse=oe([fn,gN,yN,Rse,Lse,Yse,yt,on],xN,{memoizeOptions:{resultEqualityCheck:s0}}),Xse=[0,1],bN=(t,e,n,r,a,s,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:f}=t,h=Sl(e,s);if(h&&u==null){var p;return H5(0,(p=n?.length)!==null&&p!==void 0?p:0)}return f==="category"?Use(r,t,h):a==="expand"?Xse:l}},wN=oe([fn,yt,hN,c0,xm,on,Wse],bN),uV=(t,e,n,r,a)=>{if(t!=null){var{scale:s,type:l}=t;if(s==="auto")return e==="radial"&&a==="radiusAxis"?"band":e==="radial"&&a==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var u="scale".concat(sm(s));return u in ah?u:"point"}}},Cd=oe([fn,yt,ZL,tN,on],uV);function Qse(t){if(t!=null){if(t in ah)return ah[t]();var e="scale".concat(sm(t));if(e in ah)return ah[e]()}}function _N(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var a=Qse(e);if(a!=null){var s=a.domain(n).range(r);return Hee(s),s}}}var EN=(t,e,n)=>{var r=pN(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&hl(t))return mse(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&hl(t))return pse(t,e.tickCount,e.allowDecimals)}},SN=oe([wN,wm,Cd],EN),NN=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&hl(e)&&Array.isArray(n)&&n.length>0){var a=e[0],s=n[0],l=e[1],u=n[n.length-1];return[Math.min(a,s),Math.max(l,u)]}return e},Zse=oe([fn,wN,SN,on],NN),Jse=oe(c0,fn,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Qs(t.map(g=>g.value))).sort((g,x)=>g-x),a=r[0],s=r[r.length-1];if(a==null||s==null)return 1/0;var l=s-a;if(l===0)return 1/0;for(var u=0;u<r.length-1;u++){var f=r[u],h=r[u+1];if(!(f==null||h==null)){var p=h-f;n=Math.min(n,p)}}return n/l}}),dV=oe(Jse,yt,$L,Qn,(t,e,n,r,a)=>a,(t,e,n,r,a)=>{if(!dn(t))return 0;var s=e==="vertical"?r.height:r.width;if(a==="gap")return t*s/2;if(a==="no-gap"){var l=Ar(n,t*s),u=t*s/2;return u-l-(u-l)/s*l}return 0}),eoe=(t,e,n)=>{var r=io(t,e);return r==null||typeof r.padding!="string"?0:dV(t,"xAxis",e,n,r.padding)},toe=(t,e,n)=>{var r=so(t,e);return r==null||typeof r.padding!="string"?0:dV(t,"yAxis",e,n,r.padding)},noe=oe(io,eoe,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:a}=t;return typeof a=="string"?{left:e,right:e}:{left:((n=a.left)!==null&&n!==void 0?n:0)+e,right:((r=a.right)!==null&&r!==void 0?r:0)+e}}),roe=oe(so,toe,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:a}=t;return typeof a=="string"?{top:e,bottom:e}:{top:((n=a.top)!==null&&n!==void 0?n:0)+e,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+e}}),aoe=oe([Qn,noe,Fv,Bv,(t,e,n)=>n],(t,e,n,r,a)=>{var{padding:s}=r;return a?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),ioe=oe([Qn,yt,roe,Fv,Bv,(t,e,n)=>n],(t,e,n,r,a,s)=>{var{padding:l}=a;return s?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Sm=(t,e,n,r)=>{var a;switch(e){case"xAxis":return aoe(t,n,r);case"yAxis":return ioe(t,n,r);case"zAxis":return(a=lN(t,n))===null||a===void 0?void 0:a.range;case"angleAxis":return KL(t);case"radiusAxis":return GL(t,n);default:return}},fV=oe([fn,Sm],r0),d0=oe([fn,Cd,Zse,fV],_N);oe([_m,u0,on],Mse);function hV(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var f0=(t,e)=>e,h0=(t,e,n)=>n,soe=oe(zv,f0,h0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(hV)),ooe=oe($v,f0,h0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(hV)),mV=(t,e)=>({width:t.width,height:e.height}),loe=(t,e)=>{var n=typeof e.width=="number"?e.width:dm;return{width:n,height:t.height}},pV=oe(Qn,io,mV),coe=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},uoe=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},doe=oe(no,Qn,soe,f0,h0,(t,e,n,r,a)=>{var s={},l;return n.forEach(u=>{var f=mV(e,u);l==null&&(l=coe(e,r,t));var h=r==="top"&&!a||r==="bottom"&&a;s[u.id]=l-Number(h)*f.height,l+=(h?-1:1)*f.height}),s}),foe=oe(to,Qn,ooe,f0,h0,(t,e,n,r,a)=>{var s={},l;return n.forEach(u=>{var f=loe(e,u);l==null&&(l=uoe(e,r,t));var h=r==="left"&&!a||r==="right"&&a;s[u.id]=l-Number(h)*f.width,l+=(h?-1:1)*f.width}),s}),hoe=(t,e)=>{var n=io(t,e);if(n!=null)return doe(t,n.orientation,n.mirror)},moe=oe([Qn,io,hoe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var a=n?.[r];return a==null?{x:t.left,y:0}:{x:t.left,y:a}}}),poe=(t,e)=>{var n=so(t,e);if(n!=null)return foe(t,n.orientation,n.mirror)},goe=oe([Qn,so,poe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var a=n?.[r];return a==null?{x:0,y:t.top}:{x:a,y:t.top}}}),gV=oe(Qn,so,(t,e)=>{var n=typeof e.width=="number"?e.width:dm;return{width:n,height:t.height}}),tI=(t,e,n)=>{switch(e){case"xAxis":return pV(t,n).width;case"yAxis":return gV(t,n).height;default:return}},yV=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:s,dataKey:l}=n,u=Sl(t,r),f=e.map(h=>h.value);if(l&&u&&s==="category"&&a&&b6(f))return f}},AN=oe([yt,c0,fn,on],yV),vV=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:s}=n,l=Sl(t,r);if(l&&(a==="number"||s!=="auto"))return e.map(u=>u.value)}},TN=oe([yt,c0,wm,on],vV);oe([yt,jse,Cd,d0,AN,TN,Sm,SN,on],(t,e,n,r,a,s,l,u,f)=>{if(e!=null){var h=Sl(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:s,duplicateDomain:a,isCategorical:h,niceTicks:u,range:l,realScaleType:n,scale:r}}});var yoe=(t,e,n,r,a,s,l,u,f)=>{if(!(e==null||r==null)){var h=Sl(t,f),{type:p,ticks:g,tickCount:x}=e,w=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,E=p==="category"&&r.bandwidth?r.bandwidth()/w:0;E=f==="angleAxis"&&s!=null&&s.length>=2?xr(s[0]-s[1])*2*E:E;var S=g||a;if(S){var A=S.map((j,I)=>{var P=l?l.indexOf(j):j;return{index:I,coordinate:r(P)+E,value:j,offset:E}});return A.filter(j=>dn(j.coordinate))}return h&&u?u.map((j,I)=>({coordinate:r(j)+E,value:j,index:I,offset:E})).filter(j=>dn(j.coordinate)):r.ticks?r.ticks(x).map(j=>({coordinate:r(j)+E,value:j,offset:E})):r.domain().map((j,I)=>({coordinate:r(j)+E,value:l?l[j]:j,index:I,offset:E}))}},xV=oe([yt,wm,Cd,d0,SN,Sm,AN,TN,on],yoe),voe=(t,e,n,r,a,s,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=Sl(t,l),{tickCount:f}=e,h=0;return h=l==="angleAxis"&&r?.length>=2?xr(r[0]-r[1])*2*h:h,u&&s?s.map((p,g)=>({coordinate:n(p)+h,value:p,index:g,offset:h})):n.ticks?n.ticks(f).map(p=>({coordinate:n(p)+h,value:p,offset:h})):n.domain().map((p,g)=>({coordinate:n(p)+h,value:a?a[p]:p,index:g,offset:h}))}},ml=oe([yt,wm,d0,Sm,AN,TN,on],voe),pl=oe(fn,d0,(t,e)=>{if(!(t==null||e==null))return Fy(Fy({},t),{},{scale:e})}),xoe=oe([fn,Cd,wN,fV],_N);oe((t,e,n)=>lN(t,n),xoe,(t,e)=>{if(!(t==null||e==null))return Fy(Fy({},t),{},{scale:e})});var boe=oe([yt,zv,$v],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),bV=t=>t.options.defaultTooltipEventType,wV=t=>t.options.validateTooltipEventTypes;function _V(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function jN(t,e){var n=bV(t),r=wV(t);return _V(e,n,r)}function woe(t){return Ve(e=>jN(e,t))}var EV=(t,e)=>{var n,r=Number(e);if(!(ts(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},_oe=t=>t.tooltip.settings,Xo={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Eoe={itemInteraction:{click:Xo,hover:Xo},axisInteraction:{click:Xo,hover:Xo},keyboardInteraction:Xo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},SV=ea({name:"tooltip",initialState:Eoe,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:tn()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,a=gi(t).tooltipItemPayloads.indexOf(n);a>-1&&(t.tooltipItemPayloads[a]=r)},prepare:tn()},removeTooltipEntrySettings:{reducer(t,e){var n=gi(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:tn()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:Soe,replaceTooltipEntrySettings:Noe,removeTooltipEntrySettings:Aoe,setTooltipSettingsState:Toe,setActiveMouseOverItemIndex:NV,mouseLeaveItem:joe,mouseLeaveChart:AV,setActiveClickItemIndex:Coe,setMouseOverAxisIndex:TV,setMouseClickAxisIndex:koe,setSyncInteraction:z_,setKeyboardInteraction:$_}=SV.actions,Ooe=SV.reducer;function nI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function yg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nI(Object(n),!0).forEach(function(r){Poe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Poe(t,e,n){return(e=Doe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Doe(t){var e=Ioe(t,"string");return typeof e=="symbol"?e:e+""}function Ioe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Roe(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Moe(t){return t.index!=null}var jV=(t,e,n,r)=>{if(e==null)return Xo;var a=Roe(t,e,n);if(a==null)return Xo;if(a.active)return a;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(Moe(a)){if(s)return yg(yg({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return yg(yg({},Xo),{},{coordinate:a.coordinate})};function Loe(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Voe(t,e){var n=Loe(t),r=e[0],a=e[1];if(n===void 0)return!1;var s=Math.min(r,a),l=Math.max(r,a);return n>=s&&n<=l}function Uoe(t,e,n){if(n==null||e==null)return!0;var r=Ut(t,e);return r==null||!hl(n)?!0:Voe(r,n)}var CN=(t,e,n,r)=>{var a=t?.index;if(a==null)return null;var s=Number(a);if(!dn(s))return a;var l=0,u=1/0;e.length>0&&(u=e.length-1);var f=Math.max(l,Math.min(s,u)),h=e[f];return h==null||Uoe(h,n,r)?String(f):null},CV=(t,e,n,r,a,s,l,u)=>{if(!(s==null||u==null)){var f=l[0],h=f==null?void 0:u(f.positions,s);if(h!=null)return h;var p=a?.[Number(s)];if(p)return n==="horizontal"?{x:p.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:p.coordinate}}},kV=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var a;if(n==="hover"?a=t.itemInteraction.hover.graphicalItemId:a=t.itemInteraction.click.graphicalItemId,a==null&&r!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(l=>{var u;return((u=l.settings)===null||u===void 0?void 0:u.graphicalItemId)===a})},Nm=t=>t.options.tooltipPayloadSearcher,kd=t=>t.tooltip;function rI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function aI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rI(Object(n),!0).forEach(function(r){zoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zoe(t,e,n){return(e=$oe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $oe(t){var e=Boe(t,"string");return typeof e=="symbol"?e:e+""}function Boe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Foe(t,e){return t??e}var OV=(t,e,n,r,a,s,l)=>{if(!(e==null||s==null)){var{chartData:u,computedData:f,dataStartIndex:h,dataEndIndex:p}=n,g=[];return t.reduce((x,w)=>{var E,{dataDefinedOnItem:S,settings:A}=w,j=Foe(S,u),I=Array.isArray(j)?m5(j,h,p):j,P=(E=A?.dataKey)!==null&&E!==void 0?E:r,H=A?.nameKey,R;if(r&&Array.isArray(I)&&!Array.isArray(I[0])&&l==="axis"?R=w6(I,r,a):R=s(I,e,f,H),Array.isArray(R))R.forEach(k=>{var O=aI(aI({},A),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});x.push(sP({tooltipEntrySettings:O,dataKey:k.dataKey,payload:k.payload,value:Ut(k.payload,k.dataKey),name:k.name}))});else{var F;x.push(sP({tooltipEntrySettings:A,dataKey:P,payload:R,value:Ut(R,P),name:(F=Ut(R,H))!==null&&F!==void 0?F:A?.name}))}return x},g)}},kN=oe([er,yt,ZL,tN,Jn],uV),qoe=oe([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Hoe=oe([Jn,Td],cN),Od=oe([qoe,er,Hoe],uN,{memoizeOptions:{resultEqualityCheck:o0}}),Koe=oe([Od],t=>t.filter(i0)),Goe=oe([Od],dN,{memoizeOptions:{resultEqualityCheck:o0}}),Pd=oe([Goe,ao],fN),Yoe=oe([Koe,ao,er],WL),ON=oe([Pd,er,Od],mN),PV=oe([er],pN),Woe=oe([er],t=>t.allowDataOverflow),DV=oe([PV,Woe],AL),Xoe=oe([Od],t=>t.filter(i0)),Qoe=oe([Yoe,Xoe,xm,BL],nV),Zoe=oe([Qoe,ao,Jn,DV],rV),Joe=oe([Od],eV),ele=oe([Pd,er,Joe,u0,Jn],vN,{memoizeOptions:{resultEqualityCheck:s0}}),tle=oe([aV,Jn,Td],jd),nle=oe([tle,Jn],oV),rle=oe([iV,Jn,Td],jd),ale=oe([rle,Jn],lV),ile=oe([sV,Jn,Td],jd),sle=oe([ile,Jn],cV),ole=oe([nle,sle,ale],qy),lle=oe([er,PV,DV,Zoe,ele,ole,yt,Jn],xN),Am=oe([er,yt,Pd,ON,xm,Jn,lle],bN),cle=oe([Am,er,kN],EN),ule=oe([er,Am,cle,Jn],NN),IV=t=>{var e=Jn(t),n=Td(t),r=!1;return Sm(t,e,n,r)},RV=oe([er,IV],r0),MV=oe([er,kN,ule,RV],_N),dle=oe([yt,ON,er,Jn],yV),fle=oe([yt,ON,er,Jn],vV),hle=(t,e,n,r,a,s,l,u)=>{if(e){var{type:f}=e,h=Sl(t,u);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=f==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=u==="angleAxis"&&a!=null&&a?.length>=2?xr(a[0]-a[1])*2*g:g,h&&l?l.map((x,w)=>({coordinate:r(x)+g,value:x,index:w,offset:g})):r.domain().map((x,w)=>({coordinate:r(x)+g,value:s?s[x]:x,index:w,offset:g}))}}},oo=oe([yt,er,kN,MV,IV,dle,fle,Jn],hle),PN=oe([bV,wV,_oe],(t,e,n)=>_V(n.shared,t,e)),LV=t=>t.tooltip.settings.trigger,DN=t=>t.tooltip.settings.defaultIndex,Tm=oe([kd,PN,LV,DN],jV),gl=oe([Tm,Pd,Em,Am],CN),VV=oe([oo,gl],EV),IN=oe([Tm],t=>{if(t)return t.dataKey}),mle=oe([Tm],t=>{if(t)return t.graphicalItemId}),UV=oe([kd,PN,LV,DN],kV),ple=oe([to,no,yt,Qn,oo,DN,UV,Nm],CV),gle=oe([Tm,ple],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),yle=oe([Tm],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),vle=oe([UV,gl,ao,Em,VV,Nm,PN],OV),xle=oe([vle],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function iI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function sI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iI(Object(n),!0).forEach(function(r){ble(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ble(t,e,n){return(e=wle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wle(t){var e=_le(t,"string");return typeof e=="symbol"?e:e+""}function _le(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ele=()=>Ve(er),Sle=()=>{var t=Ele(),e=Ve(oo),n=Ve(MV);return sd(!t||!n?void 0:sI(sI({},t),{},{scale:n}),e)};function oI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Du(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oI(Object(n),!0).forEach(function(r){Nle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nle(t,e,n){return(e=Ale(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ale(t){var e=Tle(t,"string");return typeof e=="symbol"?e:e+""}function Tle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jle=(t,e,n,r)=>{var a=e.find(s=>s&&s.index===n);if(a){if(t==="horizontal")return{x:a.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:a.coordinate}}return{x:0,y:0}},Cle=(t,e,n,r)=>{var a=e.find(h=>h&&h.index===n);if(a){if(t==="centric"){var s=a.coordinate,{radius:l}=r;return Du(Du(Du({},r),Un(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}var u=a.coordinate,{angle:f}=r;return Du(Du(Du({},r),Un(r.cx,r.cy,u,f)),{},{angle:f,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function kle(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var zV=(t,e,n,r,a)=>{var s,l=(s=e?.length)!==null&&s!==void 0?s:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var u=0;u<l;u++){var f,h,p,g,x,w=u>0?(f=n[u-1])===null||f===void 0?void 0:f.coordinate:(h=n[l-1])===null||h===void 0?void 0:h.coordinate,E=(p=n[u])===null||p===void 0?void 0:p.coordinate,S=u>=l-1?(g=n[0])===null||g===void 0?void 0:g.coordinate:(x=n[u+1])===null||x===void 0?void 0:x.coordinate,A=void 0;if(!(w==null||E==null||S==null))if(xr(E-w)!==xr(S-E)){var j=[];if(xr(S-E)===xr(a[1]-a[0])){A=S;var I=E+a[1]-a[0];j[0]=Math.min(I,(I+w)/2),j[1]=Math.max(I,(I+w)/2)}else{A=w;var P=S+a[1]-a[0];j[0]=Math.min(E,(P+E)/2),j[1]=Math.max(E,(P+E)/2)}var H=[Math.min(E,(A+E)/2),Math.max(E,(A+E)/2)];if(t>H[0]&&t<=H[1]||t>=j[0]&&t<=j[1]){var R;return(R=n[u])===null||R===void 0?void 0:R.index}}else{var F=Math.min(w,S),k=Math.max(w,S);if(t>(F+E)/2&&t<=(k+E)/2){var O;return(O=n[u])===null||O===void 0?void 0:O.index}}}else if(e)for(var D=0;D<l;D++){var q=e[D];if(q!=null){var M=e[D+1],U=e[D-1];if(D===0&&M!=null&&t<=(q.coordinate+M.coordinate)/2||D===l-1&&U!=null&&t>(q.coordinate+U.coordinate)/2||D>0&&D<l-1&&U!=null&&M!=null&&t>(q.coordinate+U.coordinate)/2&&t<=(q.coordinate+M.coordinate)/2)return q.index}}return-1},Ole=()=>Ve(tN),RN=(t,e)=>e,$V=(t,e,n)=>n,MN=(t,e,n,r)=>r,Ple=oe(oo,t=>kv(t,e=>e.coordinate)),LN=oe([kd,RN,$V,MN],jV),VN=oe([LN,Pd,Em,Am],CN),Dle=(t,e,n)=>{if(e!=null){var r=kd(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},BV=oe([kd,RN,$V,MN],kV),Hy=oe([to,no,yt,Qn,oo,MN,BV,Nm],CV),Ile=oe([LN,Hy],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),FV=oe([oo,VN],EV),Rle=oe([BV,VN,ao,Em,FV,Nm,RN],OV),Mle=oe([LN,VN],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),Lle=(t,e,n,r,a,s,l)=>{if(!(!t||!n||!r||!a)&&kle(t,l)){var u=nte(t,e),f=zV(u,s,a,n,r),h=jle(e,a,f,t);return{activeIndex:String(f),activeCoordinate:h}}},Vle=(t,e,n,r,a,s,l)=>{if(!(!t||!r||!a||!s||!n)){var u=bre(t,n);if(u){var f=rte(u,e),h=zV(f,l,s,r,a),p=Cle(e,s,h,u);return{activeIndex:String(h),activeCoordinate:p}}}},Ule=(t,e,n,r,a,s,l,u)=>{if(!(!t||!e||!r||!a||!s))return e==="horizontal"||e==="vertical"?Lle(t,e,r,a,s,l,u):Vle(t,e,n,r,a,s,l)},zle=oe(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),$le=oe(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Yn)),n=Array.from(new Set(e));return n.sort((r,a)=>r-a)},{memoizeOptions:{resultEqualityCheck:Ese}});function lI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function cI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lI(Object(n),!0).forEach(function(r){Ble(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ble(t,e,n){return(e=Fle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fle(t){var e=qle(t,"string");return typeof e=="symbol"?e:e+""}function qle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hle={},Kle={zIndexMap:Object.values(Yn).reduce((t,e)=>cI(cI({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),Hle)},Gle=new Set(Object.values(Yn));function Yle(t){return Gle.has(t)}var qV=ea({name:"zIndex",initialState:Kle,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:tn()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Yle(n)&&delete t.zIndexMap[n])},prepare:tn()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:a}=e.payload;t.zIndexMap[n]?a?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:a?void 0:r,panoramaElement:a?r:void 0}},prepare:tn()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:tn()}}}),{registerZIndexPortal:Wle,unregisterZIndexPortal:Xle,registerZIndexPortalElement:Qle,unregisterZIndexPortalElement:Zle}=qV.actions,Jle=qV.reducer;function Ea(t){var{zIndex:e,children:n}=t,r=Rte(),a=r&&e!==void 0&&e!==0,s=Lr(),l=Kt();_.useLayoutEffect(()=>a?(l(Wle({zIndex:e})),()=>{l(Xle({zIndex:e}))}):om,[l,e,a]);var u=Ve(f=>zle(f,e,s));return a?u?uE.createPortal(n,u):null:n}function B_(){return B_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B_.apply(null,arguments)}function uI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function vg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uI(Object(n),!0).forEach(function(r){ece(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ece(t,e,n){return(e=tce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tce(t){var e=nce(t,"string");return typeof e=="symbol"?e:e+""}function nce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rce(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return _.isValidElement(e)?_.cloneElement(e,r):_.createElement(n,r)}function ace(t){var e,{coordinate:n,payload:r,index:a,offset:s,tooltipAxisBandSize:l,layout:u,cursor:f,tooltipEventType:h,chartName:p}=t,g=n,x=r,w=a;if(!f||!g||p!=="ScatterChart"&&h!=="axis")return null;var E,S,A;if(p==="ScatterChart")E=g,S=Ine,A=Yn.cursorLine;else if(p==="BarChart")E=Rne(u,g,s,l),S=z5,A=Yn.cursorRectangle;else if(u==="radial"&&E6(g)){var{cx:j,cy:I,radius:P,startAngle:H,endAngle:R}=B5(g);E={cx:j,cy:I,startAngle:H,endAngle:R,innerRadius:P,outerRadius:P},S=q5,A=Yn.cursorLine}else E={points:Sre(u,g,s)},S=jS,A=Yn.cursorLine;var F=typeof f=="object"&&"className"in f?f.className:void 0,k=vg(vg(vg(vg({stroke:"#ccc",pointerEvents:"none"},s),E),Ec(f)),{},{payload:x,payloadIndex:w,className:wt("recharts-tooltip-cursor",F)});return _.createElement(Ea,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:A},_.createElement(rce,{cursor:f,cursorComp:S,cursorProps:k}))}function ice(t){var e=Sle(),n=Dte(),r=Ed(),a=Ole();return e==null||n==null||r==null||a==null?null:_.createElement(ace,B_({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:a}))}var HV=_.createContext(null),sce=()=>_.useContext(HV),r1={exports:{}},dI;function oce(){return dI||(dI=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function s(f,h,p,g,x){if(typeof p!="function")throw new TypeError("The listener must be a function");var w=new a(p,g||f,x),E=n?n+h:h;return f._events[E]?f._events[E].fn?f._events[E]=[f._events[E],w]:f._events[E].push(w):(f._events[E]=w,f._eventsCount++),f}function l(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)e.call(p,g)&&h.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},u.prototype.listeners=function(h){var p=n?n+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var x=0,w=g.length,E=new Array(w);x<w;x++)E[x]=g[x].fn;return E},u.prototype.listenerCount=function(h){var p=n?n+h:h,g=this._events[p];return g?g.fn?1:g.length:0},u.prototype.emit=function(h,p,g,x,w,E){var S=n?n+h:h;if(!this._events[S])return!1;var A=this._events[S],j=arguments.length,I,P;if(A.fn){switch(A.once&&this.removeListener(h,A.fn,void 0,!0),j){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,p),!0;case 3:return A.fn.call(A.context,p,g),!0;case 4:return A.fn.call(A.context,p,g,x),!0;case 5:return A.fn.call(A.context,p,g,x,w),!0;case 6:return A.fn.call(A.context,p,g,x,w,E),!0}for(P=1,I=new Array(j-1);P<j;P++)I[P-1]=arguments[P];A.fn.apply(A.context,I)}else{var H=A.length,R;for(P=0;P<H;P++)switch(A[P].once&&this.removeListener(h,A[P].fn,void 0,!0),j){case 1:A[P].fn.call(A[P].context);break;case 2:A[P].fn.call(A[P].context,p);break;case 3:A[P].fn.call(A[P].context,p,g);break;case 4:A[P].fn.call(A[P].context,p,g,x);break;default:if(!I)for(R=1,I=new Array(j-1);R<j;R++)I[R-1]=arguments[R];A[P].fn.apply(A[P].context,I)}}return!0},u.prototype.on=function(h,p,g){return s(this,h,p,g,!1)},u.prototype.once=function(h,p,g){return s(this,h,p,g,!0)},u.prototype.removeListener=function(h,p,g,x){var w=n?n+h:h;if(!this._events[w])return this;if(!p)return l(this,w),this;var E=this._events[w];if(E.fn)E.fn===p&&(!x||E.once)&&(!g||E.context===g)&&l(this,w);else{for(var S=0,A=[],j=E.length;S<j;S++)(E[S].fn!==p||x&&!E[S].once||g&&E[S].context!==g)&&A.push(E[S]);A.length?this._events[w]=A.length===1?A[0]:A:l(this,w)}return this},u.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(r1)),r1.exports}var lce=oce();const cce=Js(lce);var zh=new cce,F_="recharts.syncEvent.tooltip",fI="recharts.syncEvent.brush";function KV(t,e){if(e){var n=Number.parseInt(e,10);if(!ts(n))return t?.[n]}}var uce={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},GV=ea({name:"options",initialState:uce,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),dce=GV.reducer,{createEventEmitter:fce}=GV.actions;function hce(t){return t.tooltip.syncInteraction}var mce={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},YV=ea({name:"chartData",initialState:mce,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:hI,setDataStartEndIndexes:pce,setComputedData:Zge}=YV.actions,gce=YV.reducer,yce=["x","y"];function mI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Iu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mI(Object(n),!0).forEach(function(r){vce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vce(t,e,n){return(e=xce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xce(t){var e=bce(t,"string");return typeof e=="symbol"?e:e+""}function bce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wce(t,e){if(t==null)return{};var n,r,a=_ce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function _ce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ece(){var t=Ve(nN),e=Ve(rN),n=Kt(),r=Ve(FL),a=Ve(oo),s=Ed(),l=qv(),u=Ve(f=>f.rootProps.className);_.useEffect(()=>{if(t==null)return om;var f=(h,p,g)=>{if(e!==g&&t===h){if(r==="index"){var x;if(l&&p!==null&&p!==void 0&&(x=p.payload)!==null&&x!==void 0&&x.coordinate&&p.payload.sourceViewBox){var w=p.payload.coordinate,{x:E,y:S}=w,A=wce(w,yce),{x:j,y:I,width:P,height:H}=p.payload.sourceViewBox,R=Iu(Iu({},A),{},{x:l.x+(P?(E-j)/P:0)*l.width,y:l.y+(H?(S-I)/H:0)*l.height});n(Iu(Iu({},p),{},{payload:Iu(Iu({},p.payload),{},{coordinate:R})}))}else n(p);return}if(a!=null){var F;if(typeof r=="function"){var k={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},O=r(a,k);F=a[O]}else r==="value"&&(F=a.find(Z=>String(Z.value)===p.payload.label));var{coordinate:D}=p.payload;if(F==null||p.payload.active===!1||D==null||l==null){n(z_({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:q,y:M}=D,U=Math.min(q,l.x+l.width),V=Math.min(M,l.y+l.height),we={x:s==="horizontal"?F.coordinate:U,y:s==="horizontal"?V:F.coordinate},Se=z_({active:p.payload.active,coordinate:we,dataKey:p.payload.dataKey,index:String(F.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});n(Se)}}};return zh.on(F_,f),()=>{zh.off(F_,f)}},[u,n,e,t,r,a,s,l])}function Sce(){var t=Ve(nN),e=Ve(rN),n=Kt();_.useEffect(()=>{if(t==null)return om;var r=(a,s,l)=>{e!==l&&t===a&&n(pce(s))};return zh.on(fI,r),()=>{zh.off(fI,r)}},[n,e,t])}function Nce(){var t=Kt();_.useEffect(()=>{t(fce())},[t]),Ece(),Sce()}function Ace(t,e,n,r,a,s){var l=Ve(w=>Dle(w,t,e)),u=Ve(rN),f=Ve(nN),h=Ve(FL),p=Ve(hce),g=p?.active,x=qv();_.useEffect(()=>{if(!g&&f!=null&&u!=null){var w=z_({active:s,coordinate:n,dataKey:l,index:a,label:typeof r=="number"?String(r):r,sourceViewBox:x,graphicalItemId:void 0});zh.emit(F_,f,w,u)}},[g,n,l,a,r,u,f,h,s,x])}function pI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function gI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pI(Object(n),!0).forEach(function(r){Tce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tce(t,e,n){return(e=jce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jce(t){var e=Cce(t,"string");return typeof e=="symbol"?e:e+""}function Cce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kce(t){return t.dataKey}function Oce(t,e){return _.isValidElement(t)?_.cloneElement(t,e):typeof t=="function"?_.createElement(t,e):_.createElement(hne,e)}var yI=[],Pce={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function vI(t){var e,n,r=Xn(t,Pce),{active:a,allowEscapeViewBox:s,animationDuration:l,animationEasing:u,content:f,filterNull:h,isAnimationActive:p,offset:g,payloadUniqBy:x,position:w,reverseDirection:E,useTranslate3d:S,wrapperStyle:A,cursor:j,shared:I,trigger:P,defaultIndex:H,portal:R,axisId:F}=r,k=Kt(),O=typeof H=="number"?String(H):H;_.useEffect(()=>{k(Toe({shared:I,trigger:P,axisId:F,active:a,defaultIndex:O}))},[k,I,P,F,a,O]);var D=qv(),q=R5(),M=woe(I),{activeIndex:U,isActive:V}=(e=Ve(ne=>Mle(ne,M,P,O)))!==null&&e!==void 0?e:{},we=Ve(ne=>Rle(ne,M,P,O)),Se=Ve(ne=>FV(ne,M,P,O)),Z=Ve(ne=>Ile(ne,M,P,O)),Y=we,J=sce(),he=(n=a??V)!==null&&n!==void 0?n:!1,[Te,$]=V6([Y,he]),z=M==="axis"?Se:void 0;Ace(M,P,Z,z,U,he);var K=R??J;if(K==null||D==null||M==null)return null;var re=Y??yI;he||(re=yI),h&&re.length&&(re=D6(re.filter(ne=>ne.value!=null&&(ne.hide!==!0||r.includeHidden)),x,kce));var ge=re.length>0,Ee=_.createElement(bne,{allowEscapeViewBox:s,animationDuration:l,animationEasing:u,isAnimationActive:p,active:he,coordinate:Z,hasPayload:ge,offset:g,position:w,reverseDirection:E,useTranslate3d:S,viewBox:D,wrapperStyle:A,lastBoundingBox:Te,innerRef:$,hasPortalFromProps:!!R},Oce(f,gI(gI({},r),{},{payload:re,label:z,active:he,activeIndex:U,coordinate:Z,accessibilityLayer:q})));return _.createElement(_.Fragment,null,uE.createPortal(Ee,K),he&&_.createElement(ice,{cursor:j,tooltipEventType:M,coordinate:Z,payload:re,index:U}))}var jm=t=>null;jm.displayName="Cell";function Dce(t,e,n){return(e=Ice(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ice(t){var e=Rce(t,"string");return typeof e=="symbol"?e:e+""}function Rce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Mce{constructor(e){Dce(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function xI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Lce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xI(Object(n),!0).forEach(function(r){Vce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vce(t,e,n){return(e=Uce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uce(t){var e=zce(t,"string");return typeof e=="symbol"?e:e+""}function zce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $ce={cacheSize:2e3,enableCache:!0},WV=Lce({},$ce),bI=new Mce(WV.cacheSize),Bce={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},wI="recharts_measurement_span";function Fce(t,e){var n=e.fontSize||"",r=e.fontFamily||"",a=e.fontWeight||"",s=e.fontStyle||"",l=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(s,"|").concat(l,"|").concat(u)}var _I=(t,e)=>{try{var n=document.getElementById(wI);n||(n=document.createElement("span"),n.setAttribute("id",wI),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Bce,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},dh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Wv.isSsr)return{width:0,height:0};if(!WV.enableCache)return _I(e,n);var r=Fce(e,n),a=bI.get(r);if(a)return a;var s=_I(e,n);return bI.set(r,s),s},XV;function qce(t,e,n){return(e=Hce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hce(t){var e=Kce(t,"string");return typeof e=="symbol"?e:e+""}function Kce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,SI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Gce=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Yce=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Wce={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Xce=["cm","mm","pt","pc","in","Q","px"];function Qce(t){return Xce.includes(t)}var Bu="NaN";function Zce(t,e){return t*Wce[e]}class gr{static parse(e){var n,[,r,a]=(n=Yce.exec(e))!==null&&n!==void 0?n:[];return r==null?gr.NaN:new gr(parseFloat(r),a??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,ts(e)&&(this.unit=""),n!==""&&!Gce.test(n)&&(this.num=NaN,this.unit=""),Qce(n)&&(this.num=Zce(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new gr(NaN,""):new gr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new gr(NaN,""):new gr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new gr(NaN,""):new gr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new gr(NaN,""):new gr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ts(this.num)}}XV=gr;qce(gr,"NaN",new XV(NaN,""));function QV(t){if(t==null||t.includes(Bu))return Bu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,a,s]=(n=EI.exec(e))!==null&&n!==void 0?n:[],l=gr.parse(r??""),u=gr.parse(s??""),f=a==="*"?l.multiply(u):l.divide(u);if(f.isNaN())return Bu;e=e.replace(EI,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,p,g,x]=(h=SI.exec(e))!==null&&h!==void 0?h:[],w=gr.parse(p??""),E=gr.parse(x??""),S=g==="+"?w.add(E):w.subtract(E);if(S.isNaN())return Bu;e=e.replace(SI,S.toString())}return e}var NI=/\(([^()]*)\)/;function Jce(t){for(var e=t,n;(n=NI.exec(e))!=null;){var[,r]=n;e=e.replace(NI,QV(r))}return e}function eue(t){var e=t.replace(/\s+/g,"");return e=Jce(e),e=QV(e),e}function tue(t){try{return eue(t)}catch{return Bu}}function a1(t){var e=tue(t.slice(5,-1));return e===Bu?"":e}var nue=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],rue=["dx","dy","angle","className","breakAll"];function q_(){return q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q_.apply(null,arguments)}function AI(t,e){if(t==null)return{};var n,r,a=aue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function aue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ZV=/[ \f\n\r\t\v\u2028\u2029]+/,JV=t=>{var{children:e,breakAll:n,style:r}=t;try{var a=[];sn(e)||(n?a=e.toString().split(""):a=e.toString().split(ZV));var s=a.map(u=>({word:u,width:dh(u,r).width})),l=n?0:dh("",r).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function iue(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var eU=(t,e,n,r)=>t.reduce((a,s)=>{var{word:l,width:u}=s,f=a[a.length-1];if(f&&u!=null&&(e==null||r||f.width+u+n<Number(e)))f.words.push(l),f.width+=u+n;else{var h={words:[l],width:u};a.push(h)}return a},[]),tU=t=>t.reduce((e,n)=>e.width>n.width?e:n),sue="",TI=(t,e,n,r,a,s,l,u)=>{var f=t.slice(0,e),h=JV({breakAll:n,style:r,children:f+sue});if(!h)return[!1,[]];var p=eU(h.wordsWithComputedWidth,s,l,u),g=p.length>a||tU(p).width>Number(s);return[g,p]},oue=(t,e,n,r,a)=>{var{maxLines:s,children:l,style:u,breakAll:f}=t,h=Be(s),p=String(l),g=eU(e,r,n,a);if(!h||a)return g;var x=g.length>s||tU(g).width>Number(r);if(!x)return g;for(var w=0,E=p.length-1,S=0,A;w<=E&&S<=p.length-1;){var j=Math.floor((w+E)/2),I=j-1,[P,H]=TI(p,I,f,u,s,r,n,a),[R]=TI(p,j,f,u,s,r,n,a);if(!P&&!R&&(w=j+1),P&&R&&(E=j-1),!P&&R){A=H;break}S++}return A||g},jI=t=>{var e=sn(t)?[]:t.toString().split(ZV);return[{words:e,width:void 0}]},lue=t=>{var{width:e,scaleToFit:n,children:r,style:a,breakAll:s,maxLines:l}=t;if((e||n)&&!Wv.isSsr){var u,f,h=JV({breakAll:s,children:r,style:a});if(h){var{wordsWithComputedWidth:p,spaceWidth:g}=h;u=p,f=g}else return jI(r);return oue({breakAll:s,children:r,maxLines:l,style:a},u,f,e,!!n)}return jI(r)},nU="#808080",cue={angle:0,breakAll:!1,capHeight:"0.71em",fill:nU,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},m0=_.forwardRef((t,e)=>{var n=Xn(t,cue),{x:r,y:a,lineHeight:s,capHeight:l,fill:u,scaleToFit:f,textAnchor:h,verticalAnchor:p}=n,g=AI(n,nue),x=_.useMemo(()=>lue({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:w,dy:E,angle:S,className:A,breakAll:j}=g,I=AI(g,rue);if(!ns(r)||!ns(a)||x.length===0)return null;var P=Number(r)+(Be(w)?w:0),H=Number(a)+(Be(E)?E:0);if(!dn(P)||!dn(H))return null;var R;switch(p){case"start":R=a1("calc(".concat(l,")"));break;case"middle":R=a1("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:R=a1("calc(".concat(x.length-1," * -").concat(s,")"));break}var F=[];if(f){var k=x[0].width,{width:O}=g;F.push("scale(".concat(Be(O)&&Be(k)?O/k:1,")"))}return S&&F.push("rotate(".concat(S,", ").concat(P,", ").concat(H,")")),F.length&&(I.transform=F.join(" ")),_.createElement("text",q_({},Rr(I),{ref:e,x:P,y:H,className:wt("recharts-text",A),textAnchor:h,fill:u.includes("url")?nU:u}),x.map((D,q)=>{var M=D.words.join(j?"":" ");return _.createElement("tspan",{x:P,dy:q===0?R:s,key:"".concat(M,"-").concat(q)},M)}))});m0.displayName="Text";var uue=["labelRef"],due=["content"];function CI(t,e){if(t==null)return{};var n,r,a=fue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function fue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function kI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function En(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kI(Object(n),!0).forEach(function(r){hue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hue(t,e,n){return(e=mue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mue(t){var e=pue(t,"string");return typeof e=="symbol"?e:e+""}function pue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cs(){return Cs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cs.apply(null,arguments)}var rU=_.createContext(null),gue=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:a,width:s,height:l,children:u}=t,f=_.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:a,width:s,height:l}),[e,n,r,a,s,l]);return _.createElement(rU.Provider,{value:f},u)},aU=()=>{var t=_.useContext(rU),e=qv();return t||w5(e)},yue=_.createContext(null),vue=()=>{var t=_.useContext(yue),e=Ve(YL);return t||e},xue=t=>{var{value:e,formatter:n}=t,r=sn(t.children)?e:t.children;return typeof n=="function"?n(r):r},UN=t=>t!=null&&typeof t=="function",bue=(t,e)=>{var n=xr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},wue=(t,e,n,r,a)=>{var{offset:s,className:l}=t,{cx:u,cy:f,innerRadius:h,outerRadius:p,startAngle:g,endAngle:x,clockWise:w}=a,E=(h+p)/2,S=bue(g,x),A=S>=0?1:-1,j,I;switch(e){case"insideStart":j=g+A*s,I=w;break;case"insideEnd":j=x-A*s,I=!w;break;case"end":j=x+A*s,I=w;break;default:throw new Error("Unsupported position ".concat(e))}I=S<=0?I:!I;var P=Un(u,f,E,j),H=Un(u,f,E,j+(I?1:-1)*359),R="M".concat(P.x,",").concat(P.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(I?0:1,`,
    `).concat(H.x,",").concat(H.y),F=sn(t.id)?Th("recharts-radial-line-"):t.id;return _.createElement("text",Cs({},r,{dominantBaseline:"central",className:wt("recharts-radial-bar-label",l)}),_.createElement("defs",null,_.createElement("path",{id:F,d:R})),_.createElement("textPath",{xlinkHref:"#".concat(F)},n))},_ue=(t,e,n)=>{var{cx:r,cy:a,innerRadius:s,outerRadius:l,startAngle:u,endAngle:f}=t,h=(u+f)/2;if(n==="outside"){var{x:p,y:g}=Un(r,a,l+e,h);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var x=(s+l)/2,{x:w,y:E}=Un(r,a,x,h);return{x:w,y:E,textAnchor:"middle",verticalAnchor:"middle"}},H_=t=>"cx"in t&&Be(t.cx),Eue=(t,e)=>{var{parentViewBox:n,offset:r,position:a}=t,s;n!=null&&!H_(n)&&(s=n);var{x:l,y:u,upperWidth:f,lowerWidth:h,height:p}=e,g=l,x=l+(f-h)/2,w=(g+x)/2,E=(f+h)/2,S=g+f/2,A=p>=0?1:-1,j=A*r,I=A>0?"end":"start",P=A>0?"start":"end",H=f>=0?1:-1,R=H*r,F=H>0?"end":"start",k=H>0?"start":"end";if(a==="top"){var O={x:g+f/2,y:u-j,textAnchor:"middle",verticalAnchor:I};return En(En({},O),s?{height:Math.max(u-s.y,0),width:f}:{})}if(a==="bottom"){var D={x:x+h/2,y:u+p+j,textAnchor:"middle",verticalAnchor:P};return En(En({},D),s?{height:Math.max(s.y+s.height-(u+p),0),width:h}:{})}if(a==="left"){var q={x:w-R,y:u+p/2,textAnchor:F,verticalAnchor:"middle"};return En(En({},q),s?{width:Math.max(q.x-s.x,0),height:p}:{})}if(a==="right"){var M={x:w+E+R,y:u+p/2,textAnchor:k,verticalAnchor:"middle"};return En(En({},M),s?{width:Math.max(s.x+s.width-M.x,0),height:p}:{})}var U=s?{width:E,height:p}:{};return a==="insideLeft"?En({x:w+R,y:u+p/2,textAnchor:k,verticalAnchor:"middle"},U):a==="insideRight"?En({x:w+E-R,y:u+p/2,textAnchor:F,verticalAnchor:"middle"},U):a==="insideTop"?En({x:g+f/2,y:u+j,textAnchor:"middle",verticalAnchor:P},U):a==="insideBottom"?En({x:x+h/2,y:u+p-j,textAnchor:"middle",verticalAnchor:I},U):a==="insideTopLeft"?En({x:g+R,y:u+j,textAnchor:k,verticalAnchor:P},U):a==="insideTopRight"?En({x:g+f-R,y:u+j,textAnchor:F,verticalAnchor:P},U):a==="insideBottomLeft"?En({x:x+R,y:u+p-j,textAnchor:k,verticalAnchor:I},U):a==="insideBottomRight"?En({x:x+h-R,y:u+p-j,textAnchor:F,verticalAnchor:I},U):a&&typeof a=="object"&&(Be(a.x)||Ks(a.x))&&(Be(a.y)||Ks(a.y))?En({x:l+Ar(a.x,E),y:u+Ar(a.y,p),textAnchor:"end",verticalAnchor:"end"},U):En({x:S,y:u+p/2,textAnchor:"middle",verticalAnchor:"middle"},U)},Sue={angle:0,offset:5,zIndex:Yn.label,position:"middle",textBreakAll:!1};function Ho(t){var e=Xn(t,Sue),{viewBox:n,position:r,value:a,children:s,content:l,className:u="",textBreakAll:f,labelRef:h}=e,p=vue(),g=aU(),x=r==="center"?g:p??g,w,E,S;if(n==null?w=x:H_(n)?w=n:w=w5(n),!w||sn(a)&&sn(s)&&!_.isValidElement(l)&&typeof l!="function")return null;var A=En(En({},e),{},{viewBox:w});if(_.isValidElement(l)){var{labelRef:j}=A,I=CI(A,uue);return _.cloneElement(l,I)}if(typeof l=="function"){var{content:P}=A,H=CI(A,due);if(E=_.createElement(l,H),_.isValidElement(E))return E}else E=xue(e);var R=Rr(e);if(H_(w)){if(r==="insideStart"||r==="insideEnd"||r==="end")return wue(e,r,E,R,w);S=_ue(w,e.offset,e.position)}else S=Eue(e,w);return _.createElement(Ea,{zIndex:e.zIndex},_.createElement(m0,Cs({ref:h,className:wt("recharts-label",u)},R,S,{textAnchor:iue(R.textAnchor)?R.textAnchor:S.textAnchor,breakAll:f}),E))}Ho.displayName="Label";var Nue=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?_.createElement(Ho,Cs({key:"label-implicit"},r)):ns(t)?_.createElement(Ho,Cs({key:"label-implicit",value:t},r)):_.isValidElement(t)?t.type===Ho?_.cloneElement(t,En({key:"label-implicit"},r)):_.createElement(Ho,Cs({key:"label-implicit",content:t},r)):UN(t)?_.createElement(Ho,Cs({key:"label-implicit",content:t},r)):t&&typeof t=="object"?_.createElement(Ho,Cs({},t,{key:"label-implicit"},r)):null};function Aue(t){var{label:e,labelRef:n}=t,r=aU();return Nue(e,r,n)||null}var i1={},s1={},OI;function Tue(){return OI||(OI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(s1)),s1}var o1={},PI;function jue(){return PI||(PI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(o1)),o1}var DI;function Cue(){return DI||(DI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Tue(),n=jue(),r=gS();function a(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=a})(i1)),i1}var l1,II;function kue(){return II||(II=1,l1=Cue().last),l1}var Oue=kue();const Pue=Js(Oue);var Due=["valueAccessor"],Iue=["dataKey","clockWise","id","textBreakAll","zIndex"];function Ky(){return Ky=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ky.apply(null,arguments)}function RI(t,e){if(t==null)return{};var n,r,a=Rue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Rue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Mue=t=>Array.isArray(t.value)?Pue(t.value):t.value,iU=_.createContext(void 0),sU=iU.Provider,oU=_.createContext(void 0),Lue=oU.Provider;function Vue(){return _.useContext(iU)}function Uue(){return _.useContext(oU)}function Lg(t){var{valueAccessor:e=Mue}=t,n=RI(t,Due),{dataKey:r,clockWise:a,id:s,textBreakAll:l,zIndex:u}=n,f=RI(n,Iue),h=Vue(),p=Uue(),g=h||p;return!g||!g.length?null:_.createElement(Ea,{zIndex:u??Yn.label},_.createElement(lr,{className:"recharts-label-list"},g.map((x,w)=>{var E,S=sn(r)?e(x,w):Ut(x&&x.payload,r),A=sn(s)?{}:{id:"".concat(s,"-").concat(w)};return _.createElement(Ho,Ky({key:"label-".concat(w)},Rr(x),f,A,{fill:(E=n.fill)!==null&&E!==void 0?E:x.fill,parentViewBox:x.parentViewBox,value:S,textBreakAll:l,viewBox:x.viewBox,index:w,zIndex:0}))})))}Lg.displayName="LabelList";function zN(t){var{label:e}=t;return e?e===!0?_.createElement(Lg,{key:"labelList-implicit"}):_.isValidElement(e)||UN(e)?_.createElement(Lg,{key:"labelList-implicit",content:e}):typeof e=="object"?_.createElement(Lg,Ky({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function K_(){return K_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K_.apply(null,arguments)}var lU=t=>{var{cx:e,cy:n,r,className:a}=t,s=wt("recharts-dot",a);return Be(e)&&Be(n)&&Be(r)?_.createElement("circle",K_({},Ya(t),pS(t),{className:s,cx:e,cy:n,r})):null},cU=t=>t.graphicalItems.polarItems,zue=oe([on,bm],cN),p0=oe([cU,fn,zue],uN),$ue=oe([p0],dN),g0=oe([$ue,n0],fN),Bue=oe([g0,fn,p0],mN);oe([g0,fn,p0],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(a=>{var s,l=Ut(r,(s=e.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(r=>({value:Ut(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var MI=()=>{},Fue=oe([g0,fn,p0,u0,on],vN),que=oe([fn,gN,yN,MI,Fue,MI,yt,on],xN),uU=oe([fn,yt,g0,Bue,xm,on,que],bN),Hue=oe([uU,fn,Cd],EN);oe([fn,uU,Hue,on],NN);var Kue={radiusAxis:{},angleAxis:{}},dU=ea({name:"polarAxis",initialState:Kue,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Jge,removeRadiusAxis:eye,addAngleAxis:tye,removeAngleAxis:nye}=dU.actions,Gue=dU.reducer;function LI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function VI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LI(Object(n),!0).forEach(function(r){Yue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yue(t,e,n){return(e=Wue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wue(t){var e=Xue(t,"string");return typeof e=="symbol"?e:e+""}function Xue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Que=(t,e)=>e,$N=oe([cU,Que],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),Zue=[],BN=(t,e,n)=>n?.length===0?Zue:n,fU=oe([n0,$N,BN],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var a;if(e?.data!=null&&e.data.length>0?a=e.data:a=r,(!a||!a.length)&&n!=null&&(a=n.map(s=>VI(VI({},e.presentationProps),s.props))),a!=null)return a}}),Jue=oe([fU,$N,BN],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,a)=>{var s,l=Ut(r,e.nameKey,e.name),u;return n!=null&&(s=n[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?u=n[a].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=e.fill,{value:_d(l,e.dataKey),color:u,payload:r,type:e.legendType}})}),ede=oe([fU,$N,BN,Qn],(t,e,n,r)=>{if(!(e==null||t==null))return nfe({offset:r,pieSettings:e,displayedData:t,cells:n})}),c1={exports:{}},Lt={};var UI;function tde(){if(UI)return Lt;UI=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),w=Symbol.for("react.client.reference");function E(S){if(typeof S=="object"&&S!==null){var A=S.$$typeof;switch(A){case t:switch(S=S.type,S){case n:case a:case r:case f:case h:case x:return S;default:switch(S=S&&S.$$typeof,S){case l:case u:case g:case p:return S;case s:return S;default:return A}}case e:return A}}}return Lt.ContextConsumer=s,Lt.ContextProvider=l,Lt.Element=t,Lt.ForwardRef=u,Lt.Fragment=n,Lt.Lazy=g,Lt.Memo=p,Lt.Portal=e,Lt.Profiler=a,Lt.StrictMode=r,Lt.Suspense=f,Lt.SuspenseList=h,Lt.isContextConsumer=function(S){return E(S)===s},Lt.isContextProvider=function(S){return E(S)===l},Lt.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===t},Lt.isForwardRef=function(S){return E(S)===u},Lt.isFragment=function(S){return E(S)===n},Lt.isLazy=function(S){return E(S)===g},Lt.isMemo=function(S){return E(S)===p},Lt.isPortal=function(S){return E(S)===e},Lt.isProfiler=function(S){return E(S)===a},Lt.isStrictMode=function(S){return E(S)===r},Lt.isSuspense=function(S){return E(S)===f},Lt.isSuspenseList=function(S){return E(S)===h},Lt.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===a||S===r||S===f||S===h||typeof S=="object"&&S!==null&&(S.$$typeof===g||S.$$typeof===p||S.$$typeof===l||S.$$typeof===s||S.$$typeof===u||S.$$typeof===w||S.getModuleId!==void 0)},Lt.typeOf=E,Lt}var zI;function nde(){return zI||(zI=1,c1.exports=tde()),c1.exports}var rde=nde(),$I=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",BI=null,u1=null,hU=t=>{if(t===BI&&Array.isArray(u1))return u1;var e=[];return _.Children.forEach(t,n=>{sn(n)||(rde.isFragment(n)?e=e.concat(hU(n.props.children)):e.push(n))}),u1=e,BI=t,e};function FN(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(a=>$I(a)):r=[$I(e)],hU(t).forEach(a=>{var s=Nc(a,"type.displayName")||Nc(a,"type.name");s&&r.indexOf(s)!==-1&&n.push(a)}),n}var mU=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,d1={},FI;function ade(){return FI||(FI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(d1)),d1}var f1,qI;function ide(){return qI||(qI=1,f1=ade().isPlainObject),f1}var sde=ide();const ode=Js(sde);var HI,KI,GI,YI,WI;function XI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function QI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XI(Object(n),!0).forEach(function(r){lde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lde(t,e,n){return(e=cde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cde(t){var e=ude(t,"string");return typeof e=="symbol"?e:e+""}function ude(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gy(){return Gy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gy.apply(null,arguments)}function Gf(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var ZI=(t,e,n,r,a)=>{var s=n-r,l;return l=gn(HI||(HI=Gf(["M ",",",""])),t,e),l+=gn(KI||(KI=Gf(["L ",",",""])),t+n,e),l+=gn(GI||(GI=Gf(["L ",",",""])),t+n-s/2,e+a),l+=gn(YI||(YI=Gf(["L ",",",""])),t+n-s/2-r,e+a),l+=gn(WI||(WI=Gf(["L ",","," Z"])),t,e),l},dde={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fde=t=>{var e=Xn(t,dde),{x:n,y:r,upperWidth:a,lowerWidth:s,height:l,className:u}=e,{animationEasing:f,animationDuration:h,animationBegin:p,isUpdateAnimationActive:g}=e,x=_.useRef(null),[w,E]=_.useState(-1),S=_.useRef(a),A=_.useRef(s),j=_.useRef(l),I=_.useRef(n),P=_.useRef(r),H=mm(t,"trapezoid-");if(_.useEffect(()=>{if(x.current&&x.current.getTotalLength)try{var we=x.current.getTotalLength();we&&E(we)}catch{}},[]),n!==+n||r!==+r||a!==+a||s!==+s||l!==+l||a===0&&s===0||l===0)return null;var R=wt("recharts-trapezoid",u);if(!g)return _.createElement("g",null,_.createElement("path",Gy({},Rr(e),{className:R,d:ZI(n,r,a,s,l)})));var F=S.current,k=A.current,O=j.current,D=I.current,q=P.current,M="0px ".concat(w===-1?1:w,"px"),U="".concat(w,"px 0px"),V=M5(["strokeDasharray"],h,f);return _.createElement(hm,{animationId:H,key:H,canBegin:w>0,duration:h,easing:f,isActive:g,begin:p},we=>{var Se=nn(F,a,we),Z=nn(k,s,we),Y=nn(O,l,we),J=nn(D,n,we),he=nn(q,r,we);x.current&&(S.current=Se,A.current=Z,j.current=Y,I.current=J,P.current=he);var Te=we>0?{transition:V,strokeDasharray:U}:{strokeDasharray:M};return _.createElement("path",Gy({},Rr(e),{className:R,d:ZI(J,he,Se,Z,Y),ref:x,style:QI(QI({},Te),e.style)}))})},hde=["option","shapeType","activeClassName"];function mde(t,e){if(t==null)return{};var n,r,a=pde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function pde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function JI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Yy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JI(Object(n),!0).forEach(function(r){gde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gde(t,e,n){return(e=yde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yde(t){var e=vde(t,"string");return typeof e=="symbol"?e:e+""}function vde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xde(t,e){return Yy(Yy({},e),t)}function bde(t,e){return t==="symbols"}function eR(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return _.createElement(z5,n);case"trapezoid":return _.createElement(fde,n);case"sector":return _.createElement(q5,n);case"symbols":if(bde(e))return _.createElement(mS,n);break;case"curve":return _.createElement(jS,n);default:return null}}function wde(t){return _.isValidElement(t)?t.props:t}function qN(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,a=mde(t,hde),s;if(_.isValidElement(e))s=_.cloneElement(e,Yy(Yy({},a),wde(e)));else if(typeof e=="function")s=e(a,a.index);else if(ode(e)&&typeof e!="boolean"){var l=xde(e,a);s=_.createElement(eR,{shapeType:n,elementProps:l})}else{var u=a;s=_.createElement(eR,{shapeType:n,elementProps:u})}return a.isActive?_.createElement(lr,{className:r},s):s}var HN=(t,e,n)=>{var r=Kt();return(a,s)=>l=>{t?.(a,s,l),r(NV({activeIndex:String(s),activeDataKey:e,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}},KN=t=>{var e=Kt();return(n,r)=>a=>{t?.(n,r,a),e(joe())}},GN=(t,e,n)=>{var r=Kt();return(a,s)=>l=>{t?.(a,s,l),r(Coe({activeIndex:String(s),activeDataKey:e,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}};function YN(t){var{tooltipEntrySettings:e}=t,n=Kt(),r=Lr(),a=_.useRef(null);return _.useLayoutEffect(()=>{r||(a.current===null?n(Soe(e)):a.current!==e&&n(Noe({prev:a.current,next:e})),a.current=e)},[e,n,r]),_.useLayoutEffect(()=>()=>{a.current&&(n(Aoe(a.current)),a.current=null)},[n]),null}function pU(t){var{legendPayload:e}=t,n=Kt(),r=Lr(),a=_.useRef(null);return _.useLayoutEffect(()=>{r||(a.current===null?n(O5(e)):a.current!==e&&n(P5({prev:a.current,next:e})),a.current=e)},[n,r,e]),_.useLayoutEffect(()=>()=>{a.current&&(n(D5(a.current)),a.current=null)},[n]),null}function _de(t){var{legendPayload:e}=t,n=Kt(),r=Ve(yt),a=_.useRef(null);return _.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(a.current===null?n(O5(e)):a.current!==e&&n(P5({prev:a.current,next:e})),a.current=e)},[n,r,e]),_.useLayoutEffect(()=>()=>{a.current&&(n(D5(a.current)),a.current=null)},[n]),null}var h1,Ede=()=>{var[t]=_.useState(()=>Th("uid-"));return t},Sde=(h1=Mz.useId)!==null&&h1!==void 0?h1:Ede;function Nde(t,e){var n=Sde();return e||(t?"".concat(t,"-").concat(n):n)}var Ade=_.createContext(void 0),WN=t=>{var{id:e,type:n,children:r}=t,a=Nde("recharts-".concat(n),e);return _.createElement(Ade.Provider,{value:a},r(a))},Tde={cartesianItems:[],polarItems:[]},gU=ea({name:"graphicalItems",initialState:Tde,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:tn()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,a=gi(t).cartesianItems.indexOf(n);a>-1&&(t.cartesianItems[a]=r)},prepare:tn()},removeCartesianGraphicalItem:{reducer(t,e){var n=gi(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:tn()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:tn()},removePolarGraphicalItem:{reducer(t,e){var n=gi(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:tn()}}}),{addCartesianGraphicalItem:jde,replaceCartesianGraphicalItem:Cde,removeCartesianGraphicalItem:kde,addPolarGraphicalItem:Ode,removePolarGraphicalItem:Pde}=gU.actions,Dde=gU.reducer,Ide=t=>{var e=Kt(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?e(jde(t)):n.current!==t&&e(Cde({prev:n.current,next:t})),n.current=t},[e,t]),_.useLayoutEffect(()=>()=>{n.current&&(e(kde(n.current)),n.current=null)},[e]),null},yU=_.memo(Ide);function Rde(t){var e=Kt();return _.useLayoutEffect(()=>(e(Ode(t)),()=>{e(Pde(t))}),[e,t]),null}var Mde=["key"],Lde=["onMouseEnter","onClick","onMouseLeave"],Vde=["id"],Ude=["id"];function tR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tR(Object(n),!0).forEach(function(r){zde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zde(t,e,n){return(e=$de(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $de(t){var e=Bde(t,"string");return typeof e=="symbol"?e:e+""}function Bde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yl(){return yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yl.apply(null,arguments)}function y0(t,e){if(t==null)return{};var n,r,a=Fde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Fde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function qde(t){var e=_.useMemo(()=>FN(t.children,jm),[t.children]),n=Ve(r=>Jue(r,t.id,e));return n==null?null:_.createElement(_de,{legendPayload:n})}var Hde=_.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:a,strokeWidth:s,fill:l,name:u,hide:f,tooltipType:h,id:p}=t,g={dataDefinedOnItem:r.map(x=>x.tooltipPayload),positions:r.map(x=>x.tooltipPosition),settings:{stroke:a,strokeWidth:s,fill:l,dataKey:e,nameKey:n,name:_d(u,e),hide:f,type:h,color:l,unit:"",graphicalItemId:p}};return _.createElement(YN,{tooltipEntrySettings:g})}),Kde=(t,e)=>t>e?"start":t<e?"end":"middle",Gde=(t,e,n)=>Ar(typeof e=="function"?e(t):e,n,n*.8),Yde=(t,e,n)=>{var{top:r,left:a,width:s,height:l}=e,u=$5(s,l),f=a+Ar(t.cx,s,s/2),h=r+Ar(t.cy,l,l/2),p=Ar(t.innerRadius,u,0),g=Gde(n,t.outerRadius,u),x=t.maxRadius||Math.sqrt(s*s+l*l)/2;return{cx:f,cy:h,innerRadius:p,outerRadius:g,maxRadius:x}},Wde=(t,e)=>{var n=xr(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function Xde(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var Qde=(t,e)=>{if(_.isValidElement(t))return _.cloneElement(t,e);if(typeof t=="function")return t(e);var n=wt("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,a=y0(e,Mde);return _.createElement(jS,yl({},a,{type:"linear",className:n}))},Zde=(t,e,n)=>{if(_.isValidElement(t))return _.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),_.isValidElement(r)))return r;var a=wt("recharts-pie-label-text",Xde(t));return _.createElement(m0,yl({},e,{alignmentBaseline:"middle",className:a}),r)};function Jde(t){var{sectors:e,props:n,showLabels:r}=t,{label:a,labelLine:s,dataKey:l}=n;if(!r||!a||!e)return null;var u=Ya(n),f=Ec(a),h=Ec(s),p=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,g=e.map((x,w)=>{var E=(x.startAngle+x.endAngle)/2,S=Un(x.cx,x.cy,x.outerRadius+p,E),A=yn(yn(yn(yn({},u),x),{},{stroke:"none"},f),{},{index:w,textAnchor:Kde(S.x,x.cx)},S),j=yn(yn(yn(yn({},u),x),{},{fill:"none",stroke:x.fill},h),{},{index:w,points:[Un(x.cx,x.cy,x.outerRadius,E),S],key:"line"});return _.createElement(Ea,{zIndex:Yn.label,key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(w)},_.createElement(lr,null,s&&Qde(s,j),Zde(a,A,Ut(x,l))))});return _.createElement(lr,{className:"recharts-pie-labels"},g)}function efe(t){var{sectors:e,props:n,showLabels:r}=t,{label:a}=n;return typeof a=="object"&&a!=null&&"position"in a?_.createElement(zN,{label:a}):_.createElement(Jde,{sectors:e,props:n,showLabels:r})}function tfe(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:a,shape:s,id:l}=t,u=Ve(gl),f=Ve(IN),h=Ve(mle),{onMouseEnter:p,onClick:g,onMouseLeave:x}=a,w=y0(a,Lde),E=HN(p,a.dataKey,l),S=KN(x),A=GN(g,a.dataKey,l);return e==null||e.length===0?null:_.createElement(_.Fragment,null,e.map((j,I)=>{if(j?.startAngle===0&&j?.endAngle===0&&e.length!==1)return null;var P=h==null||h===l,H=String(I)===u&&(f==null||a.dataKey===f)&&P,R=u?r:null,F=n&&H?n:R,k=yn(yn({},j),{},{stroke:j.stroke,tabIndex:-1,[g5]:I,[y5]:l});return _.createElement(lr,yl({key:"sector-".concat(j?.startAngle,"-").concat(j?.endAngle,"-").concat(j.midAngle,"-").concat(I),tabIndex:-1,className:"recharts-pie-sector"},lm(w,j,I),{onMouseEnter:E(j,I),onMouseLeave:S(j,I),onClick:A(j,I)}),_.createElement(qN,yl({option:s??F,index:I,shapeType:"sector",isActive:H},k)))}))}function nfe(t){var e,{pieSettings:n,displayedData:r,cells:a,offset:s}=t,{cornerRadius:l,startAngle:u,endAngle:f,dataKey:h,nameKey:p,tooltipType:g}=n,x=Math.abs(n.minAngle),w=Wde(u,f),E=Math.abs(w),S=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,A=r.filter(F=>Ut(F,h,0)!==0).length,j=(E>=360?A:A-1)*S,I=E-A*x-j,P=r.reduce((F,k)=>{var O=Ut(k,h,0);return F+(Be(O)?O:0)},0),H;if(P>0){var R;H=r.map((F,k)=>{var O=Ut(F,h,0),D=Ut(F,p,k),q=Yde(n,s,F),M=(Be(O)?O:0)/P,U,V=yn(yn({},F),a&&a[k]&&a[k].props);k?U=R.endAngle+xr(w)*S*(O!==0?1:0):U=u;var we=U+xr(w)*((O!==0?x:0)+M*I),Se=(U+we)/2,Z=(q.innerRadius+q.outerRadius)/2,Y=[{name:D,value:O,payload:V,dataKey:h,type:g,graphicalItemId:n.id}],J=Un(q.cx,q.cy,Z,Se);return R=yn(yn(yn(yn({},n.presentationProps),{},{percent:M,cornerRadius:typeof l=="string"?parseFloat(l):l,name:D,tooltipPayload:Y,midAngle:Se,middleRadius:Z,tooltipPosition:J},V),q),{},{value:O,dataKey:h,startAngle:U,endAngle:we,payload:V,paddingAngle:xr(w)*S}),R})}return H}function rfe(t){var{showLabels:e,sectors:n,children:r}=t,a=_.useMemo(()=>!e||!n?[]:n.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[n,e]);return _.createElement(Lue,{value:e?a:void 0},r)}function afe(t){var{props:e,previousSectorsRef:n,id:r}=t,{sectors:a,isAnimationActive:s,animationBegin:l,animationDuration:u,animationEasing:f,activeShape:h,inactiveShape:p,onAnimationStart:g,onAnimationEnd:x}=e,w=mm(e,"recharts-pie-"),E=n.current,[S,A]=_.useState(!1),j=_.useCallback(()=>{typeof x=="function"&&x(),A(!1)},[x]),I=_.useCallback(()=>{typeof g=="function"&&g(),A(!0)},[g]);return _.createElement(rfe,{showLabels:!S,sectors:a},_.createElement(hm,{animationId:w,begin:l,duration:u,isActive:s,easing:f,onAnimationStart:I,onAnimationEnd:j,key:w},P=>{var H=[],R=a&&a[0],F=R?.startAngle;return a?.forEach((k,O)=>{var D=E&&E[O],q=O>0?Nc(k,"paddingAngle",0):0;if(D){var M=nn(D.endAngle-D.startAngle,k.endAngle-k.startAngle,P),U=yn(yn({},k),{},{startAngle:F+q,endAngle:F+M+q});H.push(U),F=U.endAngle}else{var{endAngle:V,startAngle:we}=k,Se=nn(0,V-we,P),Z=yn(yn({},k),{},{startAngle:F+q,endAngle:F+Se+q});H.push(Z),F=Z.endAngle}}),n.current=H,_.createElement(lr,null,_.createElement(tfe,{sectors:H,activeShape:h,inactiveShape:p,allOtherPieProps:e,shape:e.shape,id:r}))}),_.createElement(efe,{showLabels:!S,sectors:a,props:e}),e.children)}var ife={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Yn.area};function sfe(t){var{id:e}=t,n=y0(t,Vde),{hide:r,className:a,rootTabIndex:s}=t,l=_.useMemo(()=>FN(t.children,jm),[t.children]),u=Ve(p=>ede(p,e,l)),f=_.useRef(null),h=wt("recharts-pie",a);return r||u==null?(f.current=null,_.createElement(lr,{tabIndex:s,className:h})):_.createElement(Ea,{zIndex:t.zIndex},_.createElement(Hde,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:u,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),_.createElement(lr,{tabIndex:s,className:h},_.createElement(afe,{props:yn(yn({},n),{},{sectors:u}),previousSectorsRef:f,id:e})))}function vU(t){var e=Xn(t,ife),{id:n}=e,r=y0(e,Ude),a=Ya(r);return _.createElement(WN,{id:n,type:"pie"},s=>_.createElement(_.Fragment,null,_.createElement(Rde,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:a,maxRadius:e.maxRadius}),_.createElement(qde,yl({},r,{id:s})),_.createElement(sfe,yl({},r,{id:s}))))}vU.displayName="Pie";var ofe=["points"];function nR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function m1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nR(Object(n),!0).forEach(function(r){lfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lfe(t,e,n){return(e=cfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cfe(t){var e=ufe(t,"string");return typeof e=="symbol"?e:e+""}function ufe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wy(){return Wy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wy.apply(null,arguments)}function dfe(t,e){if(t==null)return{};var n,r,a=ffe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function ffe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function hfe(t){var{option:e,dotProps:n,className:r}=t;if(_.isValidElement(e))return _.cloneElement(e,n);if(typeof e=="function")return e(n);var a=wt(r,typeof e!="boolean"?e.className:""),s=n??{},{points:l}=s,u=dfe(s,ofe);return _.createElement(lU,Wy({},u,{className:a}))}function mfe(t,e){return t==null?!1:e?!0:t.length===1}function pfe(t){var{points:e,dot:n,className:r,dotClassName:a,dataKey:s,baseProps:l,needClip:u,clipPathId:f,zIndex:h=Yn.scatter}=t;if(!mfe(e,n))return null;var p=mU(n),g=kQ(n),x=e.map((E,S)=>{var A,j,I=m1(m1(m1({r:3},l),g),{},{index:S,cx:(A=E.x)!==null&&A!==void 0?A:void 0,cy:(j=E.y)!==null&&j!==void 0?j:void 0,dataKey:s,value:E.value,payload:E.payload,points:e});return _.createElement(hfe,{key:"dot-".concat(S),option:n,dotProps:I,className:a})}),w={};return u&&f!=null&&(w.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(f,")")),_.createElement(Ea,{zIndex:h},_.createElement(lr,Wy({className:r},w),x))}function rR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function aR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rR(Object(n),!0).forEach(function(r){gfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gfe(t,e,n){return(e=yfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yfe(t){var e=vfe(t,"string");return typeof e=="symbol"?e:e+""}function vfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xU=0,xfe={xAxis:{},yAxis:{},zAxis:{}},bU=ea({name:"cartesianAxis",initialState:xfe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:tn()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:tn()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:tn()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:tn()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:tn()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:tn()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:tn()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:tn()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:tn()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,a=t.yAxis[n];if(a){var s=a.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==a.width&&Math.abs(r-s[0])<=1)return;var l=[...s,r].slice(-3);t.yAxis[n]=aR(aR({},t.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:bfe,replaceXAxis:wfe,removeXAxis:_fe,addYAxis:Efe,replaceYAxis:Sfe,removeYAxis:Nfe,addZAxis:rye,replaceZAxis:aye,removeZAxis:iye,updateYAxisWidth:Afe}=bU.actions,Tfe=bU.reducer,jfe=oe([Qn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Cfe=oe([jfe,to,no],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),XN=()=>Ve(Cfe),kfe=()=>Ve(xle);function iR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function p1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(n),!0).forEach(function(r){Ofe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ofe(t,e,n){return(e=Pfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pfe(t){var e=Dfe(t,"string");return typeof e=="symbol"?e:e+""}function Dfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ife=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:a,dataKey:s,clipPath:l}=t;if(a===!1||e.x==null||e.y==null)return null;var u={index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},f=p1(p1(p1({},u),Ec(a)),pS(a)),h;return _.isValidElement(a)?h=_.cloneElement(a,f):typeof a=="function"?h=a(f):h=_.createElement(lU,f),_.createElement(lr,{className:"recharts-active-dot",clipPath:l},h)};function Rfe(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:a,clipPath:s,zIndex:l=Yn.activeDot}=t,u=Ve(gl),f=kfe();if(e==null||f==null)return null;var h=e.find(p=>f.includes(p.payload));return sn(h)?null:_.createElement(Ea,{zIndex:l},_.createElement(Ife,{point:h,childIndex:Number(u),mainColor:n,dataKey:a,activeDot:r,clipPath:s}))}var sR=(t,e,n)=>{var r=n??t;if(!sn(r))return Ar(r,e,0)},Mfe=(t,e,n)=>{var r={},a=t.filter(i0),s=t.filter(h=>h.stackId==null),l=a.reduce((h,p)=>(h[p.stackId]||(h[p.stackId]=[]),h[p.stackId].push(p),h),r),u=Object.entries(l).map(h=>{var[p,g]=h,x=g.map(E=>E.dataKey),w=sR(e,n,g[0].barSize);return{stackId:p,dataKeys:x,barSize:w}}),f=s.map(h=>{var p=[h.dataKey].filter(x=>x!=null),g=sR(e,n,h.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...u,...f]};function oR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function xg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oR(Object(n),!0).forEach(function(r){Lfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lfe(t,e,n){return(e=Vfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vfe(t){var e=Ufe(t,"string");return typeof e=="symbol"?e:e+""}function Ufe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zfe(t,e,n,r,a){var s=r.length;if(!(s<1)){var l=Ar(t,n,0,!0),u,f=[];if(dn(r[0].barSize)){var h=!1,p=n/s,g=r.reduce((j,I)=>j+(I.barSize||0),0);g+=(s-1)*l,g>=n&&(g-=(s-1)*l,l=0),g>=n&&p>0&&(h=!0,p*=.9,g=s*p);var x=(n-g)/2>>0,w={offset:x-l,size:0};u=r.reduce((j,I)=>{var P,H={stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:w.offset+w.size+l,size:h?p:(P=I.barSize)!==null&&P!==void 0?P:0}},R=[...j,H];return w=R[R.length-1].position,R},f)}else{var E=Ar(e,n,0,!0);n-2*E-(s-1)*l<=0&&(l=0);var S=(n-2*E-(s-1)*l)/s;S>1&&(S>>=0);var A=dn(a)?Math.min(S,a):S;u=r.reduce((j,I,P)=>[...j,{stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:E+(S+l)*P+(S-A)/2,size:A}}],f)}return u}}var $fe=(t,e,n,r,a,s,l)=>{var u=sn(l)?e:l,f=zfe(n,r,a!==s?a:s,t,u);return a!==s&&f!=null&&(f=f.map(h=>xg(xg({},h),{},{position:xg(xg({},h.position),{},{offset:h.position.offset-a/2})}))),f},Bfe=(t,e)=>{var n=oN(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var a=t[r];if(a){var{stackedData:s}=a;if(s)return s.find(l=>l.key===n)}}}};function Ffe(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&dn(t.zIndex)?t.zIndex:e}var wU=t=>{var{chartData:e}=t,n=Kt(),r=Lr();return _.useEffect(()=>r?()=>{}:(n(hI(e)),()=>{n(hI(void 0))}),[e,n,r]),null},lR={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},_U=ea({name:"brush",initialState:lR,reducers:{setBrushSettings(t,e){return e.payload==null?lR:e.payload}}}),{setBrushSettings:sye}=_U.actions,qfe=_U.reducer;function Hfe(t,e,n){return(e=Kfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kfe(t){var e=Gfe(t,"string");return typeof e=="symbol"?e:e+""}function Gfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class QN{static create(e){return new QN(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?e>=r&&e<=a:e>=a&&e<=r}}Hfe(QN,"EPS",1e-4);function Yfe(t){return(t%180+180)%180}var Wfe=function(e){var{width:n,height:r}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Yfe(a),l=s*Math.PI/180,u=Math.atan(r/n),f=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(f)},Xfe={dots:[],areas:[],lines:[]},EU=ea({name:"referenceElements",initialState:Xfe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=gi(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=gi(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=gi(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:oye,removeDot:lye,addArea:cye,removeArea:uye,addLine:dye,removeLine:fye}=EU.actions,Qfe=EU.reducer,Zfe=_.createContext(void 0),Jfe=t=>{var{children:e}=t,[n]=_.useState("".concat(Th("recharts"),"-clip")),r=XN();if(r==null)return null;var{x:a,y:s,width:l,height:u}=r;return _.createElement(Zfe.Provider,{value:n},_.createElement("defs",null,_.createElement("clipPath",{id:n},_.createElement("rect",{x:a,y:s,height:u,width:l}))),e)};function SU(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var a=t[r];a!==void 0&&n.push(a)}return n}function ehe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Wfe(r,n)}function the(t,e,n){var r=n==="width",{x:a,y:s,width:l,height:u}=t;return e===1?{start:r?a:s,end:r?a+l:s+u}:{start:r?a+l:s+u,end:r?a:s}}function $h(t,e,n,r,a){if(t*e<t*r||t*e>t*a)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-a)<=0}function nhe(t,e){return SU(t,e+1)}function rhe(t,e,n,r,a){for(var s=(r||[]).slice(),{start:l,end:u}=e,f=0,h=1,p=l,g=function(){var E=r?.[f];if(E===void 0)return{v:SU(r,h)};var S=f,A,j=()=>(A===void 0&&(A=n(E,S)),A),I=E.coordinate,P=f===0||$h(t,I,j,p,u);P||(f=0,p=l,h+=1),P&&(p=I+t*(j()/2+a),f+=h)},x;h<=s.length;)if(x=g(),x)return x.v;return[]}function ahe(t,e,n,r,a){var s=(r||[]).slice(),l=s.length;if(l===0)return[];for(var{start:u,end:f}=e,h=1;h<=l;h++){for(var p=(l-1)%h,g=u,x=!0,w=function(){var I=r[E],P=E,H,R=()=>(H===void 0&&(H=n(I,P)),H),F=I.coordinate,k=E===p||$h(t,F,R,g,f);if(!k)return x=!1,1;k&&(g=F+t*(R()/2+a))},E=p;E<l&&!w();E+=h);if(x){for(var S=[],A=p;A<l;A+=h)S.push(r[A]);return S}}return[]}function cR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Er(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cR(Object(n),!0).forEach(function(r){ihe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ihe(t,e,n){return(e=she(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function she(t){var e=ohe(t,"string");return typeof e=="symbol"?e:e+""}function ohe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lhe(t,e,n,r,a){for(var s=(r||[]).slice(),l=s.length,{start:u}=e,{end:f}=e,h=function(x){var w=s[x],E,S=()=>(E===void 0&&(E=n(w,x)),E);if(x===l-1){var A=t*(w.coordinate+t*S()/2-f);s[x]=w=Er(Er({},w),{},{tickCoord:A>0?w.coordinate-A*t:w.coordinate})}else s[x]=w=Er(Er({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var j=$h(t,w.tickCoord,S,u,f);j&&(f=w.tickCoord-t*(S()/2+a),s[x]=Er(Er({},w),{},{isShow:!0}))}},p=l-1;p>=0;p--)h(p);return s}function che(t,e,n,r,a,s){var l=(r||[]).slice(),u=l.length,{start:f,end:h}=e;if(s){var p=r[u-1],g=n(p,u-1),x=t*(p.coordinate+t*g/2-h);if(l[u-1]=p=Er(Er({},p),{},{tickCoord:x>0?p.coordinate-x*t:p.coordinate}),p.tickCoord!=null){var w=$h(t,p.tickCoord,()=>g,f,h);w&&(h=p.tickCoord-t*(g/2+a),l[u-1]=Er(Er({},p),{},{isShow:!0}))}}for(var E=s?u-1:u,S=function(I){var P=l[I],H,R=()=>(H===void 0&&(H=n(P,I)),H);if(I===0){var F=t*(P.coordinate-t*R()/2-f);l[I]=P=Er(Er({},P),{},{tickCoord:F<0?P.coordinate-F*t:P.coordinate})}else l[I]=P=Er(Er({},P),{},{tickCoord:P.coordinate});if(P.tickCoord!=null){var k=$h(t,P.tickCoord,R,f,h);k&&(f=P.tickCoord+t*(R()/2+a),l[I]=Er(Er({},P),{},{isShow:!0}))}},A=0;A<E;A++)S(A);return l}function uhe(t,e,n){var{tick:r,ticks:a,viewBox:s,minTickGap:l,orientation:u,interval:f,tickFormatter:h,unit:p,angle:g}=t;if(!a||!a.length||!r)return[];if(Be(f)||Wv.isSsr){var x;return(x=nhe(a,Be(f)?f:0))!==null&&x!==void 0?x:[]}var w=[],E=u==="top"||u==="bottom"?"width":"height",S=p&&E==="width"?dh(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=(P,H)=>{var R=typeof h=="function"?h(P.value,H):P.value;return E==="width"?ehe(dh(R,{fontSize:e,letterSpacing:n}),S,g):dh(R,{fontSize:e,letterSpacing:n})[E]},j=a.length>=2?xr(a[1].coordinate-a[0].coordinate):1,I=the(s,j,E);return f==="equidistantPreserveStart"?rhe(j,I,A,a,l):f==="equidistantPreserveEnd"?ahe(j,I,A,a,l):(f==="preserveStart"||f==="preserveStartEnd"?w=che(j,I,A,a,l,f==="preserveStartEnd"):w=lhe(j,I,A,a,l),w.filter(P=>P.isShow))}var dhe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:s=0}=t,l=0;if(e){Array.from(e).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>l&&(l=g.width)}});var u=n?n.getBoundingClientRect().width:0,f=a+s,h=l+f+u+(n?r:0);return Math.round(h)}return 0},fhe=["axisLine","width","height","className","hide","ticks","axisType"];function hhe(t,e){if(t==null)return{};var n,r,a=mhe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function mhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function kc(){return kc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kc.apply(null,arguments)}function uR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uR(Object(n),!0).forEach(function(r){phe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function phe(t,e,n){return(e=ghe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ghe(t){var e=yhe(t,"string");return typeof e=="symbol"?e:e+""}function yhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pc={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Yn.axis};function vhe(t){var{x:e,y:n,width:r,height:a,orientation:s,mirror:l,axisLine:u,otherSvgProps:f}=t;if(!u)return null;var h=Ln(Ln(Ln({},f),Ya(u)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!l||s==="bottom"&&l);h=Ln(Ln({},h),{},{x1:e,y1:n+p*a,x2:e+r,y2:n+p*a})}else{var g=+(s==="left"&&!l||s==="right"&&l);h=Ln(Ln({},h),{},{x1:e+g*r,y1:n,x2:e+g*r,y2:n+a})}return _.createElement("line",kc({},h,{className:wt("recharts-cartesian-axis-line",Nc(u,"className"))}))}function xhe(t,e,n,r,a,s,l,u,f){var h,p,g,x,w,E,S=u?-1:1,A=t.tickSize||l,j=Be(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":h=p=t.coordinate,x=n+ +!u*a,g=x-S*A,E=g-S*f,w=j;break;case"left":g=x=t.coordinate,p=e+ +!u*r,h=p-S*A,w=h-S*f,E=j;break;case"right":g=x=t.coordinate,p=e+ +u*r,h=p+S*A,w=h+S*f,E=j;break;default:h=p=t.coordinate,x=n+ +u*a,g=x+S*A,E=g+S*f,w=j;break}return{line:{x1:h,y1:g,x2:p,y2:x},tick:{x:w,y:E}}}function bhe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function whe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function _he(t){var{option:e,tickProps:n,value:r}=t,a,s=wt(n.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(e))a=_.cloneElement(e,Ln(Ln({},n),{},{className:s}));else if(typeof e=="function")a=e(Ln(Ln({},n),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=wt(l,e?.className)),a=_.createElement(m0,kc({},n,{className:l}),r)}return a}var Ehe=_.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:a,stroke:s,tickFormatter:l,unit:u,padding:f,tickTextProps:h,orientation:p,mirror:g,x,y:w,width:E,height:S,tickSize:A,tickMargin:j,fontSize:I,letterSpacing:P,getTicksConfig:H,events:R,axisType:F}=t,k=uhe(Ln(Ln({},H),{},{ticks:n}),I,P),O=bhe(p,g),D=whe(p,g),q=Ya(H),M=Ec(r),U={};typeof a=="object"&&(U=a);var V=Ln(Ln({},q),{},{fill:"none"},U),we=k.map(Y=>Ln({entry:Y},xhe(Y,x,w,E,S,p,A,g,j))),Se=we.map(Y=>{var{entry:J,line:he}=Y;return _.createElement(lr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(J.value,"-").concat(J.coordinate,"-").concat(J.tickCoord)},a&&_.createElement("line",kc({},V,he,{className:wt("recharts-cartesian-axis-tick-line",Nc(a,"className"))})))}),Z=we.map((Y,J)=>{var{entry:he,tick:Te}=Y,$=Ln(Ln(Ln(Ln({textAnchor:O,verticalAnchor:D},q),{},{stroke:"none",fill:s},M),Te),{},{index:J,payload:he,visibleTicksCount:k.length,tickFormatter:l,padding:f},h);return _.createElement(lr,kc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(he.value,"-").concat(he.coordinate,"-").concat(he.tickCoord)},lm(R,he,J)),r&&_.createElement(_he,{option:r,tickProps:$,value:"".concat(typeof l=="function"?l(he.value,J):he.value).concat(u||"")}))});return _.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(F,"-ticks")},Z.length>0&&_.createElement(Ea,{zIndex:Yn.label},_.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(F,"-tick-labels"),ref:e},Z)),Se.length>0&&_.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(F,"-tick-lines")},Se))}),She=_.forwardRef((t,e)=>{var{axisLine:n,width:r,height:a,className:s,hide:l,ticks:u,axisType:f}=t,h=hhe(t,fhe),[p,g]=_.useState(""),[x,w]=_.useState(""),E=_.useRef(null);_.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var A;return dhe({ticks:E.current,label:(A=t.labelRef)===null||A===void 0?void 0:A.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var S=_.useCallback(A=>{if(A){var j=A.getElementsByClassName("recharts-cartesian-axis-tick-value");E.current=j;var I=j[0];if(I){var P=window.getComputedStyle(I),H=P.fontSize,R=P.letterSpacing;(H!==p||R!==x)&&(g(H),w(R))}}},[p,x]);return l||r!=null&&r<=0||a!=null&&a<=0?null:_.createElement(Ea,{zIndex:t.zIndex},_.createElement(lr,{className:wt("recharts-cartesian-axis",s)},_.createElement(vhe,{x:t.x,y:t.y,width:r,height:a,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Ya(t)}),_.createElement(Ehe,{ref:S,axisType:f,events:h,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:x,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:u,unit:t.unit,width:t.width,x:t.x,y:t.y}),_.createElement(gue,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},_.createElement(Aue,{label:t.label,labelRef:t.labelRef}),t.children)))}),ZN=_.forwardRef((t,e)=>{var n=Xn(t,pc);return _.createElement(She,kc({},n,{ref:e}))});ZN.displayName="CartesianAxis";var Nhe={},NU=ea({name:"errorBars",initialState:Nhe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:a}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?a:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:hye,replaceErrorBar:mye,removeErrorBar:pye}=NU.actions,Ahe=NU.reducer,The=["children"];function jhe(t,e){if(t==null)return{};var n,r,a=Che(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Che(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var khe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Ohe=_.createContext(khe);function AU(t){var{children:e}=t,n=jhe(t,The);return _.createElement(Ohe.Provider,{value:n},e)}function JN(t,e){var n,r,a=Ve(h=>io(h,t)),s=Ve(h=>so(h,e)),l=(n=a?.allowDataOverflow)!==null&&n!==void 0?n:rr.allowDataOverflow,u=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:ar.allowDataOverflow,f=l||u;return{needClip:f,needClipX:l,needClipY:u}}function TU(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,a=XN(),{needClipX:s,needClipY:l,needClip:u}=JN(e,n);if(!u||!a)return null;var{x:f,y:h,width:p,height:g}=a;return _.createElement("clipPath",{id:"clipPath-".concat(r)},_.createElement("rect",{x:s?f:f-p/2,y:l?h:h-g/2,width:s?p:p*2,height:l?g:g*2}))}var jU=(t,e,n,r)=>pl(t,"xAxis",e,r),CU=(t,e,n,r)=>ml(t,"xAxis",e,r),kU=(t,e,n,r)=>pl(t,"yAxis",n,r),OU=(t,e,n,r)=>ml(t,"yAxis",n,r),Phe=oe([yt,jU,kU,CU,OU],(t,e,n,r,a)=>Sl(t,"xAxis")?sd(e,r,!1):sd(n,a,!1)),Dhe=(t,e,n,r,a)=>a;function Ihe(t){return t.type==="line"}var Rhe=oe([l0,Dhe],(t,e)=>t.filter(Ihe).find(n=>n.id===e)),Mhe=oe([yt,jU,kU,CU,OU,Rhe,Phe,ZS],(t,e,n,r,a,s,l,u)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:p}=u;if(!(s==null||e==null||n==null||r==null||a==null||r.length===0||a.length===0||l==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:g,data:x}=s,w;if(x!=null&&x.length>0?w=x:w=f?.slice(h,p+1),w!=null)return Eme({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataKey:g,bandSize:l,displayedData:w})}});function Lhe(t){var e=Ec(t),n=3,r=2;if(e!=null){var{r:a,strokeWidth:s}=e,l=Number(a),u=Number(s);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(u)||u<0)&&(u=r),{r:l,strokeWidth:u}}return{r:n,strokeWidth:r}}var g1={exports:{}},y1={};var dR;function Vhe(){if(dR)return y1;dR=1;var t=fd();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,a=t.useRef,s=t.useEffect,l=t.useMemo,u=t.useDebugValue;return y1.useSyncExternalStoreWithSelector=function(f,h,p,g,x){var w=a(null);if(w.current===null){var E={hasValue:!1,value:null};w.current=E}else E=w.current;w=l(function(){function A(R){if(!j){if(j=!0,I=R,R=g(R),x!==void 0&&E.hasValue){var F=E.value;if(x(F,R))return P=F}return P=R}if(F=P,n(I,R))return F;var k=g(R);return x!==void 0&&x(F,k)?(I=R,F):(I=R,P=k)}var j=!1,I,P,H=p===void 0?null:p;return[function(){return A(h())},H===null?void 0:function(){return A(H())}]},[h,p,g,x]);var S=r(f,w[0],w[1]);return s(function(){E.hasValue=!0,E.value=S},[S]),u(S),S},y1}var fR;function Uhe(){return fR||(fR=1,g1.exports=Vhe()),g1.exports}Uhe();function zhe(t){t()}function $he(){let t=null,e=null;return{clear(){t=null,e=null},notify(){zhe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=e={callback:n,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!r||t===null||(r=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var hR={notify(){},get:()=>[]};function Bhe(t,e){let n,r=hR,a=0,s=!1;function l(S){p();const A=r.subscribe(S);let j=!1;return()=>{j||(j=!0,A(),g())}}function u(){r.notify()}function f(){E.onStateChange&&E.onStateChange()}function h(){return s}function p(){a++,n||(n=t.subscribe(f),r=$he())}function g(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=hR)}function x(){s||(s=!0,p())}function w(){s&&(s=!1,g())}const E={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:h,trySubscribe:x,tryUnsubscribe:w,getListeners:()=>r};return E}var Fhe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qhe=Fhe(),Hhe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Khe=Hhe(),Ghe=()=>qhe||Khe?_.useLayoutEffect:_.useEffect,Yhe=Ghe();function mR(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Whe(t,e){if(mR(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(e,n[a])||!mR(t[n[a]],e[n[a]]))return!1;return!0}var Xhe=Symbol.for("react-redux-context"),Qhe=typeof globalThis<"u"?globalThis:{};function Zhe(){if(!_.createContext)return{};const t=Qhe[Xhe]??=new Map;let e=t.get(_.createContext);return e||(e=_.createContext(null),t.set(_.createContext,e)),e}var Jhe=Zhe();function eme(t){const{children:e,context:n,serverState:r,store:a}=t,s=_.useMemo(()=>{const f=Bhe(a);return{store:a,subscription:f,getServerState:r?()=>r:void 0}},[a,r]),l=_.useMemo(()=>a.getState(),[a]);Yhe(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==a.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,l]);const u=n||Jhe;return _.createElement(u.Provider,{value:s},e)}var tme=eme,nme=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function rme(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function v0(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(nme.has(r)){if(t[r]==null&&e[r]==null)continue;if(!Whe(t[r],e[r]))return!1}else if(!rme(t[r],e[r]))return!1;return!0}var ame=["id"],ime=["type","layout","connectNulls","needClip","shape"],sme=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Bh(){return Bh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bh.apply(null,arguments)}function pR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Bi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pR(Object(n),!0).forEach(function(r){ome(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ome(t,e,n){return(e=lme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lme(t){var e=cme(t,"string");return typeof e=="symbol"?e:e+""}function cme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eA(t,e){if(t==null)return{};var n,r,a=ume(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function ume(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var dme=t=>{var{dataKey:e,name:n,stroke:r,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:r,value:_d(n,e),payload:t}]},fme=_.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:a,fill:s,name:l,hide:u,unit:f,tooltipType:h,id:p}=t,g={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:s,dataKey:e,nameKey:void 0,name:_d(l,e),hide:u,type:h,color:r,unit:f,graphicalItemId:p}};return _.createElement(YN,{tooltipEntrySettings:g})}),PU=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function hme(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],a=0;a<e;++a)r=[...r,...n];return r}var mme=(t,e,n)=>{var r=n.reduce((g,x)=>g+x);if(!r)return PU(e,t);for(var a=Math.floor(t/r),s=t%r,l=e-t,u=[],f=0,h=0;f<n.length;h+=n[f],++f)if(h+n[f]>s){u=[...n.slice(0,f),s-h];break}var p=u.length%2===0?[0,l]:[l];return[...hme(n,a),...u,...p].map(g=>"".concat(g,"px")).join(", ")};function pme(t){var{clipPathId:e,points:n,props:r}=t,{dot:a,dataKey:s,needClip:l}=r,{id:u}=r,f=eA(r,ame),h=Ya(f);return _.createElement(pfe,{points:n,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:h,needClip:l,clipPathId:e})}function gme(t){var{showLabels:e,children:n,points:r}=t,a=_.useMemo(()=>r?.map(s=>{var l,u,f={x:(l=s.x)!==null&&l!==void 0?l:0,y:(u=s.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Bi(Bi({},f),{},{value:s.value,payload:s.payload,viewBox:f,parentViewBox:void 0,fill:void 0})}),[r]);return _.createElement(sU,{value:e?a:void 0},n)}function gR(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:a,props:s}=t,{type:l,layout:u,connectNulls:f,needClip:h,shape:p}=s,g=eA(s,ime),x=Bi(Bi({},Rr(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(e,")"):void 0,points:r,type:l,layout:u,connectNulls:f,strokeDasharray:a??s.strokeDasharray});return _.createElement(_.Fragment,null,r?.length>1&&_.createElement(qN,Bh({shapeType:"curve",option:p},x,{pathRef:n})),_.createElement(pme,{points:r,clipPathId:e,props:s}))}function yme(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function vme(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:a,longestAnimatedLengthRef:s}=t,{points:l,strokeDasharray:u,isAnimationActive:f,animationBegin:h,animationDuration:p,animationEasing:g,animateNewValues:x,width:w,height:E,onAnimationEnd:S,onAnimationStart:A}=n,j=a.current,I=mm(l,"recharts-line-"),P=_.useRef(I),[H,R]=_.useState(!1),F=!H,k=_.useCallback(()=>{typeof S=="function"&&S(),R(!1)},[S]),O=_.useCallback(()=>{typeof A=="function"&&A(),R(!0)},[A]),D=yme(r.current),q=_.useRef(0);P.current!==I&&(q.current=s.current,P.current=I);var M=q.current;return _.createElement(gme,{points:l,showLabels:F},n.children,_.createElement(hm,{animationId:I,begin:h,duration:p,isActive:f,easing:g,onAnimationEnd:k,onAnimationStart:O,key:I},U=>{var V=nn(M,D+M,U),we=Math.min(V,D),Se;if(f)if(u){var Z="".concat(u).split(/[,\s]+/gim).map(he=>parseFloat(he));Se=mme(we,D,Z)}else Se=PU(D,we);else Se=u==null?void 0:String(u);if(U>0&&D>0&&(a.current=l,s.current=Math.max(s.current,we)),j){var Y=j.length/l.length,J=U===1?l:l.map((he,Te)=>{var $=Math.floor(Te*Y);if(j[$]){var z=j[$];return Bi(Bi({},he),{},{x:nn(z.x,he.x,U),y:nn(z.y,he.y,U)})}return x?Bi(Bi({},he),{},{x:nn(w*2,he.x,U),y:nn(E/2,he.y,U)}):Bi(Bi({},he),{},{x:he.x,y:he.y})});return a.current=J,_.createElement(gR,{props:n,points:J,clipPathId:e,pathRef:r,strokeDasharray:Se})}return _.createElement(gR,{props:n,points:l,clipPathId:e,pathRef:r,strokeDasharray:Se})}),_.createElement(zN,{label:n.label}))}function xme(t){var{clipPathId:e,props:n}=t,r=_.useRef(null),a=_.useRef(0),s=_.useRef(null);return _.createElement(vme,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:a,pathRef:s})}var bme=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:Ut(t.payload,e)}};class wme extends _.Component{render(){var{hide:e,dot:n,points:r,className:a,xAxisId:s,yAxisId:l,top:u,left:f,width:h,height:p,id:g,needClip:x,zIndex:w}=this.props;if(e)return null;var E=wt("recharts-line",a),S=g,{r:A,strokeWidth:j}=Lhe(n),I=mU(n),P=A*2+j,H=x?"url(#clipPath-".concat(I?"":"dots-").concat(S,")"):void 0;return _.createElement(Ea,{zIndex:w},_.createElement(lr,{className:E},x&&_.createElement("defs",null,_.createElement(TU,{clipPathId:S,xAxisId:s,yAxisId:l}),!I&&_.createElement("clipPath",{id:"clipPath-dots-".concat(S)},_.createElement("rect",{x:f-P/2,y:u-P/2,width:h+P,height:p+P}))),_.createElement(AU,{xAxisId:s,yAxisId:l,data:r,dataPointFormatter:bme,errorBarOffset:0},_.createElement(xme,{props:this.props,clipPathId:S}))),_.createElement(Rfe,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:H}))}}var DU={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Yn.line,type:"linear"};function _me(t){var e=Xn(t,DU),{activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:s,animationEasing:l,connectNulls:u,dot:f,hide:h,isAnimationActive:p,label:g,legendType:x,xAxisId:w,yAxisId:E,id:S}=e,A=eA(e,sme),{needClip:j}=JN(w,E),I=XN(),P=Ed(),H=Lr(),R=Ve(q=>Mhe(q,w,E,H,S));if(P!=="horizontal"&&P!=="vertical"||R==null||I==null)return null;var{height:F,width:k,x:O,y:D}=I;return _.createElement(wme,Bh({},A,{id:S,connectNulls:u,dot:f,activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:s,animationEasing:l,isAnimationActive:p,hide:h,label:g,legendType:x,xAxisId:w,yAxisId:E,points:R,layout:P,height:F,width:k,left:O,top:D,needClip:j}))}function Eme(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:s,dataKey:l,bandSize:u,displayedData:f}=t;return f.map((h,p)=>{var g=Ut(h,l);if(e==="horizontal"){var x=nP({axis:n,ticks:a,bandSize:u,entry:h,index:p}),w=sn(g)?null:r.scale(g);return{x,y:w,value:g,payload:h}}var E=sn(g)?null:n.scale(g),S=nP({axis:r,ticks:s,bandSize:u,entry:h,index:p});return E==null||S==null?null:{x:E,y:S,value:g,payload:h}}).filter(Boolean)}function Sme(t){var e=Xn(t,DU),n=Lr();return _.createElement(WN,{id:e.id,type:"line"},r=>_.createElement(_.Fragment,null,_.createElement(pU,{legendPayload:dme(e)}),_.createElement(fme,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),_.createElement(yU,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),_.createElement(_me,Bh({},e,{id:r}))))}var IU=_.memo(Sme,v0);IU.displayName="Line";function Uc(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(a=>a.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:xU}function zc(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(a=>a.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:xU}var Nme="Invariant failed";function Ame(t,e){throw new Error(Nme)}function G_(){return G_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G_.apply(null,arguments)}function Xy(t){return _.createElement(qN,G_({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var Tme=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,a)=>{if(Be(e))return e;var s=Be(r)||sn(r);return s?e(r,a):(s||Ame(),n)}},jme=(t,e,n)=>n,Cme=(t,e)=>e,Cm=oe([l0,Cme],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),kme=oe([Cm],t=>t?.maxBarSize),Ome=(t,e,n,r)=>r,Pme=oe([yt,l0,Uc,zc,jme],(t,e,n,r,a)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Dme=(t,e,n)=>{var r=yt(t),a=Uc(t,e),s=zc(t,e);if(!(a==null||s==null))return r==="horizontal"?U_(t,"yAxis",s,n):U_(t,"xAxis",a,n)},Ime=(t,e)=>{var n=yt(t),r=Uc(t,e),a=zc(t,e);if(!(r==null||a==null))return n==="horizontal"?tI(t,"xAxis",r):tI(t,"yAxis",a)},Rme=oe([Pme,yse,Ime],Mfe),Mme=(t,e,n)=>{var r,a,s=Cm(t,e);if(s!=null){var l=Uc(t,e),u=zc(t,e);if(!(l==null||u==null)){var f=yt(t),h=zL(t),{maxBarSize:p}=s,g=sn(p)?h:p,x,w;return f==="horizontal"?(x=pl(t,"xAxis",l,n),w=ml(t,"xAxis",l,n)):(x=pl(t,"yAxis",u,n),w=ml(t,"yAxis",u,n)),(r=(a=sd(x,w,!0))!==null&&a!==void 0?a:g)!==null&&r!==void 0?r:0}}},RU=(t,e,n)=>{var r=yt(t),a=Uc(t,e),s=zc(t,e);if(!(a==null||s==null)){var l,u;return r==="horizontal"?(l=pl(t,"xAxis",a,n),u=ml(t,"xAxis",a,n)):(l=pl(t,"yAxis",s,n),u=ml(t,"yAxis",s,n)),sd(l,u)}},Lme=oe([Rme,zL,gse,$L,Mme,RU,kme],$fe),Vme=(t,e,n)=>{var r=Uc(t,e);if(r!=null)return pl(t,"xAxis",r,n)},Ume=(t,e,n)=>{var r=zc(t,e);if(r!=null)return pl(t,"yAxis",r,n)},zme=(t,e,n)=>{var r=Uc(t,e);if(r!=null)return ml(t,"xAxis",r,n)},$me=(t,e,n)=>{var r=zc(t,e);if(r!=null)return ml(t,"yAxis",r,n)},Bme=oe([Lme,Cm],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),Fme=oe([Dme,Cm],Bfe),qme=oe([Qn,SS,Vme,Ume,zme,$me,Bme,yt,ase,RU,Fme,Cm,Ome],(t,e,n,r,a,s,l,u,f,h,p,g,x)=>{var{chartData:w,dataStartIndex:E,dataEndIndex:S}=f;if(!(g==null||l==null||e==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||a==null||s==null||h==null)){var{data:A}=g,j;if(A!=null&&A.length>0?j=A:j=w?.slice(E,S+1),j!=null)return xpe({layout:u,barSettings:g,pos:l,parentViewBox:e,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:s,stackedData:p,displayedData:j,offset:t,cells:x,dataStartIndex:E})}}),Hme=["index"];function Y_(){return Y_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y_.apply(null,arguments)}function Kme(t,e){if(t==null)return{};var n,r,a=Gme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Gme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var MU=_.createContext(void 0),Yme=t=>{var e=_.useContext(MU);if(e!=null)return e.stackId;if(t!=null)return Qee(t)},Wme=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),Xme=t=>{var e=_.useContext(MU);if(e!=null){var{stackId:n}=e;return"url(#".concat(Wme(n,t),")")}},Qme=t=>{var{index:e}=t,n=Kme(t,Hme),r=Xme(e);return _.createElement(lr,Y_({className:"recharts-bar-stack-layer",clipPath:r},n))},Zme=["onMouseEnter","onMouseLeave","onClick"],Jme=["value","background","tooltipPosition"],epe=["id"],tpe=["onMouseEnter","onClick","onMouseLeave"];function Zs(){return Zs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zs.apply(null,arguments)}function yR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yR(Object(n),!0).forEach(function(r){npe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function npe(t,e,n){return(e=rpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rpe(t){var e=ape(t,"string");return typeof e=="symbol"?e:e+""}function ape(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qy(t,e){if(t==null)return{};var n,r,a=ipe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function ipe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var spe=t=>{var{dataKey:e,name:n,fill:r,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:r,value:_d(n,e),payload:t}]},ope=_.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:a,name:s,hide:l,unit:u,tooltipType:f,id:h}=t,p={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:a,dataKey:e,nameKey:void 0,name:_d(s,e),hide:l,type:f,color:a,unit:u,graphicalItemId:h}};return _.createElement(YN,{tooltipEntrySettings:p})});function lpe(t){var e=Ve(gl),{data:n,dataKey:r,background:a,allOtherBarProps:s}=t,{onMouseEnter:l,onMouseLeave:u,onClick:f}=s,h=Qy(s,Zme),p=HN(l,r,s.id),g=KN(u),x=GN(f,r,s.id);if(!a||n==null)return null;var w=Ec(a);return _.createElement(Ea,{zIndex:Ffe(a,Yn.barBackground)},n.map((E,S)=>{var{value:A,background:j,tooltipPosition:I}=E,P=Qy(E,Jme);if(!j)return null;var H=p(E,S),R=g(E,S),F=x(E,S),k=kr(kr(kr(kr(kr({option:a,isActive:String(S)===e},P),{},{fill:"#eee"},j),w),lm(h,E,S)),{},{onMouseEnter:H,onMouseLeave:R,onClick:F,dataKey:r,index:S,className:"recharts-bar-background-rectangle"});return _.createElement(Xy,Zs({key:"background-bar-".concat(S)},k))}))}function cpe(t){var{showLabels:e,children:n,rects:r}=t,a=r?.map(s=>{var l={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return kr(kr({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return _.createElement(sU,{value:e?a:void 0},n)}function upe(t){var{shape:e,activeBar:n,baseProps:r,entry:a,index:s,dataKey:l}=t,u=Ve(gl),f=Ve(IN),h=n&&String(s)===u&&(f==null||l===f),p=h?n:e;return h?_.createElement(Ea,{zIndex:Yn.activeBar},_.createElement(Xy,Zs({},r,{name:String(r.name)},a,{isActive:h,option:p,index:s,dataKey:l}))):_.createElement(Xy,Zs({},r,{name:String(r.name)},a,{isActive:h,option:p,index:s,dataKey:l}))}function dpe(t){var{shape:e,baseProps:n,entry:r,index:a,dataKey:s}=t;return _.createElement(Xy,Zs({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:a,dataKey:s}))}function fpe(t){var e,{data:n,props:r}=t,a=(e=Ya(r))!==null&&e!==void 0?e:{},{id:s}=a,l=Qy(a,epe),{shape:u,dataKey:f,activeBar:h}=r,{onMouseEnter:p,onClick:g,onMouseLeave:x}=r,w=Qy(r,tpe),E=HN(p,f,s),S=KN(x),A=GN(g,f,s);return n?_.createElement(_.Fragment,null,n.map((j,I)=>_.createElement(Qme,Zs({index:I,key:"rectangle-".concat(j?.x,"-").concat(j?.y,"-").concat(j?.value,"-").concat(I),className:"recharts-bar-rectangle"},lm(w,j,I),{onMouseEnter:E(j,I),onMouseLeave:S(j,I),onClick:A(j,I)}),h?_.createElement(upe,{shape:u,activeBar:h,baseProps:l,entry:j,index:I,dataKey:f}):_.createElement(dpe,{shape:u,baseProps:l,entry:j,index:I,dataKey:f})))):null}function hpe(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:a,isAnimationActive:s,animationBegin:l,animationDuration:u,animationEasing:f,onAnimationEnd:h,onAnimationStart:p}=e,g=n.current,x=mm(e,"recharts-bar-"),[w,E]=_.useState(!1),S=!w,A=_.useCallback(()=>{typeof h=="function"&&h(),E(!1)},[h]),j=_.useCallback(()=>{typeof p=="function"&&p(),E(!0)},[p]);return _.createElement(cpe,{showLabels:S,rects:r},_.createElement(hm,{animationId:x,begin:l,duration:u,isActive:s,easing:f,onAnimationEnd:A,onAnimationStart:j,key:x},I=>{var P=I===1?r:r?.map((H,R)=>{var F=g&&g[R];if(F)return kr(kr({},H),{},{x:nn(F.x,H.x,I),y:nn(F.y,H.y,I),width:nn(F.width,H.width,I),height:nn(F.height,H.height,I)});if(a==="horizontal"){var k=nn(0,H.height,I),O=nn(H.stackedBarStart,H.y,I);return kr(kr({},H),{},{y:O,height:k})}var D=nn(0,H.width,I),q=nn(H.stackedBarStart,H.x,I);return kr(kr({},H),{},{width:D,x:q})});return I>0&&(n.current=P??null),P==null?null:_.createElement(lr,null,_.createElement(fpe,{props:e,data:P}))}),_.createElement(zN,{label:e.label}),e.children)}function mpe(t){var e=_.useRef(null);return _.createElement(hpe,{previousRectanglesRef:e,props:t})}var LU=0,ppe=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Ut(t,e)}};class gpe extends _.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:a,xAxisId:s,yAxisId:l,needClip:u,background:f,id:h}=this.props;if(e||n==null)return null;var p=wt("recharts-bar",a),g=h;return _.createElement(lr,{className:p,id:h},u&&_.createElement("defs",null,_.createElement(TU,{clipPathId:g,xAxisId:s,yAxisId:l})),_.createElement(lr,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(g,")"):void 0},_.createElement(lpe,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),_.createElement(mpe,this.props)))}}var ype={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:LU,xAxisId:0,yAxisId:0,zIndex:Yn.bar};function vpe(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:a,minPointSize:s,activeBar:l,animationBegin:u,animationDuration:f,animationEasing:h,isAnimationActive:p}=t,{needClip:g}=JN(e,n),x=Ed(),w=Lr(),E=FN(t.children,jm),S=Ve(I=>qme(I,t.id,w,E));if(x!=="vertical"&&x!=="horizontal")return null;var A,j=S?.[0];return j==null||j.height==null||j.width==null?A=0:A=x==="vertical"?j.height/2:j.width/2,_.createElement(AU,{xAxisId:e,yAxisId:n,data:S,dataPointFormatter:ppe,errorBarOffset:A},_.createElement(gpe,Zs({},t,{layout:x,needClip:g,data:S,xAxisId:e,yAxisId:n,hide:r,legendType:a,minPointSize:s,activeBar:l,animationBegin:u,animationDuration:f,animationEasing:h,isAnimationActive:p})))}function xpe(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:a,bandSize:s,xAxis:l,yAxis:u,xAxisTicks:f,yAxisTicks:h,stackedData:p,displayedData:g,offset:x,cells:w,parentViewBox:E,dataStartIndex:S}=t,A=e==="horizontal"?u:l,j=p?A.scale.domain():null,I=Zee({numericAxis:A}),P=A.scale(I);return g.map((H,R)=>{var F,k,O,D,q,M;if(p){var U=p[R+S];if(U==null)return null;F=Kee(U,j)}else F=Ut(H,n),Array.isArray(F)||(F=[I,F]);var V=Tme(r,LU)(F[1],R);if(e==="horizontal"){var we,[Se,Z]=[u.scale(F[0]),u.scale(F[1])];k=rP({axis:l,ticks:f,bandSize:s,offset:a.offset,entry:H,index:R}),O=(we=Z??Se)!==null&&we!==void 0?we:void 0,D=a.size;var Y=Se-Z;if(q=ts(Y)?0:Y,M={x:k,y:x.top,width:D,height:x.height},Math.abs(V)>0&&Math.abs(q)<Math.abs(V)){var J=xr(q||V)*(Math.abs(V)-Math.abs(q));O-=J,q+=J}}else{var[he,Te]=[l.scale(F[0]),l.scale(F[1])];if(k=he,O=rP({axis:u,ticks:h,bandSize:s,offset:a.offset,entry:H,index:R}),D=Te-he,q=a.size,M={x:x.left,y:O,width:x.width,height:q},Math.abs(V)>0&&Math.abs(D)<Math.abs(V)){var $=xr(D||V)*(Math.abs(V)-Math.abs(D));D+=$}}if(k==null||O==null||D==null||q==null)return null;var z=kr(kr({},H),{},{stackedBarStart:P,x:k,y:O,width:D,height:q,value:p?F:F[1],payload:H,background:M,tooltipPosition:{x:k+D/2,y:O+q/2},parentViewBox:E},w&&w[R]&&w[R].props);return z}).filter(Boolean)}function bpe(t){var e=Xn(t,ype),n=Yme(e.stackId),r=Lr();return _.createElement(WN,{id:e.id,type:"bar"},a=>_.createElement(_.Fragment,null,_.createElement(pU,{legendPayload:spe(e)}),_.createElement(ope,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:a}),_.createElement(yU,{type:"bar",id:a,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),_.createElement(Ea,{zIndex:e.zIndex},_.createElement(vpe,Zs({},e,{id:a})))))}var W_=_.memo(bpe,v0);W_.displayName="Bar";var wpe=["domain","range"],_pe=["domain","range"];function vR(t,e){if(t==null)return{};var n,r,a=Epe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Epe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xR(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function VU(t,e){if(t===e)return!0;var{domain:n,range:r}=t,a=vR(t,wpe),{domain:s,range:l}=e,u=vR(e,_pe);return!xR(n,s)||!xR(r,l)?!1:v0(a,u)}var Spe=["dangerouslySetInnerHTML","ticks","scale"],Npe=["id","scale"];function X_(){return X_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X_.apply(null,arguments)}function bR(t,e){if(t==null)return{};var n,r,a=Ape(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Ape(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Tpe(t){var e=Kt(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?e(bfe(t)):n.current!==t&&e(wfe({prev:n.current,next:t})),n.current=t},[t,e]),_.useLayoutEffect(()=>()=>{n.current&&(e(_fe(n.current)),n.current=null)},[e]),null}var jpe=t=>{var{xAxisId:e,className:n}=t,r=Ve(SS),a=Lr(),s="xAxis",l=Ve(j=>xV(j,s,e,a)),u=Ve(j=>pV(j,e)),f=Ve(j=>moe(j,e)),h=Ve(j=>XL(j,e));if(u==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:g,scale:x}=t,w=bR(t,Spe),{id:E,scale:S}=h,A=bR(h,Npe);return _.createElement(ZN,X_({},w,A,{x:f.x,y:f.y,width:u.width,height:u.height,className:wt("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:l,axisType:s}))},Cpe={allowDataOverflow:rr.allowDataOverflow,allowDecimals:rr.allowDecimals,allowDuplicatedCategory:rr.allowDuplicatedCategory,angle:rr.angle,axisLine:pc.axisLine,height:rr.height,hide:!1,includeHidden:rr.includeHidden,interval:rr.interval,minTickGap:rr.minTickGap,mirror:rr.mirror,orientation:rr.orientation,padding:rr.padding,reversed:rr.reversed,scale:rr.scale,tick:rr.tick,tickCount:rr.tickCount,tickLine:pc.tickLine,tickSize:pc.tickSize,type:rr.type,xAxisId:0},kpe=t=>{var e=Xn(t,Cpe);return _.createElement(_.Fragment,null,_.createElement(Tpe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),_.createElement(jpe,e))},UU=_.memo(kpe,VU);UU.displayName="XAxis";var Ope=["dangerouslySetInnerHTML","ticks","scale"],Ppe=["id","scale"];function Q_(){return Q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q_.apply(null,arguments)}function wR(t,e){if(t==null)return{};var n,r,a=Dpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Dpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ipe(t){var e=Kt(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?e(Efe(t)):n.current!==t&&e(Sfe({prev:n.current,next:t})),n.current=t},[t,e]),_.useLayoutEffect(()=>()=>{n.current&&(e(Nfe(n.current)),n.current=null)},[e]),null}var Rpe=t=>{var{yAxisId:e,className:n,width:r,label:a}=t,s=_.useRef(null),l=_.useRef(null),u=Ve(SS),f=Lr(),h=Kt(),p="yAxis",g=Ve(F=>gV(F,e)),x=Ve(F=>goe(F,e)),w=Ve(F=>xV(F,p,e,f)),E=Ve(F=>QL(F,e));if(_.useLayoutEffect(()=>{if(!(r!=="auto"||!g||UN(a)||_.isValidElement(a)||E==null)){var F=s.current;if(F){var k=F.getCalculatedWidth();Math.round(g.width)!==Math.round(k)&&h(Afe({id:e,width:k}))}}},[w,g,h,a,e,r,E]),g==null||x==null||E==null)return null;var{dangerouslySetInnerHTML:S,ticks:A,scale:j}=t,I=wR(t,Ope),{id:P,scale:H}=E,R=wR(E,Ppe);return _.createElement(ZN,Q_({},I,R,{ref:s,labelRef:l,x:x.x,y:x.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:wt("recharts-".concat(p," ").concat(p),n),viewBox:u,ticks:w,axisType:p}))},Mpe={allowDataOverflow:ar.allowDataOverflow,allowDecimals:ar.allowDecimals,allowDuplicatedCategory:ar.allowDuplicatedCategory,angle:ar.angle,axisLine:pc.axisLine,hide:!1,includeHidden:ar.includeHidden,interval:ar.interval,minTickGap:ar.minTickGap,mirror:ar.mirror,orientation:ar.orientation,padding:ar.padding,reversed:ar.reversed,scale:ar.scale,tick:ar.tick,tickCount:ar.tickCount,tickLine:pc.tickLine,tickSize:pc.tickSize,type:ar.type,width:ar.width,yAxisId:0},Lpe=t=>{var e=Xn(t,Mpe);return _.createElement(_.Fragment,null,_.createElement(Ipe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),_.createElement(Rpe,e))},Z_=_.memo(Lpe,VU);Z_.displayName="YAxis";var Vpe=(t,e)=>e,tA=oe([Vpe,yt,YL,Jn,RV,oo,Ple,Qn],Ule),nA=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},zU=Wa("mouseClick"),$U=um();$U.startListening({actionCreator:zU,effect:(t,e)=>{var n=t.payload,r=tA(e.getState(),nA(n));r?.activeIndex!=null&&e.dispatch(koe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var J_=Wa("mouseMove"),BU=um(),bg=null;BU.startListening({actionCreator:J_,effect:(t,e)=>{var n=t.payload;bg!==null&&cancelAnimationFrame(bg);var r=nA(n);bg=requestAnimationFrame(()=>{var a=e.getState(),s=jN(a,a.tooltip.settings.shared);if(s==="axis"){var l=tA(a,r);l?.activeIndex!=null?e.dispatch(TV({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(AV())}bg=null})}});function Upe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var _R={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},FU=ea({name:"rootProps",initialState:_R,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:_R.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),zpe=FU.reducer,{updateOptions:$pe}=FU.actions,qU=ea({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Bpe}=qU.actions,Fpe=qU.reducer,HU=Wa("keyDown"),KU=Wa("focus"),rA=um();rA.startListening({actionCreator:HU,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=CN(a,Pd(n),Em(n),Am(n)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var f=oo(n);if(s==="Enter"){var h=Hy(n,"axis","hover",String(a.index));e.dispatch($_({active:!a.active,activeIndex:a.index,activeCoordinate:h}));return}var p=boe(n),g=p==="left-to-right"?1:-1,x=s==="ArrowRight"?1:-1,w=u+x*g;if(!(f==null||w>=f.length||w<0)){var E=Hy(n,"axis","hover",String(w));e.dispatch($_({active:!0,activeIndex:w.toString(),activeCoordinate:E}))}}}}}});rA.startListening({actionCreator:KU,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var s="0",l=Hy(n,"axis","hover",String(s));e.dispatch($_({active:!0,activeIndex:s,activeCoordinate:l}))}}}});var $a=Wa("externalEvent"),GU=um(),v1=new Map;GU.startListening({actionCreator:$a,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var a=r.type,s=v1.get(a);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var u=e.getState(),f={activeCoordinate:gle(u),activeDataKey:IN(u),activeIndex:gl(u),activeLabel:VV(u),activeTooltipIndex:gl(u),isTooltipActive:yle(u)};n(f,r)}finally{v1.delete(a)}});v1.set(a,l)}}});var qpe=oe([kd],t=>t.tooltipItemPayloads),Hpe=oe([qpe,Nm,(t,e)=>e,(t,e,n)=>n],(t,e,n,r)=>{var a=t.find(u=>u.settings.graphicalItemId===r);if(a!=null){var{positions:s}=a;if(s!=null){var l=e(s,n);return l}}}),YU=Wa("touchMove"),WU=um();WU.startListening({actionCreator:YU,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),a=jN(r,r.tooltip.settings.shared);if(a==="axis"){var s=n.touches[0];if(s==null)return;var l=tA(r,nA({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));l?.activeIndex!=null&&e.dispatch(TV({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(a==="item"){var u,f=n.touches[0];if(document.elementFromPoint==null||f==null)return;var h=document.elementFromPoint(f.clientX,f.clientY);if(!h||!h.getAttribute)return;var p=h.getAttribute(g5),g=(u=h.getAttribute(y5))!==null&&u!==void 0?u:void 0,x=Od(r).find(S=>S.id===g);if(p==null||x==null||g==null)return;var{dataKey:w}=x,E=Hpe(r,p,g);e.dispatch(NV({activeDataKey:w,activeIndex:p,activeCoordinate:E,activeGraphicalItemId:g}))}}}});var Kpe=z6({brush:qfe,cartesianAxis:Tfe,chartData:gce,errorBars:Ahe,graphicalItems:Dde,layout:zee,legend:Wte,options:dce,polarAxis:Gue,polarOptions:Fpe,referenceElements:Qfe,rootProps:zpe,tooltip:Ooe,zIndex:Jle}),Gpe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return dee({reducer:Kpe,preloadedState:e,middleware:r=>{var a;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([$U.middleware,BU.middleware,rA.middleware,GU.middleware,WU.middleware])},enhancers:r=>{var a=r;return typeof r=="function"&&(a=r()),a.concat(t5({type:"raf"}))},devTools:{serialize:{replacer:Upe},name:"recharts-".concat(n)}})};function XU(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,a=Lr(),s=_.useRef(null);if(a)return n;s.current==null&&(s.current=Gpe(e,r));var l=yS;return _.createElement(tme,{context:l,store:s.current},n)}function Ype(t){var{layout:e,margin:n}=t,r=Kt(),a=Lr();return _.useEffect(()=>{a||(r(Lee(e)),r(Mee(n)))},[r,a,e,n]),null}var QU=_.memo(Ype,v0);function ZU(t){var e=Kt();return _.useEffect(()=>{e($pe(t))},[e,t]),null}function ER(t){var{zIndex:e,isPanorama:n}=t,r=_.useRef(null),a=Kt();return _.useLayoutEffect(()=>(r.current&&a(Qle({zIndex:e,element:r.current,isPanorama:n})),()=>{a(Zle({zIndex:e,isPanorama:n}))}),[a,e,n]),_.createElement("g",{tabIndex:-1,ref:r})}function SR(t){var{children:e,isPanorama:n}=t,r=Ve($le);if(!r||r.length===0)return e;var a=r.filter(l=>l<0),s=r.filter(l=>l>0);return _.createElement(_.Fragment,null,a.map(l=>_.createElement(ER,{key:l,zIndex:l,isPanorama:n})),e,s.map(l=>_.createElement(ER,{key:l,zIndex:l,isPanorama:n})))}var Wpe=["children"];function Xpe(t,e){if(t==null)return{};var n,r,a=Qpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Qpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Zy(){return Zy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zy.apply(null,arguments)}var Zpe={width:"100%",height:"100%",display:"block"},Jpe=_.forwardRef((t,e)=>{var n=_5(),r=E5(),a=R5();if(!fl(n)||!fl(r))return null;var{children:s,otherAttributes:l,title:u,desc:f}=t,h,p;return l!=null&&(typeof l.tabIndex=="number"?h=l.tabIndex:h=a?0:void 0,typeof l.role=="string"?p=l.role:p=a?"application":void 0),_.createElement(oS,Zy({},l,{title:u,desc:f,role:p,tabIndex:h,width:n,height:r,style:Zpe,ref:e}),s)}),ege=t=>{var{children:e}=t,n=Ve(Fv);if(!n)return null;var{width:r,height:a,y:s,x:l}=n;return _.createElement(oS,{width:r,height:a,x:l,y:s},e)},NR=_.forwardRef((t,e)=>{var{children:n}=t,r=Xpe(t,Wpe),a=Lr();return a?_.createElement(ege,null,_.createElement(SR,{isPanorama:!0},n)):_.createElement(Jpe,Zy({ref:e},r),_.createElement(SR,{isPanorama:!1},n))});function tge(){var t=Kt(),[e,n]=_.useState(null),r=Ve(ate);return _.useEffect(()=>{if(e!=null){var a=e.getBoundingClientRect(),s=a.width/e.offsetWidth;dn(s)&&s!==r&&t(Uee(s))}},[e,t,r]),n}function AR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function nge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AR(Object(n),!0).forEach(function(r){rge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rge(t,e,n){return(e=age(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function age(t){var e=ige(t,"string");return typeof e=="symbol"?e:e+""}function ige(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oc(){return Oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oc.apply(null,arguments)}var sge=()=>(Nce(),null);function Jy(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var oge=_.forwardRef((t,e)=>{var n,r,a=_.useRef(null),[s,l]=_.useState({containerWidth:Jy((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Jy((r=t.style)===null||r===void 0?void 0:r.height)}),u=_.useCallback((h,p)=>{l(g=>{var x=Math.round(h),w=Math.round(p);return g.containerWidth===x&&g.containerHeight===w?g:{containerWidth:x,containerHeight:w}})},[]),f=_.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=h.getBoundingClientRect();u(p,g);var x=E=>{var{width:S,height:A}=E[0].contentRect;u(S,A)},w=new ResizeObserver(x);w.observe(h),a.current=w}},[e,u]);return _.useEffect(()=>()=>{var h=a.current;h?.disconnect()},[u]),_.createElement(_.Fragment,null,_.createElement(Hv,{width:s.containerWidth,height:s.containerHeight}),_.createElement("div",Oc({ref:f},t)))}),lge=_.forwardRef((t,e)=>{var{width:n,height:r}=t,[a,s]=_.useState({containerWidth:Jy(n),containerHeight:Jy(r)}),l=_.useCallback((f,h)=>{s(p=>{var g=Math.round(f),x=Math.round(h);return p.containerWidth===g&&p.containerHeight===x?p:{containerWidth:g,containerHeight:x}})},[]),u=_.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null){var{width:h,height:p}=f.getBoundingClientRect();l(h,p)}},[e,l]);return _.createElement(_.Fragment,null,_.createElement(Hv,{width:a.containerWidth,height:a.containerHeight}),_.createElement("div",Oc({ref:u},t)))}),cge=_.forwardRef((t,e)=>{var{width:n,height:r}=t;return _.createElement(_.Fragment,null,_.createElement(Hv,{width:n,height:r}),_.createElement("div",Oc({ref:e},t)))}),uge=_.forwardRef((t,e)=>{var{width:n,height:r}=t;return Ks(n)||Ks(r)?_.createElement(lge,Oc({},t,{ref:e})):_.createElement(cge,Oc({},t,{ref:e}))});function dge(t){return t===!0?oge:uge}var fge=_.forwardRef((t,e)=>{var{children:n,className:r,height:a,onClick:s,onContextMenu:l,onDoubleClick:u,onMouseDown:f,onMouseEnter:h,onMouseLeave:p,onMouseMove:g,onMouseUp:x,onTouchEnd:w,onTouchMove:E,onTouchStart:S,style:A,width:j,responsive:I,dispatchTouchEvents:P=!0}=t,H=_.useRef(null),R=Kt(),[F,k]=_.useState(null),[O,D]=_.useState(null),q=tge(),M=NS(),U=M?.width>0?M.width:j,V=M?.height>0?M.height:a,we=_.useCallback(le=>{q(le),typeof e=="function"&&e(le),k(le),D(le),le!=null&&(H.current=le)},[q,e,k,D]),Se=_.useCallback(le=>{R(zU(le)),R($a({handler:s,reactEvent:le}))},[R,s]),Z=_.useCallback(le=>{R(J_(le)),R($a({handler:h,reactEvent:le}))},[R,h]),Y=_.useCallback(le=>{R(AV()),R($a({handler:p,reactEvent:le}))},[R,p]),J=_.useCallback(le=>{R(J_(le)),R($a({handler:g,reactEvent:le}))},[R,g]),he=_.useCallback(()=>{R(KU())},[R]),Te=_.useCallback(le=>{R(HU(le.key))},[R]),$=_.useCallback(le=>{R($a({handler:l,reactEvent:le}))},[R,l]),z=_.useCallback(le=>{R($a({handler:u,reactEvent:le}))},[R,u]),K=_.useCallback(le=>{R($a({handler:f,reactEvent:le}))},[R,f]),re=_.useCallback(le=>{R($a({handler:x,reactEvent:le}))},[R,x]),ge=_.useCallback(le=>{R($a({handler:S,reactEvent:le}))},[R,S]),Ee=_.useCallback(le=>{P&&R(YU(le)),R($a({handler:E,reactEvent:le}))},[R,P,E]),ne=_.useCallback(le=>{R($a({handler:w,reactEvent:le}))},[R,w]),Pe=dge(I);return _.createElement(HV.Provider,{value:F},_.createElement(n6.Provider,{value:O},_.createElement(Pe,{width:U??A?.width,height:V??A?.height,className:wt("recharts-wrapper",r),style:nge({position:"relative",cursor:"default",width:U,height:V},A),onClick:Se,onContextMenu:$,onDoubleClick:z,onFocus:he,onKeyDown:Te,onMouseDown:K,onMouseEnter:Z,onMouseLeave:Y,onMouseMove:J,onMouseUp:re,onTouchEnd:ne,onTouchMove:Ee,onTouchStart:ge,ref:we},_.createElement(sge,null),n)))}),hge=["width","height","responsive","children","className","style","compact","title","desc"];function mge(t,e){if(t==null)return{};var n,r,a=pge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function pge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var JU=_.forwardRef((t,e)=>{var{width:n,height:r,responsive:a,children:s,className:l,style:u,compact:f,title:h,desc:p}=t,g=mge(t,hge),x=Ya(g);return f?_.createElement(_.Fragment,null,_.createElement(Hv,{width:n,height:r}),_.createElement(NR,{otherAttributes:x,title:h,desc:p},s)):_.createElement(fge,{className:l,style:u,width:n,height:r,responsive:a??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},_.createElement(NR,{otherAttributes:x,title:h,desc:p,ref:e},_.createElement(Jfe,null,s)))});function eE(){return eE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eE.apply(null,arguments)}var gge={top:5,right:5,bottom:5,left:5},yge={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:gge,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},vge=_.forwardRef(function(e,n){var r,a=Xn(e.categoricalChartProps,yge),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:h}=e,p={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return _.createElement(XU,{preloadedState:{options:p},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:s},_.createElement(wU,{chartData:h.data}),_.createElement(QU,{layout:a.layout,margin:a.margin}),_.createElement(ZU,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),_.createElement(JU,eE({},a,{ref:n})))});function xge(t){var e=Kt();return _.useEffect(()=>{e(Bpe(t))},[e,t]),null}var bge=["layout"];function tE(){return tE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tE.apply(null,arguments)}function wge(t,e){if(t==null)return{};var n,r,a=_ge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function _ge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ege={top:5,right:5,bottom:5,left:5},e9={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Ege,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Sge=_.forwardRef(function(e,n){var r,a=Xn(e.categoricalChartProps,e9),{layout:s}=a,l=wge(a,bge),{chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p}=e,g={chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return _.createElement(XU,{preloadedState:{options:g},reduxStoreName:(r=a.id)!==null&&r!==void 0?r:u},_.createElement(wU,{chartData:a.data}),_.createElement(QU,{layout:s,margin:a.margin}),_.createElement(ZU,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),_.createElement(xge,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),_.createElement(JU,tE({},l,{ref:n})))});function TR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function jR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TR(Object(n),!0).forEach(function(r){Nge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nge(t,e,n){return(e=Age(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Age(t){var e=Tge(t,"string");return typeof e=="symbol"?e:e+""}function Tge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jge=["item"],Cge=jR(jR({},e9),{},{layout:"centric",startAngle:0,endAngle:360}),kge=_.forwardRef((t,e)=>{var n=Xn(t,Cge);return _.createElement(Sge,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:jge,tooltipPayloadSearcher:KV,categoricalChartProps:n,ref:e})}),Oge=["axis"],Pge=_.forwardRef((t,e)=>_.createElement(vge,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Oge,tooltipPayloadSearcher:KV,categoricalChartProps:t,ref:e}));const Dge={expense:[{value:"food",label:" Food"},{value:"transport",label:" Transport"},{value:"entertainment",label:" Fun"},{value:"utilities",label:" Utilities"},{value:"other_expense",label:" Other"}],income:[{value:"salary",label:" Salary"},{value:"freelance",label:" Freelance"},{value:"scholarship",label:" Scholarship"},{value:"gift",label:" Gift"},{value:"other_income",label:" Other"}]};function Ige(){const{addTransaction:t}=Qa(),{showToast:e}=Za(),[n,r]=_.useState("expense"),[a,s]=_.useState(""),[l,u]=_.useState("food"),[f,h]=_.useState(""),[p,g]=_.useState(!1),x=async E=>{if(E?.preventDefault(),!a||parseFloat(a)<=0){e("Enter an amount","warning");return}g(!0);try{await t({date:$e(new Date,"yyyy-MM-dd"),amount:parseFloat(a),type:n,category:l,description:f||`${n==="expense"?"Expense":"Income"} - ${l}`,recurring:!1}),e(`${a} ${n} added`,"success"),s(""),h("")}catch{e("Failed to add","error")}finally{g(!1)}},w=E=>{E.key==="Enter"&&(E.preventDefault(),x())};return d.jsx("div",{className:"card-cyber p-4 space-y-3",children:d.jsxs("form",{onSubmit:x,className:"flex flex-col sm:flex-row gap-3",children:[d.jsxs("div",{className:"flex bg-dark-700 rounded-lg p-1 border border-dark-600 sm:w-auto",children:[d.jsxs("button",{type:"button",onClick:()=>{r("expense"),u("food")},className:`flex-1 sm:flex-none px-3 py-2 rounded text-sm font-medium flex items-center justify-center gap-1 transition-all ${n==="expense"?"bg-neon-red/20 text-neon-red":"text-gray-500 hover:text-gray-300"}`,children:[d.jsx(IX,{className:"w-4 h-4"})," Out"]}),d.jsxs("button",{type:"button",onClick:()=>{r("income"),u("salary")},className:`flex-1 sm:flex-none px-3 py-2 rounded text-sm font-medium flex items-center justify-center gap-1 transition-all ${n==="income"?"bg-neon-green/20 text-neon-green":"text-gray-500 hover:text-gray-300"}`,children:[d.jsx(or,{className:"w-4 h-4"})," In"]})]}),d.jsxs("div",{className:"flex gap-2 flex-1",children:[d.jsxs("div",{className:"relative flex-1 sm:max-w-[140px]",children:[d.jsx("span",{className:"absolute left-3 top-2.5 text-gray-500",children:""}),d.jsx("input",{type:"number",step:"0.01",placeholder:"0.00",value:a,onChange:E=>s(E.target.value),onKeyDown:w,className:"w-full bg-dark-700 border border-dark-600 rounded-lg pl-7 pr-3 py-2 text-white focus:border-neon-cyan focus:outline-none text-lg font-mono"})]}),d.jsx("select",{value:l,onChange:E=>u(E.target.value),className:"bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-white text-sm focus:border-neon-cyan focus:outline-none flex-1 sm:flex-none sm:w-[130px]",children:Dge[n].map(E=>d.jsx("option",{value:E.value,children:E.label},E.value))})]}),d.jsxs("div",{className:"flex gap-2 flex-1",children:[d.jsx("input",{type:"text",placeholder:"Description (optional)",value:f,onChange:E=>h(E.target.value),onKeyDown:w,className:"flex-1 bg-dark-700 border border-dark-600 rounded-lg px-3 py-2 text-white text-sm focus:border-neon-cyan focus:outline-none"}),d.jsx("button",{type:"submit",disabled:p||!a,className:"btn-cyber px-4 py-2 flex items-center gap-2 disabled:opacity-50",children:p?d.jsx(Hs,{className:"w-4 h-4 animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsx(or,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:"Add"})]})})]})]})})}const CR={salary:"#00ff88",freelance:"#00ffff",scholarship:"#9d00ff",gift:"#ffee00",refund:"#ffffff",other_income:"#888888",rent:"#ff3366",utilities:"#ffaa00",food:"#ffeb3b",transport:"#00ccff",entertainment:"#d500f9",health:"#ff0066",education:"#00ff88",other_expense:"#666666"},Yf=[{value:"salary",label:"Salary"},{value:"freelance",label:"Freelance"},{value:"scholarship",label:"Scholarship"},{value:"gift",label:"Gift"},{value:"refund",label:"Refund"},{value:"other_income",label:"Other"}],Wf=[{value:"rent",label:"Rent"},{value:"utilities",label:"Utilities"},{value:"food",label:"Food"},{value:"transport",label:"Transport"},{value:"entertainment",label:"Entertainment"},{value:"health",label:"Health"},{value:"education",label:"Education"},{value:"other_expense",label:"Other"}];function Rge(){const{transactions:t,addTransaction:e,deleteTransaction:n,updateTransaction:r}=Qa(),{showToast:a}=Za(),[s,l]=_.useState("all"),[u,f]=_.useState(""),[h,p]=_.useState(!1),[g,x]=_.useState(null),[w,E]=_.useState(!1),[S,A]=_.useState(null),[j,I]=_.useState({date:$e(new Date,"yyyy-MM-dd"),description:"",amount:0,type:"expense",category:"food",recurring:!1}),[P,H]=_.useState(!1),R=new Date,F=KG(R),k=T3(R),O=t.filter(K=>Ek(ic(K.date),{start:F,end:k})),D=O.filter(K=>K.type==="income").reduce((K,re)=>K+re.amount,0),q=O.filter(K=>K.type==="expense").reduce((K,re)=>K+re.amount,0),M=D-q,U=D>0?(D-q)/D*100:0,V=_.useMemo(()=>{const K=[],re=s==="income"?Yf:Wf,ge=s==="income"?"income":"expense";return re.forEach(Ee=>{const ne=O.filter(Pe=>Pe.type===ge&&Pe.category===Ee.value).reduce((Pe,le)=>Pe+le.amount,0);ne>0&&K.push({name:Ee.label,value:ne})}),K},[O,s]),we=_.useMemo(()=>{const K=new Date,re=cW(K),ge=HG({start:re,end:K});let Ee=0;return ge.map(ne=>{const Pe=t.filter(Le=>GY(ic(Le.date),ne)),le=Pe.filter(Le=>Le.type==="income").reduce((Le,X)=>Le+X.amount,0),je=Pe.filter(Le=>Le.type==="expense").reduce((Le,X)=>Le+X.amount,0);return Ee+=le-je,{month:$e(ne,"MMM"),income:le,expense:je,netWorth:Ee}})},[t]),Se=t.filter(K=>K.recurring&&K.type==="expense"),Z=async K=>{try{await e({date:$e(new Date,"yyyy-MM-dd"),description:K.description,amount:K.amount,type:K.type,category:K.category,recurring:!1}),a(`${K.amount} added for ${$e(new Date,"MMM")}`,"success")}catch{a("Failed to add","error")}},Y=async K=>{if(K.preventDefault(),!(!j.description||j.amount<=0)){H(!0);try{g?(await r(g.id,{...j,category:j.type==="income"?Yf.find(re=>re.value===j.category)?j.category:"other_income":Wf.find(re=>re.value===j.category)?j.category:"other_expense"}),a("Transaction updated","success")):(await e({...j,category:j.type==="income"?Yf.find(re=>re.value===j.category)?j.category:"other_income":Wf.find(re=>re.value===j.category)?j.category:"other_expense"}),a("Transaction added","success")),p(!1),J()}catch{a("Failed to save transaction","error")}finally{H(!1)}}},J=()=>{I({date:$e(new Date,"yyyy-MM-dd"),description:"",amount:0,type:"expense",category:"food",recurring:!1}),x(null)},he=K=>{x(K),I(K),p(!0)},Te=K=>{A(K),E(!0)},$=async()=>{if(S)try{await n(S),a("Transaction deleted","success"),E(!1),A(null)}catch{a("Failed to delete transaction","error"),E(!1)}},z=t.filter(K=>{const re=s==="all"||K.type===s,ge=K.description.toLowerCase().includes(u.toLowerCase());return re&&ge}).sort((K,re)=>new Date(re.date).getTime()-new Date(K.date).getTime());return d.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-6",children:[d.jsxs("div",{className:"page-header",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-white flex items-center gap-2 sm:gap-3",children:[d.jsx(X3,{className:"w-6 h-6 sm:w-8 sm:h-8 text-neon-cyan flex-shrink-0"}),"Cashflow Command"]}),d.jsx("p",{className:"text-gray-500 mt-1 text-sm sm:text-base",children:"Track income, expenses, and burn rate"})]}),d.jsxs("button",{onClick:()=>{J(),p(!0)},className:"btn-cyber flex items-center gap-2",children:[d.jsx(or,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:"Advanced Add"}),d.jsx("span",{className:"sm:hidden",children:"+"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[d.jsxs("div",{className:"card-cyber p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 text-gray-400 mb-2",children:[d.jsx(_c,{className:"w-4 h-4"})," BALANCE"]}),d.jsxs("div",{className:`text-2xl font-bold ${M>=0?"text-white":"text-neon-red"}`,children:["",M.toFixed(2)]})]}),d.jsxs("div",{className:"card-cyber p-4 bg-gradient-to-br from-neon-green/5 to-transparent border-neon-green/20",children:[d.jsxs("div",{className:"flex items-center gap-2 text-neon-green mb-2",children:[d.jsx(W3,{className:"w-4 h-4"})," INCOME"]}),d.jsxs("div",{className:"text-2xl font-bold text-white",children:["",D.toFixed(2)]})]}),d.jsxs("div",{className:"card-cyber p-4 bg-gradient-to-br from-neon-red/5 to-transparent border-neon-red/20",children:[d.jsxs("div",{className:"flex items-center gap-2 text-neon-red mb-2",children:[d.jsx(tQ,{className:"w-4 h-4"})," EXPENSES"]}),d.jsxs("div",{className:"text-2xl font-bold text-white",children:["",q.toFixed(2)]})]}),d.jsxs("div",{className:"card-cyber p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 text-neon-purple mb-2",children:[d.jsx(Ck,{className:"w-4 h-4"})," SAVINGS RATE"]}),d.jsxs("div",{className:"text-2xl font-bold text-white",children:[U.toFixed(1),"%"]})]})]}),d.jsx(Ige,{}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"card-cyber p-6 h-[300px]",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[d.jsx(Ck,{className:"w-5 h-5 text-neon-cyan"})," Breakdown"]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>l("income"),className:`text-xs px-2 py-1 rounded ${s==="income"?"bg-neon-green/20 text-neon-green":"text-gray-500"}`,children:"In"}),d.jsx("button",{onClick:()=>l("expense"),className:`text-xs px-2 py-1 rounded ${s==="expense"?"bg-neon-red/20 text-neon-red":"text-gray-500"}`,children:"Out"})]})]}),d.jsx(pP,{width:"100%",height:"100%",children:d.jsxs(kge,{children:[d.jsx(vU,{data:V,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:V.map((K,re)=>d.jsx(jm,{fill:CR[(s==="income"?Yf:Wf).find(ge=>ge.label===K.name)?.value||"other_expense"]},`cell-${re}`))}),d.jsx(vI,{contentStyle:{backgroundColor:"#12121a",border:"1px solid #252532",borderRadius:"8px"},itemStyle:{color:"#e0e0e0"},formatter:K=>`${Number(K).toFixed(2)}`,wrapperStyle:{zIndex:1e3}}),d.jsx(I5,{})]})})]}),d.jsxs("div",{className:"card-cyber p-6 h-[300px]",children:[d.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2 mb-4",children:[d.jsx(MW,{className:"w-5 h-5 text-neon-yellow"})," 6 Month Trend"]}),d.jsx(pP,{width:"100%",height:"100%",children:d.jsxs(Pge,{data:we,children:[d.jsx(UU,{dataKey:"month",stroke:"#666",fontSize:12}),d.jsx(Z_,{yAxisId:"left",stroke:"#666",fontSize:12}),d.jsx(Z_,{yAxisId:"right",orientation:"right",stroke:"#9d00ff",fontSize:12}),d.jsx(vI,{contentStyle:{backgroundColor:"#12121a",border:"1px solid #252532",borderRadius:"8px"},itemStyle:{color:"#e0e0e0"},cursor:{fill:"#ffffff10"},wrapperStyle:{zIndex:1e3},formatter:(K,re)=>[`${Number(K).toFixed(0)}`,re==="netWorth"?"Net Worth":re==="income"?"Income":"Expense"]}),d.jsx(W_,{yAxisId:"left",dataKey:"income",fill:"#00ff9d",radius:[4,4,0,0]}),d.jsx(W_,{yAxisId:"left",dataKey:"expense",fill:"#ff0055",radius:[4,4,0,0]}),d.jsx(IU,{yAxisId:"right",type:"monotone",dataKey:"netWorth",stroke:"#9d00ff",strokeWidth:3,dot:{fill:"#9d00ff",r:4},name:"Net Worth"})]})})]}),d.jsxs("div",{className:"card-cyber p-6",children:[d.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2 mb-4",children:[d.jsx(Lb,{className:"w-5 h-5 text-neon-purple"})," Upcoming Recurring"]}),d.jsxs("div",{className:"space-y-3",children:[Se.map(K=>{const re=W1(ic(K.date),1),ge=Ek(re,{start:new Date,end:W1(new Date,1)});return d.jsxs("div",{className:"flex items-center justify-between p-3 rounded bg-dark-700/50 border border-dark-600 group",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`p-2 rounded-full bg-dark-600 ${ge?"text-neon-yellow":"text-gray-500"}`,children:d.jsx(Ir,{className:"w-4 h-4"})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-bold text-white",children:K.description}),d.jsxs("div",{className:"text-xs text-gray-500",children:["Due: ",$e(re,"MMM d")]})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("button",{onClick:()=>Z(K),className:"text-xs text-neon-cyan hover:text-neon-green transition-colors opacity-0 group-hover:opacity-100",children:["+ Add to ",$e(new Date,"MMM")]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:"text-sm font-bold text-white",children:["",K.amount]}),d.jsx("div",{className:"text-xs text-gray-400 uppercase",children:K.category})]})]})]},K.id)}),Se.length===0&&d.jsx("p",{className:"text-sm text-gray-500 text-center py-2",children:"No recurring expenses tracked."})]})]})]}),d.jsxs("div",{className:"lg:col-span-2 card-cyber p-6 flex flex-col h-full",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[d.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[d.jsx(Ak,{className:"w-5 h-5 text-neon-cyan"})," Recent Activity"]}),d.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[d.jsxs("div",{className:"relative flex-1 sm:w-64",children:[d.jsx(GX,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-500"}),d.jsx("input",{type:"text",placeholder:"Search...",value:u,onChange:K=>f(K.target.value),className:"w-full bg-dark-700 border border-dark-600 rounded pl-9 p-2 text-sm text-white focus:border-neon-purple focus:outline-none"})]}),d.jsxs("div",{className:"flex bg-dark-700 rounded p-1 border border-dark-600",children:[d.jsx("button",{onClick:()=>l("all"),className:`px-3 py-1 rounded text-xs transition-colors ${s==="all"?"bg-dark-600 text-white":"text-gray-400 hover:text-white"}`,children:"All"}),d.jsx("button",{onClick:()=>l("income"),className:`px-3 py-1 rounded text-xs transition-colors ${s==="income"?"bg-neon-green/10 text-neon-green":"text-gray-400 hover:text-white"}`,children:"In"}),d.jsx("button",{onClick:()=>l("expense"),className:`px-3 py-1 rounded text-xs transition-colors ${s==="expense"?"bg-neon-red/10 text-neon-red":"text-gray-400 hover:text-white"}`,children:"Out"})]})]})]}),d.jsxs("div",{className:"space-y-3 flex-1 overflow-auto max-h-[600px] pr-2 custom-scrollbar",children:[z.map(K=>d.jsxs("div",{className:"group flex items-center justify-between p-4 rounded-lg bg-dark-700/30 border border-dark-600 hover:bg-dark-700 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:`p-3 rounded-full ${K.type==="income"?"bg-neon-green/10 text-neon-green":"bg-neon-red/10 text-neon-red"}`,children:K.type==="income"?d.jsx(SW,{className:"w-5 h-5"}):d.jsx(Ak,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsxs("div",{className:"text-white font-medium flex items-center gap-2",children:[K.description,K.recurring&&d.jsx(Lb,{className:"w-3 h-3 text-gray-500"})]}),d.jsxs("div",{className:"text-xs text-gray-500 mt-1 flex items-center gap-2",children:[d.jsx(Ir,{className:"w-3 h-3"}),$e(ic(K.date),"MMM d, yyyy"),d.jsx("span",{className:"w-1 h-1 rounded-full bg-gray-600"}),d.jsx("span",{className:"capitalize",style:{color:CR[K.category]||"#fff"},children:K.category.replace("_"," ")})]})]})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:`text-lg font-bold ${K.type==="income"?"text-neon-green":"text-white"}`,children:[K.type==="income"?"+":"-","",K.amount.toFixed(2)]}),d.jsxs("div",{className:"flex flex-col gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[d.jsx("button",{onClick:()=>he(K),className:"p-1.5 rounded bg-dark-600 hover:bg-neon-cyan/20 text-gray-400 hover:text-neon-cyan",children:d.jsx(Qr,{className:"w-3 h-3"})}),d.jsx("button",{onClick:()=>Te(K.id),className:"p-1.5 rounded bg-dark-600 hover:bg-neon-red/20 text-gray-400 hover:text-neon-red",children:d.jsx(vi,{className:"w-3 h-3"})})]})]})]},K.id)),z.length===0&&d.jsxs("div",{className:"text-center py-12 text-gray-500",children:[d.jsx(xX,{className:"w-8 h-8 mx-auto mb-3 opacity-20"}),"No transactions found matching your criteria"]})]})]})]}),h&&d.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-2 sm:p-4",children:d.jsxs("div",{className:"bg-dark-800 border border-dark-600 rounded-xl w-full max-w-[calc(100vw-1rem)] sm:max-w-md max-h-[calc(100vh-1rem)] sm:max-h-[85vh] overflow-hidden flex flex-col",children:[d.jsxs("div",{className:"p-6 border-b border-dark-600 flex justify-between items-center",children:[d.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[g?d.jsx(Qr,{className:"w-5 h-5 text-neon-cyan"}):d.jsx(or,{className:"w-5 h-5 text-neon-green"}),g?"Edit Transaction":"Add Transaction"]}),d.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-white",children:d.jsx(va,{className:"w-5 h-5"})})]}),d.jsxs("form",{id:"cashflow-form",onSubmit:Y,className:"flex-1 overflow-y-auto p-6 space-y-4",children:[d.jsxs("div",{className:"flex bg-dark-900 p-1 rounded-lg border border-dark-600",children:[d.jsx("button",{type:"button",onClick:()=>I(K=>({...K,type:"expense",category:"food"})),className:`flex-1 py-2 rounded-md text-sm font-medium transition-all ${j.type==="expense"?"bg-neon-red text-dark-900 shadow-lg shadow-neon-red/20":"text-gray-400 hover:text-white"}`,children:"Expense"}),d.jsx("button",{type:"button",onClick:()=>I(K=>({...K,type:"income",category:"salary"})),className:`flex-1 py-2 rounded-md text-sm font-medium transition-all ${j.type==="income"?"bg-neon-green text-dark-900 shadow-lg shadow-neon-green/20":"text-gray-400 hover:text-white"}`,children:"Income"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Date"}),d.jsx("input",{type:"date",value:j.date,onChange:K=>I({...j,date:K.target.value}),className:"w-full bg-dark-900 border border-dark-600 rounded p-2 text-white focus:border-neon-purple focus:outline-none",required:!0}),d.jsx(Z3,{currentDate:j.date,onSelect:K=>I({...j,date:K})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Amount ()"}),d.jsxs("div",{className:"relative",children:[d.jsx(_c,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-500"}),d.jsx("input",{type:"number",step:"0.01",placeholder:"0.00",value:j.amount,onChange:K=>I({...j,amount:parseFloat(K.target.value)||0}),className:"w-full bg-dark-900 border border-dark-600 rounded pl-9 p-2 text-white focus:border-neon-purple focus:outline-none",required:!0})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Category"}),d.jsx("select",{value:j.category,onChange:K=>I({...j,category:K.target.value}),className:"w-full bg-dark-900 border border-dark-600 rounded p-2 text-white focus:border-neon-purple focus:outline-none capitalize",children:(j.type==="income"?Yf:Wf).map(K=>d.jsx("option",{value:K.value,children:K.label},K.value))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Description"}),d.jsx("input",{type:"text",placeholder:j.type==="income"?"e.g. October Salary":"e.g. Grocery Run",value:j.description,onChange:K=>I({...j,description:K.target.value}),className:"w-full bg-dark-900 border border-dark-600 rounded p-2 text-white focus:border-neon-purple focus:outline-none",required:!0})]}),d.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[d.jsx("input",{type:"checkbox",id:"recurring",checked:j.recurring,onChange:K=>I({...j,recurring:K.target.checked}),className:"rounded border-dark-600 bg-dark-900 text-neon-purple focus:ring-neon-purple"}),d.jsxs("label",{htmlFor:"recurring",className:"text-sm text-gray-400 flex items-center gap-1 cursor-pointer select-none",children:[d.jsx(Lb,{className:"w-3 h-3"})," Monthly Recurring"]})]})]}),d.jsxs("div",{className:"flex justify-end gap-3 p-6 pt-4 border-t border-dark-600 bg-dark-800",children:[d.jsx("button",{type:"button",onClick:()=>p(!1),className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",form:"cashflow-form",disabled:P,className:"btn-cyber flex items-center gap-2 disabled:opacity-50",onClick:Y,children:P?d.jsxs(d.Fragment,{children:[d.jsx(Hs,{className:"w-4 h-4 animate-spin"})," Saving..."]}):d.jsxs(d.Fragment,{children:[d.jsx(es,{className:"w-4 h-4"})," Save Transaction"]})})]})]})}),d.jsx(El,{isOpen:w,title:"Delete Transaction",message:"Are you sure you want to delete this transaction? This action cannot be undone.",confirmText:"Delete",isDangerous:!0,onConfirm:$,onCancel:()=>E(!1)})]})}const Mge=["full-time","contract","freelance","internship"],Lge=["enrolled","graduated","paused"];function Vge(){const{jobs:t,education:e,skillDefinitions:n,addJob:r,updateJob:a,deleteJob:s,addEducation:l,updateEducation:u,deleteEducation:f,profile:h,getAllSkillAnalytics:p}=Qa(),{showToast:g}=Za(),[x,w]=_.useState("jobs"),[E,S]=_.useState(!1),[A,j]=_.useState(!1),[I,P]=_.useState(null),[H,R]=_.useState(null),[F,k]=_.useState(null),[O,D]=_.useState(!1),[q,M]=_.useState(!1),[U,V]=_.useState(!1),[we,Se]=_.useState(null),[Z,Y]=_.useState(null),[J,he]=_.useState({company:"",role:"",location:"",type:"full-time",startDate:"",endDate:"",salary_gross_yr:0,currency:"EUR",tech_stack:[],achievements:"",is_current:!1}),[Te,$]=_.useState(!1),[z,K]=_.useState({institution:"",degree:"",status:"enrolled",startDate:"",endDate:"",scholarship_name:"",thesis_title:""}),re=()=>{he({company:"",role:"",location:"",type:"full-time",startDate:"",endDate:"",salary_gross_yr:0,currency:"EUR",tech_stack:[],achievements:"",is_current:!1}),P(null),$(!1)},ge=()=>{K({institution:"",degree:"",status:"enrolled",startDate:"",endDate:"",scholarship_name:"",thesis_title:""}),R(null)},Ee=ee=>{P(ee),he({company:ee.company,role:ee.role,location:ee.location,type:ee.type,startDate:ee.startDate,endDate:ee.endDate||"",salary_gross_yr:ee.salary_gross_yr||0,currency:ee.currency||"EUR",tech_stack:ee.tech_stack||[],achievements:ee.achievements?.join(`
`)||"",is_current:ee.is_current}),S(!0)},ne=ee=>{R(ee),K({institution:ee.institution,degree:ee.degree,status:ee.status,startDate:ee.startDate,endDate:ee.endDate||"",scholarship_name:ee.scholarship_name||"",thesis_title:ee.thesis_title||""}),j(!0)},Pe=async()=>{if(!(!J.company.trim()||!J.role.trim())){D(!0);try{const ee={company:J.company,role:J.role,location:J.location,type:J.type,startDate:J.startDate,endDate:J.is_current?null:J.endDate||null,salary_gross_yr:J.salary_gross_yr||void 0,currency:J.currency,tech_stack:J.tech_stack,achievements:J.achievements.split(`
`).map(W=>W.trim()).filter(Boolean),is_current:J.is_current};I?(await a(I.id,ee),g("Position updated","success")):(await r(ee),g("Position added","success")),S(!1),re()}catch{g("Failed to save position. Please try again.","error")}finally{D(!1)}}},le=async()=>{if(!(!z.institution.trim()||!z.degree.trim())){M(!0);try{const ee={institution:z.institution,degree:z.degree,status:z.status,startDate:z.startDate,endDate:z.endDate||null,scholarship_name:z.scholarship_name||void 0,thesis_title:z.thesis_title||void 0};H?(await u(H.id,ee),g("Education updated","success")):(await l(ee),g("Education added","success")),j(!1),ge()}catch{g("Failed to save education. Please try again.","error")}finally{M(!1)}}},je=(ee,W)=>{Se(ee),Y(W),V(!0)},Le=async()=>{if(we&&Z)try{Z==="job"?(await s(we),g("Position deleted","success")):(await f(we),g("Education deleted","success")),V(!1),Se(null),Y(null)}catch{g(`Failed to delete ${Z}`,"error"),V(!1)}},X=(ee,W)=>{const Ne=new Date(ee),Fe=W?new Date(W):new Date,vt=vk(Fe,Ne),ln=Math.floor(vt/12),ta=vt%12;return ln===0?`${ta} mo`:ta===0?`${ln} yr`:`${ln} yr ${ta} mo`},Oe=ee=>{switch(ee){case"full-time":return"bg-neon-green/10 text-neon-green border-neon-green/30";case"contract":return"bg-neon-cyan/10 text-neon-cyan border-neon-cyan/30";case"freelance":return"bg-neon-purple/10 text-neon-purple border-neon-purple/30";case"internship":return"bg-neon-yellow/10 text-neon-yellow border-neon-yellow/30"}},ke=ee=>{switch(ee){case"enrolled":return"bg-neon-cyan/10 text-neon-cyan border-neon-cyan/30";case"graduated":return"bg-neon-green/10 text-neon-green border-neon-green/30";case"paused":return"bg-neon-yellow/10 text-neon-yellow border-neon-yellow/30"}},Qe=t.reduce((ee,W)=>{const Ne=new Date(W.startDate),Fe=W.endDate?new Date(W.endDate):new Date;return ee+vk(Fe,Ne)},0),at=Math.floor(Qe/12),Gt=Qe%12,Tn=[...new Set(t.flatMap(ee=>ee.tech_stack))],Nt=n.filter(ee=>ee.show_on_cv),Ft=_.useMemo(()=>{const ee=p(),W=new Map;return ee.forEach(Ne=>W.set(Ne.skillId,{level:Ne.level,totalHours:Ne.totalHours,levelName:Ne.levelName})),W},[p]);return d.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[d.jsx(di,{className:"w-8 h-8 text-neon-purple"}),"Career Hub"]}),d.jsxs("p",{className:"text-gray-500 mt-1",children:[h?.name||"Your"," Professional Timeline & CV Manager"]})]}),d.jsxs("div",{className:"hidden sm:flex items-center gap-4 text-sm",children:[d.jsxs("div",{className:"card-cyber px-3 py-1.5 sm:px-4 sm:py-2",children:[d.jsx("span",{className:"text-gray-400 hidden md:inline",children:"Experience:"}),d.jsxs("span",{className:"text-white font-bold ml-0 md:ml-2",children:[at>0?`${at}y `:"",Gt,"m"]})]}),d.jsxs("div",{className:"card-cyber px-3 py-1.5 sm:px-4 sm:py-2",children:[d.jsx("span",{className:"text-gray-400 hidden md:inline",children:"Technologies:"}),d.jsx("span",{className:"text-neon-cyan font-bold ml-0 md:ml-2",children:Tn.length})]})]})]}),d.jsxs("div",{className:"flex gap-2 border-b border-dark-600 pb-2",children:[d.jsxs("button",{onClick:()=>w("jobs"),className:`px-4 py-2 rounded-t-lg transition-all ${x==="jobs"?"bg-dark-700 text-neon-green border-b-2 border-neon-green":"text-gray-400 hover:text-white"}`,children:[d.jsx(di,{className:"w-4 h-4 inline mr-2"}),"Work History (",t.length,")"]}),d.jsxs("button",{onClick:()=>w("education"),className:`px-4 py-2 rounded-t-lg transition-all ${x==="education"?"bg-dark-700 text-neon-cyan border-b-2 border-neon-cyan":"text-gray-400 hover:text-white"}`,children:[d.jsx(al,{className:"w-4 h-4 inline mr-2"}),"Education (",e.length,")"]}),d.jsxs("button",{onClick:()=>w("skills"),className:`px-4 py-2 rounded-t-lg transition-all ${x==="skills"?"bg-dark-700 text-neon-purple border-b-2 border-neon-purple":"text-gray-400 hover:text-white"}`,children:[d.jsx(Nh,{className:"w-4 h-4 inline mr-2"}),"Tech Stack (",Nt.length,")"]})]}),x==="jobs"&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"flex justify-end",children:d.jsxs("button",{onClick:()=>{re(),S(!0)},className:"btn-cyber px-4 py-2 flex items-center gap-2",children:[d.jsx(or,{className:"w-4 h-4"}),"Add Position"]})}),d.jsxs("div",{className:"timeline-container",children:[d.jsx("div",{className:"timeline-line"}),t.length===0?d.jsxs("div",{className:"text-center py-12 card-cyber",children:[d.jsx(di,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500",children:"No work history yet. Add your first position!"})]}):d.jsx("div",{className:"space-y-6",children:t.map(ee=>d.jsxs("div",{className:"timeline-item",children:[d.jsx("div",{className:`timeline-dot ${ee.is_current?"bg-neon-green border-neon-green animate-pulse":"bg-dark-700 border-dark-500"}`}),d.jsx("div",{className:"card-cyber p-5 hover:border-neon-purple/30 transition-all",children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx("h3",{className:"text-xl font-bold text-white",children:ee.role}),ee.is_current&&d.jsx("span",{className:"px-2 py-0.5 bg-neon-green/20 text-neon-green text-xs rounded-full border border-neon-green/30",children:"CURRENT"}),d.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full border ${Oe(ee.type)}`,children:ee.type})]}),d.jsxs("div",{className:"flex items-center gap-4 text-gray-400 text-sm mb-3",children:[d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(X1,{className:"w-4 h-4"}),ee.company]}),d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(PX,{className:"w-4 h-4"}),ee.location]}),d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(Kn,{className:"w-4 h-4"}),X(ee.startDate,ee.endDate)]})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-3",children:[d.jsx(Ir,{className:"w-4 h-4"}),$e(new Date(ee.startDate),"MMM yyyy"),"  ",ee.endDate?$e(new Date(ee.endDate),"MMM yyyy"):"Present"]}),d.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:ee.tech_stack.map(W=>d.jsx("span",{className:"px-2 py-1 bg-dark-600 text-neon-cyan text-xs rounded border border-dark-500",children:W},W))}),ee.achievements&&ee.achievements.length>0&&d.jsxs("div",{children:[d.jsxs("button",{onClick:()=>k(F===ee.id?null:ee.id),className:"flex items-center gap-1 text-sm text-gray-400 hover:text-white transition-colors",children:[d.jsx(iQ,{className:"w-4 h-4"}),ee.achievements.length," Achievement",ee.achievements.length>1?"s":"",F===ee.id?d.jsx(Av,{className:"w-4 h-4"}):d.jsx(rd,{className:"w-4 h-4"})]}),F===ee.id&&d.jsx("ul",{className:"mt-2 space-y-1 pl-4 border-l-2 border-dark-600",children:ee.achievements.map((W,Ne)=>d.jsxs("li",{className:"text-sm text-gray-300",children:[" ",W]},Ne))})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[ee.salary_gross_yr&&d.jsxs("span",{className:"text-sm text-gray-500 flex items-center gap-1",children:[d.jsx(_c,{className:"w-3 h-3"}),ee.salary_gross_yr.toLocaleString()," ",ee.currency,"/yr"]}),d.jsx("button",{onClick:()=>Ee(ee),className:"p-2 text-gray-400 hover:text-neon-cyan transition-colors",children:d.jsx(Qr,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>je(ee.id,"job"),className:"p-2 text-gray-400 hover:text-neon-red transition-colors",children:d.jsx(vi,{className:"w-4 h-4"})})]})]})})]},ee.id))})]})]}),x==="education"&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"flex justify-end",children:d.jsxs("button",{onClick:()=>{ge(),j(!0)},className:"btn-cyber px-4 py-2 flex items-center gap-2",children:[d.jsx(or,{className:"w-4 h-4"}),"Add Education"]})}),e.length===0?d.jsxs("div",{className:"text-center py-12 card-cyber",children:[d.jsx(al,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500",children:"No education history yet. Add your first degree!"})]}):d.jsx("div",{className:"grid gap-4",children:e.map(ee=>d.jsx("div",{className:"card-cyber p-5 hover:border-neon-cyan/30 transition-all",children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx("h3",{className:"text-xl font-bold text-white",children:ee.degree}),d.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full border ${ke(ee.status)}`,children:ee.status})]}),d.jsxs("div",{className:"flex items-center gap-4 text-gray-400 text-sm mb-2",children:[d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(X1,{className:"w-4 h-4"}),ee.institution]}),d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(Ir,{className:"w-4 h-4"}),$e(new Date(ee.startDate),"MMM yyyy"),"  ",ee.endDate?$e(new Date(ee.endDate),"MMM yyyy"):"Present"]})]}),ee.scholarship_name&&d.jsxs("div",{className:"flex items-center gap-1 text-sm text-neon-yellow mb-2",children:[d.jsx(XX,{className:"w-4 h-4"}),ee.scholarship_name]}),ee.thesis_title&&d.jsxs("p",{className:"text-sm text-gray-400 italic",children:['Thesis: "',ee.thesis_title,'"']})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:()=>ne(ee),className:"p-2 text-gray-400 hover:text-neon-cyan transition-colors",children:d.jsx(Qr,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>je(ee.id,"education"),className:"p-2 text-gray-400 hover:text-neon-red transition-colors",children:d.jsx(vi,{className:"w-4 h-4"})})]})]})},ee.id))})]}),x==="skills"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"card-cyber p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[d.jsx(Nh,{className:"w-5 h-5 text-neon-purple"}),"CV-Ready Skills Matrix"]}),d.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:['Skills marked as "Show on CV" from Skill Mastery appear here. Proficiency is ',d.jsx("span",{className:"text-neon-green",children:"calculated from your practice history"}),"."]}),Nt.length===0?d.jsx("div",{className:"text-center py-8 text-gray-500",children:'No skills configured for CV. Add skills in Skill Mastery and enable "Show on CV".'}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Nt.map(ee=>{const W=Ft.get(ee.id),Ne=W?.level||1,Fe=W?.levelName||"Novice",vt=W?.totalHours||0;return d.jsxs("div",{className:"p-4 bg-dark-700 rounded-lg border border-dark-600 hover:border-neon-purple/30 transition-all",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"font-medium text-white",children:ee.name}),d.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${ee.category==="language"?"bg-neon-cyan/20 text-neon-cyan":ee.category==="frontend"?"bg-neon-purple/20 text-neon-purple":ee.category==="backend"?"bg-neon-green/20 text-neon-green":ee.category==="devops"?"bg-neon-yellow/20 text-neon-yellow":ee.category==="database"?"bg-neon-cyan/20 text-neon-cyan":"bg-dark-600 text-gray-400"}`,children:ee.category||"other"})]}),d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsxs("span",{className:"text-xs text-gray-500",children:["Lv.",Ne," ",Fe,":"]}),d.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(ln=>d.jsx("div",{className:`w-4 h-2 rounded ${ln<=Ne?"bg-neon-green":"bg-dark-600"}`},ln))})]}),d.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[vt>0&&d.jsxs("span",{children:[vt,"h practiced"]}),ee.years_experience!==void 0&&ee.years_experience>0&&d.jsxs("span",{children:["+",ee.years_experience,"y prior"]})]})]},ee.id)})})]}),d.jsxs("div",{className:"card-cyber p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[d.jsx(di,{className:"w-5 h-5 text-neon-cyan"}),"Technologies from Work History"]}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[Tn.map(ee=>d.jsx("span",{className:"px-3 py-1.5 bg-dark-700 text-neon-cyan text-sm rounded-lg border border-dark-600",children:ee},ee)),Tn.length===0&&d.jsx("span",{className:"text-gray-500",children:"No technologies listed in work history yet."})]})]})]}),E&&d.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-2 sm:p-4",children:d.jsxs("div",{className:"card-cyber p-0 w-full max-w-[calc(100vw-1rem)] sm:max-w-2xl max-h-[calc(100vh-1rem)] sm:max-h-[85vh] overflow-hidden flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 pb-4 border-b border-dark-600",children:[d.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[d.jsx(di,{className:"w-5 h-5 text-neon-purple"}),I?"Edit Position":"Add New Position"]}),d.jsx("button",{onClick:()=>{S(!1),re()},className:"p-2 text-gray-400 hover:text-white",children:d.jsx(va,{className:"w-5 h-5"})})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6 pt-4",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Company *"}),d.jsx("input",{type:"text",value:J.company,onChange:ee=>he({...J,company:ee.target.value}),className:"w-full bg-dark-700 border border-dark-600 rounded p-2 text-white focus:border-neon-purple focus:outline-none",placeholder:"e.g. Google"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Role *"}),d.jsx("input",{type:"text",value:J.role,onChange:ee=>he({...J,role:ee.target.value}),className:"w-full bg-dark-700 border border-dark-600 rounded p-2 text-white focus:border-neon-purple focus:outline-none",placeholder:"e.g. Software Engineer"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Location"}),d.jsx("input",{type:"text",value:J.location,onChange:ee=>he({...J,location:ee.target.value}),className:"w-full bg-dark-700 border border-dark-600 rounded p-2 text-white focus:border-neon-purple focus:outline-none",placeholder:"e.g. Milan, Italy (Remote)"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Type"}),d.jsx("select",{value:J.type,onChange:ee=>he({...J,type:ee.target.value}),className:"w-full bg-dark-700 border border-dark-600 rounded p-2 text-white focus:border-neon-purple focus:outline-none",children:Mge.map(ee=>d.jsx("option",{value:ee,children:ee},ee))})]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Start Date"}),d.jsx("input",{type:"date",value:J.startDate,onChange:ee=>he({...J,startDate:ee.target.value}),className:"w-full bg-dark-700 border border-dark-600 rounded p-2 text-white focus:border-neon-purple focus:outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"End Date"}),d.jsx("input",{type:"date",value:J.endDate,onChange:ee=>he({...J,endDate:ee.target.value}),disabled:J.is_current,className:"w-full bg-dark-700 border border-dark-600 rounded p-2 text-white focus:border-neon-purple focus:outline-none disabled:opacity-50"})]}),d.jsx("div",{className:"flex items-end",children:d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:J.is_current,onChange:ee=>he({...J,is_current:ee.target.checked,endDate:""}),className:"w-4 h-4 accent-neon-green"}),d.jsx("span",{className:"text-sm text-gray-400",children:"Current Position"})]})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Salary (Gross/Year)"}),d.jsx("input",{type:"number",value:J.salary_gross_yr||"",onChange:ee=>he({...J,salary_gross_yr:Number(ee.target.value)}),className:"w-full bg-dark-700 border border-dark-600 rounded p-2 text-white focus:border-neon-purple focus:outline-none",placeholder:"Private - for your records"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Currency"}),d.jsxs("select",{value:J.currency,onChange:ee=>he({...J,currency:ee.target.value}),className:"w-full bg-dark-700 border border-dark-600 rounded p-2 text-white focus:border-neon-purple focus:outline-none",children:[d.jsx("option",{value:"EUR",children:"EUR"}),d.jsx("option",{value:"USD",children:"USD"}),d.jsx("option",{value:"GBP",children:"GBP"}),d.jsx("option",{value:"HUF",children:"HUF"})]})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Tech Stack",d.jsx("span",{className:"text-gray-600 ml-1",children:"(from Skill Registry)"})]}),d.jsxs("div",{className:"relative",children:[d.jsxs("button",{type:"button",onClick:()=>$(!Te),className:"w-full bg-dark-700 border border-dark-600 rounded p-2 text-left text-white focus:border-neon-purple focus:outline-none flex items-center justify-between",children:[d.jsx("span",{className:J.tech_stack.length===0?"text-gray-500":"text-white",children:J.tech_stack.length===0?"Select skills...":`${J.tech_stack.length} skill${J.tech_stack.length!==1?"s":""} selected`}),d.jsx(rd,{className:`w-4 h-4 text-gray-400 transition-transform ${Te?"rotate-180":""}`})]}),Te&&d.jsx("div",{className:"absolute z-10 w-full mt-1 bg-dark-700 border border-dark-600 rounded-lg shadow-xl max-h-60 overflow-y-auto",children:n.length===0?d.jsx("div",{className:"p-3 text-sm text-gray-500 text-center",children:"No skills in registry. Add skills in Skill Mastery first."}):d.jsx(d.Fragment,{children:n.map(ee=>{const W=J.tech_stack.includes(ee.name);return d.jsxs("button",{type:"button",onClick:()=>{he(W?{...J,tech_stack:J.tech_stack.filter(Ne=>Ne!==ee.name)}:{...J,tech_stack:[...J.tech_stack,ee.name]})},className:`w-full px-3 py-2 text-left text-sm flex items-center justify-between hover:bg-dark-600 transition-colors ${W?"bg-neon-purple/10":""}`,children:[d.jsx("span",{className:"text-white",children:ee.name}),W&&d.jsx(Q1,{className:"w-4 h-4 text-neon-purple"})]},ee.id)})})})]}),J.tech_stack.length>0&&d.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:J.tech_stack.map(ee=>d.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-neon-purple/20 text-neon-purple text-sm rounded",children:[ee,d.jsx("button",{type:"button",onClick:()=>he({...J,tech_stack:J.tech_stack.filter(W=>W!==ee)}),className:"hover:text-white",children:d.jsx(va,{className:"w-3 h-3"})})]},ee))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Achievements (one per line)"}),d.jsx("textarea",{value:J.achievements,onChange:ee=>he({...J,achievements:ee.target.value}),className:"w-full bg-dark-700 border border-dark-600 rounded p-2 text-white focus:border-neon-purple focus:outline-none min-h-[100px]",placeholder:` Improved system performance by 40%
 Led migration to microservices`})]})]})}),d.jsxs("div",{className:"flex justify-end gap-3 p-4 sm:p-6 pt-4 border-t border-dark-600 bg-dark-800",children:[d.jsx("button",{onClick:()=>{S(!1),re()},className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),d.jsx("button",{onClick:Pe,disabled:!J.company.trim()||!J.role.trim()||O,className:"btn-cyber px-6 py-2 flex items-center gap-2 disabled:opacity-50",children:O?d.jsxs(d.Fragment,{children:[d.jsx(Hs,{className:"w-4 h-4 animate-spin"})," Saving..."]}):d.jsxs(d.Fragment,{children:[d.jsx(es,{className:"w-4 h-4"}),I?"Update":"Add"," Position"]})})]})]})}),A&&d.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-2 sm:p-4",children:d.jsxs("div",{className:"card-cyber p-0 w-full max-w-[calc(100vw-1rem)] sm:max-w-xl max-h-[calc(100vh-1rem)] sm:max-h-[85vh] overflow-hidden flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 pb-4 border-b border-dark-600",children:[d.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[d.jsx(al,{className:"w-5 h-5 text-neon-cyan"}),H?"Edit Education":"Add Education"]}),d.jsx("button",{onClick:()=>{j(!1),ge()},className:"p-2 text-gray-400 hover:text-white",children:d.jsx(va,{className:"w-5 h-5"})})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6 pt-4",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Institution *"}),d.jsx("input",{type:"text",value:z.institution,onChange:ee=>K({...z,institution:ee.target.value}),className:"w-full bg-dark-700 border border-dark-600 rounded p-2 text-white focus:border-neon-cyan focus:outline-none",placeholder:"e.g. University of Padova"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Degree *"}),d.jsx("input",{type:"text",value:z.degree,onChange:ee=>K({...z,degree:ee.target.value}),className:"w-full bg-dark-700 border border-dark-600 rounded p-2 text-white focus:border-neon-cyan focus:outline-none",placeholder:"e.g. MSc Computer Science"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Status"}),d.jsx("select",{value:z.status,onChange:ee=>K({...z,status:ee.target.value}),className:"w-full bg-dark-700 border border-dark-600 rounded p-2 text-white focus:border-neon-cyan focus:outline-none",children:Lge.map(ee=>d.jsx("option",{value:ee,children:ee.charAt(0).toUpperCase()+ee.slice(1)},ee))})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Start Date"}),d.jsx("input",{type:"date",value:z.startDate,onChange:ee=>K({...z,startDate:ee.target.value}),className:"w-full bg-dark-700 border border-dark-600 rounded p-2 text-white focus:border-neon-cyan focus:outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"End Date (Expected)"}),d.jsx("input",{type:"date",value:z.endDate,onChange:ee=>K({...z,endDate:ee.target.value}),className:"w-full bg-dark-700 border border-dark-600 rounded p-2 text-white focus:border-neon-cyan focus:outline-none"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Scholarship (optional)"}),d.jsx("input",{type:"text",value:z.scholarship_name,onChange:ee=>K({...z,scholarship_name:ee.target.value}),className:"w-full bg-dark-700 border border-dark-600 rounded p-2 text-white focus:border-neon-cyan focus:outline-none",placeholder:"e.g. Regional Scholarship (7k)"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Thesis Title (optional)"}),d.jsx("input",{type:"text",value:z.thesis_title,onChange:ee=>K({...z,thesis_title:ee.target.value}),className:"w-full bg-dark-700 border border-dark-600 rounded p-2 text-white focus:border-neon-cyan focus:outline-none",placeholder:"e.g. Machine Learning for Edge Computing"})]})]})}),d.jsxs("div",{className:"flex justify-end gap-3 p-4 sm:p-6 pt-4 border-t border-dark-600 bg-dark-800",children:[d.jsx("button",{onClick:()=>{j(!1),ge()},className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),d.jsx("button",{onClick:le,disabled:!z.institution.trim()||!z.degree.trim()||q,className:"btn-cyber px-6 py-2 flex items-center gap-2 disabled:opacity-50",children:q?d.jsxs(d.Fragment,{children:[d.jsx(Hs,{className:"w-4 h-4 animate-spin"})," Saving..."]}):d.jsxs(d.Fragment,{children:[d.jsx(es,{className:"w-4 h-4"}),H?"Update":"Add"," Education"]})})]})]})}),d.jsx(El,{isOpen:U,title:Z==="job"?"Delete Position":"Delete Education",message:`Are you sure you want to delete this ${Z==="job"?"position":"education entry"}? This action cannot be undone.`,confirmText:"Delete",isDangerous:!0,onConfirm:Le,onCancel:()=>V(!1)})]})}const Uge=["planned","active","completed","failed"],kR=["pending","triggered","safe"];function zge(){const{campaigns:t,exams:e,bureaucracy:n,addCampaign:r,updateCampaign:a,deleteCampaign:s,getActiveCampaign:l,profile:u,getTriggeredRules:f,executeRuleAction:h,markRuleSafe:p,snoozeRule:g}=Qa(),{showToast:x}=Za(),[w,E]=_.useState(!1),[S,A]=_.useState(null),[j,I]=_.useState(null),[P,H]=_.useState(!1),[R,F]=_.useState(null),[k,O]=_.useState(!1),[D,q]=_.useState({name:"",startDate:"",endDate:"",status:"planned",focus_areas:"",linked_exams:[],linked_docs:[]}),[M,U]=_.useState({condition:"",action:"",deadline:"",status:"pending"}),V=l(),we=new Date,Se=f(),Z=async(W,Ne)=>{try{await h(W.campaignId,W.ruleIndex,Ne.examId,Ne.newStatus),x(Ne.type==="drop_exam"?"Exam dropped successfully":Ne.type==="change_status"?"Exam status updated":"Rule marked as triggered","success")}catch{x("Failed to execute action","error")}},Y=async W=>{try{await p(W.campaignId,W.ruleIndex),x("Rule marked as safe","success")}catch{x("Failed to update rule","error")}},J=async(W,Ne)=>{try{await g(W.campaignId,W.ruleIndex,Ne),x(`Deadline extended by ${Ne} day${Ne>1?"s":""}`,"success")}catch{x("Failed to snooze rule","error")}},he=W=>W.status==="pending"&&O3(new Date(W.deadline)),Te=W=>Nn(we,new Date(W)),$=()=>{q({name:"",startDate:"",endDate:"",status:"planned",focus_areas:"",linked_exams:[],linked_docs:[]}),A(null)},z=()=>{U({condition:"",action:"",deadline:"",status:"pending"}),F(null)},K=W=>{A(W),q({name:W.name,startDate:W.startDate,endDate:W.endDate,status:W.status,focus_areas:W.focus_areas?.join(", ")||"",linked_exams:W.linked_exams||[],linked_docs:W.linked_docs||[]}),E(!0)},re=async()=>{if(D.name.trim())try{const W={name:D.name,startDate:D.startDate,endDate:D.endDate,status:D.status,focus_areas:D.focus_areas.split(",").map(Ne=>Ne.trim()).filter(Boolean),linked_exams:D.linked_exams,linked_docs:D.linked_docs,rules:S?.rules||[]};S?(await a(S.id,W),x("Campaign updated","success")):(await r(W),x("Campaign created","success")),E(!1),$()}catch{x("Failed to save campaign","error")}},ge=W=>{z(),F({campaignId:W,ruleIndex:-1}),H(!0)},Ee=(W,Ne,Fe)=>{U({condition:Fe.condition,action:Fe.action,deadline:Fe.deadline,status:Fe.status}),F({campaignId:W,ruleIndex:Ne}),H(!0)},ne=async()=>{if(!R||!M.condition.trim()||!M.action.trim())return;const W=t.find(Ne=>Ne.id===R.campaignId);if(W)try{const Ne={condition:M.condition,action:M.action,deadline:M.deadline,status:M.status};let Fe;R.ruleIndex===-1?Fe=[...W.rules||[],Ne]:(Fe=[...W.rules||[]],Fe[R.ruleIndex]=Ne),await a(W.id,{rules:Fe}),x(R.ruleIndex===-1?"Rule added":"Rule updated","success"),H(!1),z()}catch{x("Failed to save rule","error")}},Pe=async(W,Ne)=>{const Fe=t.find(vt=>vt.id===W);if(Fe)try{const vt=(Fe.rules||[]).filter((ln,ta)=>ta!==Ne);await a(W,{rules:vt}),x("Rule deleted","success")}catch{x("Failed to delete rule","error")}},le=async(W,Ne,Fe)=>{const vt=t.find(ln=>ln.id===W);if(vt)try{const ln=[...vt.rules||[]];ln[Ne]={...ln[Ne],status:Fe},await a(W,{rules:ln})}catch{x("Failed to update rule status","error")}},je=W=>{q(Ne=>({...Ne,linked_exams:Ne.linked_exams.includes(W)?Ne.linked_exams.filter(Fe=>Fe!==W):[...Ne.linked_exams,W]}))},Le=W=>{q(Ne=>({...Ne,linked_docs:Ne.linked_docs.includes(W)?Ne.linked_docs.filter(Fe=>Fe!==W):[...Ne.linked_docs,W]}))},X=W=>{switch(W){case"active":return"bg-neon-green/10 text-neon-green border-neon-green/30";case"planned":return"bg-neon-cyan/10 text-neon-cyan border-neon-cyan/30";case"completed":return"bg-neon-purple/10 text-neon-purple border-neon-purple/30";case"failed":return"bg-neon-red/10 text-neon-red border-neon-red/30"}},Oe=W=>{switch(W){case"pending":return"bg-neon-yellow/10 text-neon-yellow border-neon-yellow/30";case"triggered":return"bg-neon-red/10 text-neon-red border-neon-red/30";case"safe":return"bg-neon-green/10 text-neon-green border-neon-green/30"}},ke=W=>{const Ne=new Date(W.startDate),Fe=new Date(W.endDate),vt=Nn(Fe,Ne),ln=Nn(we,Ne);return Math.min(100,Math.max(0,ln/vt*100))},Qe=W=>Nn(new Date(W),we),at=W=>e.find(Ne=>Ne.id===W)?.name||W,Gt=W=>n.find(Ne=>Ne.id===W)?.name||W,Tn=t.length,Nt=t.filter(W=>W.status==="completed").length,Ft=V?.rules?.filter(W=>W.status==="pending").length||0,ee=Se.length;return d.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-6",children:[ee>0&&d.jsx("div",{className:"card-cyber p-4 border-neon-red/50 bg-neon-red/5",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(vn,{className:"w-6 h-6 text-neon-red animate-pulse flex-shrink-0 mt-0.5"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("h4",{className:"font-semibold text-neon-red",children:[ee," Strategic Decision",ee>1?"s":""," OVERDUE"]}),d.jsxs("p",{className:"text-sm text-gray-400 mb-2",children:["Rule deadline",ee>1?"s have":" has"," passed - action required"]}),d.jsx("div",{className:"space-y-1",children:Se.slice(0,3).map((W,Ne)=>d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsx("span",{className:"w-1.5 h-1.5 bg-neon-red rounded-full flex-shrink-0 animate-pulse"}),d.jsxs("span",{className:"text-gray-400 truncate",children:["IF ",W.rule.condition]}),d.jsx(dc,{className:"w-3 h-3 text-gray-600 flex-shrink-0"}),d.jsx("span",{className:"text-white truncate",children:W.rule.action}),d.jsxs("span",{className:"text-neon-red text-xs",children:["(",W.daysOverdue,"d overdue)"]})]},Ne))})]}),d.jsxs("button",{onClick:()=>O(!0),className:"btn-cyber px-4 py-2 text-sm flex-shrink-0 bg-neon-red/20 border-neon-red/50 hover:bg-neon-red/30 flex items-center gap-2",children:[d.jsx(jk,{className:"w-4 h-4"}),"Decide Now"]})]})}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[d.jsx(Zr,{className:"w-8 h-8 text-neon-yellow"}),"Strategy Command"]}),d.jsxs("p",{className:"text-gray-500 mt-1",children:[u?.name||"Your"," Campaign & Strategic Planning Center"]})]}),d.jsxs("button",{onClick:()=>{$(),E(!0)},className:"btn-cyber px-4 py-2 flex items-center gap-2",children:[d.jsx(or,{className:"w-4 h-4"}),"New Campaign"]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"card-cyber p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm mb-2",children:[d.jsx(ly,{className:"w-4 h-4"}),"CAMPAIGNS"]}),d.jsx("div",{className:"text-2xl font-bold text-white",children:Tn}),d.jsxs("div",{className:"text-xs text-gray-500",children:[Nt," completed"]})]}),d.jsxs("div",{className:"card-cyber p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm mb-2",children:[d.jsx(Ga,{className:"w-4 h-4 text-neon-green"}),"ACTIVE CAMPAIGN"]}),d.jsx("div",{className:"text-lg font-bold text-neon-green truncate",children:V?.name||"None"}),V&&d.jsxs("div",{className:"text-xs text-gray-500",children:[Qe(V.endDate)," days remaining"]})]}),d.jsxs("div",{className:`card-cyber p-4 ${ee>0?"border-neon-red/30":""}`,children:[d.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm mb-2",children:[d.jsx(vn,{className:`w-4 h-4 ${ee>0?"text-neon-red animate-pulse":"text-neon-yellow"}`}),ee>0?"OVERDUE RULES":"PENDING RULES"]}),d.jsx("div",{className:`text-2xl font-bold ${ee>0?"text-neon-red":Ft>0?"text-neon-yellow":"text-gray-500"}`,children:ee>0?ee:Ft}),d.jsx("div",{className:"text-xs text-gray-500",children:ee>0?"action required":"decisions awaiting"})]}),d.jsxs("div",{className:"card-cyber p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm mb-2",children:[d.jsx(Ka,{className:"w-4 h-4 text-neon-cyan"}),"LINKED EXAMS"]}),d.jsx("div",{className:"text-2xl font-bold text-neon-cyan",children:V?.linked_exams?.length||0}),d.jsx("div",{className:"text-xs text-gray-500",children:"in active campaign"})]})]}),V&&d.jsxs("div",{className:"card-cyber p-6 border-neon-green/30 neon-border-green",children:[d.jsxs("div",{className:"flex items-start justify-between mb-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 text-neon-green text-sm mb-1",children:[d.jsx(Ga,{className:"w-4 h-4"}),"ACTIVE CAMPAIGN"]}),d.jsx("h2",{className:"text-2xl font-bold text-white",children:V.name}),d.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-400",children:[d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(Ir,{className:"w-4 h-4"}),$e(new Date(V.startDate),"MMM d"),"  ",$e(new Date(V.endDate),"MMM d, yyyy")]}),d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(Kn,{className:"w-4 h-4"}),Qe(V.endDate)," days left"]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:"text-4xl font-bold text-neon-green neon-text-green",children:[Math.round(ke(V)),"%"]}),d.jsx("div",{className:"text-xs text-gray-500",children:"progress"})]})]}),d.jsx("div",{className:"h-2 bg-dark-700 rounded-full overflow-hidden mb-4",children:d.jsx("div",{className:"h-full bg-neon-green rounded-full transition-all duration-500",style:{width:`${ke(V)}%`}})}),V.focus_areas&&V.focus_areas.length>0&&d.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:V.focus_areas.map(W=>d.jsx("span",{className:"px-2 py-1 bg-dark-600 text-gray-300 text-xs rounded",children:W},W))}),V.rules&&V.rules.length>0&&d.jsxs("div",{className:"border-t border-dark-600 pt-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("h4",{className:"text-sm text-gray-400 flex items-center gap-2",children:[d.jsx(vn,{className:"w-4 h-4"}),"Strategic Rules (",V.rules.filter(W=>W.status==="pending").length," pending",ee>0&&d.jsxs("span",{className:"text-neon-red",children:[", ",ee," overdue"]}),")"]}),ee>0&&d.jsxs("button",{onClick:()=>O(!0),className:"text-xs text-neon-red hover:text-white transition-colors flex items-center gap-1",children:[d.jsx(jk,{className:"w-3 h-3"}),"Decide Now"]})]}),d.jsx("div",{className:"space-y-2",children:V.rules.slice(0,3).map((W,Ne)=>{const Fe=he(W);return d.jsxs("div",{className:`flex items-center justify-between p-2 rounded bg-dark-700 border ${Fe?"border-neon-red/50 bg-neon-red/5":W.status==="triggered"?"border-neon-red/30":W.status==="safe"?"border-neon-green/30":"border-dark-600"}`,children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsx("span",{className:`w-2 h-2 rounded-full ${Fe?"bg-neon-red animate-pulse":W.status==="pending"?"bg-neon-yellow animate-pulse":W.status==="triggered"?"bg-neon-red":"bg-neon-green"}`}),d.jsx("span",{className:"text-gray-400",children:W.condition}),d.jsx(dc,{className:"w-3 h-3 text-gray-600"}),d.jsx("span",{className:"text-white",children:W.action})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[Fe?d.jsxs("span",{className:"text-xs text-neon-red",children:[Te(W.deadline),"d overdue"]}):d.jsx("span",{className:"text-xs text-gray-500",children:$e(new Date(W.deadline),"MMM d")}),d.jsx("span",{className:`px-2 py-0.5 text-xs rounded border ${Fe?"bg-neon-red/20 text-neon-red border-neon-red/30":Oe(W.status)}`,children:Fe?"OVERDUE":W.status})]})]},Ne)})})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[d.jsx(ly,{className:"w-5 h-5 text-neon-cyan"}),"All Campaigns"]}),t.length===0?d.jsxs("div",{className:"card-cyber p-12 text-center",children:[d.jsx(Zr,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500 mb-4",children:"No campaigns created yet."}),d.jsx("button",{onClick:()=>{$(),E(!0)},className:"btn-cyber px-4 py-2",children:"Create Your First Campaign"})]}):d.jsx("div",{className:"space-y-4",children:t.map(W=>d.jsxs("div",{className:`card-cyber p-5 transition-all ${W.status==="active"?"border-neon-green/20":""}`,children:[d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx("h3",{className:"text-lg font-bold text-white",children:W.name}),d.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full border ${X(W.status)}`,children:W.status})]}),d.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-3",children:[d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(Ir,{className:"w-4 h-4"}),$e(new Date(W.startDate),"MMM d"),"  ",$e(new Date(W.endDate),"MMM d, yyyy")]}),W.status!=="completed"&&W.status!=="failed"&&d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx(Kn,{className:"w-4 h-4"}),Qe(W.endDate)," days left"]})]}),d.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[W.linked_exams&&W.linked_exams.length>0&&d.jsxs("span",{className:"flex items-center gap-1 text-neon-cyan",children:[d.jsx(Ka,{className:"w-4 h-4"}),W.linked_exams.length," exam",W.linked_exams.length>1?"s":""]}),W.linked_docs&&W.linked_docs.length>0&&d.jsxs("span",{className:"flex items-center gap-1 text-neon-purple",children:[d.jsx(ad,{className:"w-4 h-4"}),W.linked_docs.length," doc",W.linked_docs.length>1?"s":""]}),W.rules&&W.rules.length>0&&d.jsxs("span",{className:"flex items-center gap-1 text-neon-yellow",children:[d.jsx(vn,{className:"w-4 h-4"}),W.rules.length," rule",W.rules.length>1?"s":""]})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:()=>I(j===W.id?null:W.id),className:"p-2 text-gray-400 hover:text-white transition-colors",children:j===W.id?d.jsx(Av,{className:"w-5 h-5"}):d.jsx(rd,{className:"w-5 h-5"})}),d.jsx("button",{onClick:()=>K(W),className:"p-2 text-gray-400 hover:text-neon-cyan transition-colors",children:d.jsx(Qr,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>s(W.id),className:"p-2 text-gray-400 hover:text-neon-red transition-colors",children:d.jsx(vi,{className:"w-4 h-4"})})]})]}),j===W.id&&d.jsxs("div",{className:"mt-4 pt-4 border-t border-dark-600 space-y-4",children:[W.linked_exams&&W.linked_exams.length>0&&d.jsxs("div",{children:[d.jsxs("h4",{className:"text-sm font-medium text-gray-400 mb-2 flex items-center gap-2",children:[d.jsx(Ka,{className:"w-4 h-4 text-neon-cyan"}),"Linked Exams"]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:W.linked_exams.map(Ne=>{const Fe=e.find(vt=>vt.id===Ne);return d.jsxs("span",{className:`px-3 py-1 text-sm rounded border ${Fe?.status==="passed"?"bg-neon-green/10 text-neon-green border-neon-green/30":"bg-dark-600 text-gray-300 border-dark-500"}`,children:[at(Ne),Fe?.status==="passed"&&d.jsx(qs,{className:"w-3 h-3 inline ml-1"})]},Ne)})})]}),W.linked_docs&&W.linked_docs.length>0&&d.jsxs("div",{children:[d.jsxs("h4",{className:"text-sm font-medium text-gray-400 mb-2 flex items-center gap-2",children:[d.jsx(ad,{className:"w-4 h-4 text-neon-purple"}),"Linked Documents"]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:W.linked_docs.map(Ne=>d.jsx("span",{className:"px-3 py-1 bg-dark-600 text-gray-300 text-sm rounded border border-dark-500",children:Gt(Ne)},Ne))})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("h4",{className:"text-sm font-medium text-gray-400 flex items-center gap-2",children:[d.jsx(vn,{className:"w-4 h-4 text-neon-yellow"}),"Strategic Rules"]}),d.jsxs("button",{onClick:()=>ge(W.id),className:"text-xs text-neon-cyan hover:text-neon-green transition-colors flex items-center gap-1",children:[d.jsx(or,{className:"w-3 h-3"}),"Add Rule"]})]}),!W.rules||W.rules.length===0?d.jsx("p",{className:"text-sm text-gray-500",children:"No strategic rules defined."}):d.jsx("div",{className:"space-y-2",children:W.rules.map((Ne,Fe)=>d.jsx("div",{className:`p-3 rounded-lg bg-dark-700 border ${Ne.status==="triggered"?"border-neon-red/30":Ne.status==="safe"?"border-neon-green/30":"border-dark-600"}`,children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("span",{className:"text-sm text-gray-400",children:"IF:"}),d.jsx("span",{className:"text-sm text-white",children:Ne.condition})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-sm text-gray-400",children:"THEN:"}),d.jsx("span",{className:"text-sm font-medium text-neon-yellow",children:Ne.action})]}),d.jsxs("div",{className:"mt-1 text-xs text-gray-500",children:["Deadline: ",$e(new Date(Ne.deadline),"MMM d, yyyy")]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("select",{value:Ne.status,onChange:vt=>le(W.id,Fe,vt.target.value),className:`text-xs px-2 py-1 rounded border bg-dark-800 ${Oe(Ne.status)}`,children:kR.map(vt=>d.jsx("option",{value:vt,children:vt},vt))}),d.jsx("button",{onClick:()=>Ee(W.id,Fe,Ne),className:"p-1 text-gray-400 hover:text-neon-cyan",children:d.jsx(Qr,{className:"w-3 h-3"})}),d.jsx("button",{onClick:()=>Pe(W.id,Fe),className:"p-1 text-gray-400 hover:text-neon-red",children:d.jsx(vi,{className:"w-3 h-3"})})]})]})},Fe))})]})]})]},W.id))})]}),w&&d.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"card-cyber p-0 w-full max-w-2xl max-h-[85vh] overflow-hidden flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 pb-4 border-b border-dark-600",children:[d.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[d.jsx(Zr,{className:"w-5 h-5 text-neon-yellow"}),S?"Edit Campaign":"Create New Campaign"]}),d.jsx("button",{onClick:()=>{E(!1),$()},className:"p-2 text-gray-400 hover:text-white",children:d.jsx(va,{className:"w-5 h-5"})})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-6 pt-4",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Campaign Name *"}),d.jsx("input",{type:"text",value:D.name,onChange:W=>q({...D,name:W.target.value}),className:"w-full bg-dark-700 border border-dark-600 rounded p-2 text-white focus:border-neon-yellow focus:outline-none",placeholder:"e.g. Winter Campaign 2026"})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Start Date"}),d.jsx("input",{type:"date",value:D.startDate,onChange:W=>q({...D,startDate:W.target.value}),className:"w-full bg-dark-700 border border-dark-600 rounded p-2 text-white focus:border-neon-yellow focus:outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"End Date"}),d.jsx("input",{type:"date",value:D.endDate,onChange:W=>q({...D,endDate:W.target.value}),className:"w-full bg-dark-700 border border-dark-600 rounded p-2 text-white focus:border-neon-yellow focus:outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Status"}),d.jsx("select",{value:D.status,onChange:W=>q({...D,status:W.target.value}),className:"w-full bg-dark-700 border border-dark-600 rounded p-2 text-white focus:border-neon-yellow focus:outline-none",children:Uge.map(W=>d.jsx("option",{value:W,children:W.charAt(0).toUpperCase()+W.slice(1)},W))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Focus Areas (comma-separated)"}),d.jsx("input",{type:"text",value:D.focus_areas,onChange:W=>q({...D,focus_areas:W.target.value}),className:"w-full bg-dark-700 border border-dark-600 rounded p-2 text-white focus:border-neon-yellow focus:outline-none",placeholder:"e.g. Academics, Visa, Job Hunt"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm text-gray-400 mb-2 flex items-center gap-2",children:[d.jsx(Pk,{className:"w-4 h-4"}),"Link Exams"]}),d.jsx("div",{className:"max-h-40 overflow-y-auto bg-dark-700 border border-dark-600 rounded p-2 space-y-1",children:e.filter(W=>W.status!=="passed").length===0?d.jsx("p",{className:"text-sm text-gray-500 text-center py-2",children:"No unpassed exams to link"}):e.filter(W=>W.status!=="passed").map(W=>d.jsxs("label",{className:"flex items-center gap-2 p-1.5 rounded hover:bg-dark-600 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:D.linked_exams.includes(W.id),onChange:()=>je(W.id),className:"w-4 h-4 accent-neon-cyan"}),d.jsx("span",{className:"text-sm text-gray-300",children:W.name}),d.jsxs("span",{className:"text-xs text-gray-500",children:["(",W.cfu," CFU)"]})]},W.id))})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm text-gray-400 mb-2 flex items-center gap-2",children:[d.jsx(Pk,{className:"w-4 h-4"}),"Link Documents"]}),d.jsx("div",{className:"max-h-40 overflow-y-auto bg-dark-700 border border-dark-600 rounded p-2 space-y-1",children:n.length===0?d.jsx("p",{className:"text-sm text-gray-500 text-center py-2",children:"No documents to link"}):n.map(W=>d.jsxs("label",{className:"flex items-center gap-2 p-1.5 rounded hover:bg-dark-600 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:D.linked_docs.includes(W.id),onChange:()=>Le(W.id),className:"w-4 h-4 accent-neon-purple"}),d.jsx("span",{className:"text-sm text-gray-300",children:W.name}),d.jsxs("span",{className:`text-xs ${W.status==="valid"?"text-neon-green":W.status==="expired"?"text-neon-red":"text-gray-500"}`,children:["(",W.status,")"]})]},W.id))})]})]})}),d.jsxs("div",{className:"flex justify-end gap-3 p-6 pt-4 border-t border-dark-600 bg-dark-800",children:[d.jsx("button",{onClick:()=>{E(!1),$()},className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),d.jsxs("button",{onClick:re,disabled:!D.name.trim(),className:"btn-cyber px-6 py-2 flex items-center gap-2 disabled:opacity-50",children:[d.jsx(es,{className:"w-4 h-4"}),S?"Update":"Create"," Campaign"]})]})]})}),P&&R&&d.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"card-cyber p-6 w-full max-w-md",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[d.jsx(vn,{className:"w-5 h-5 text-neon-yellow"}),R.ruleIndex===-1?"Add Rule":"Edit Rule"]}),d.jsx("button",{onClick:()=>{H(!1),z()},className:"p-2 text-gray-400 hover:text-white",children:d.jsx(va,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"IF (Condition) *"}),d.jsx("input",{type:"text",value:M.condition,onChange:W=>U({...M,condition:W.target.value}),className:"w-full bg-dark-700 border border-dark-600 rounded p-2 text-white focus:border-neon-yellow focus:outline-none",placeholder:"e.g. Project Topic NOT assigned"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"THEN (Action) *"}),d.jsx("input",{type:"text",value:M.action,onChange:W=>U({...M,action:W.target.value}),className:"w-full bg-dark-700 border border-dark-600 rounded p-2 text-white focus:border-neon-yellow focus:outline-none",placeholder:"e.g. DROP Web Info Management"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Deadline"}),d.jsx("input",{type:"date",value:M.deadline,onChange:W=>U({...M,deadline:W.target.value}),className:"w-full bg-dark-700 border border-dark-600 rounded p-2 text-white focus:border-neon-yellow focus:outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Status"}),d.jsx("select",{value:M.status,onChange:W=>U({...M,status:W.target.value}),className:"w-full bg-dark-700 border border-dark-600 rounded p-2 text-white focus:border-neon-yellow focus:outline-none",children:kR.map(W=>d.jsx("option",{value:W,children:W.charAt(0).toUpperCase()+W.slice(1)},W))})]})]})]}),d.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t border-dark-600",children:[d.jsx("button",{onClick:()=>{H(!1),z()},className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),d.jsxs("button",{onClick:ne,disabled:!M.condition.trim()||!M.action.trim(),className:"btn-cyber px-6 py-2 flex items-center gap-2 disabled:opacity-50",children:[d.jsx(es,{className:"w-4 h-4"}),R.ruleIndex===-1?"Add":"Update"," Rule"]})]})]})}),d.jsx(Q3,{isOpen:k,triggeredRules:Se,onExecuteAction:Z,onMarkSafe:Y,onSnooze:J,onDismiss:()=>O(!1)})]})}const $ge={code:Nh,languages:F3,brain:V3,music:K3,book:L3,gamepad2:$3,heart:B3,target:Zr,zap:Ga,coffee:U3,pencil:G3,activity:Ls,dumbbell:z3,flame:Ah},x1={"neon-green":{bg:"bg-neon-green/20",text:"text-neon-green",border:"border-neon-green/30",solid:"bg-neon-green"},"neon-yellow":{bg:"bg-neon-yellow/20",text:"text-neon-yellow",border:"border-neon-yellow/30",solid:"bg-neon-yellow"},"neon-cyan":{bg:"bg-neon-cyan/20",text:"text-neon-cyan",border:"border-neon-cyan/30",solid:"bg-neon-cyan"},"neon-purple":{bg:"bg-neon-purple/20",text:"text-neon-purple",border:"border-neon-purple/30",solid:"bg-neon-purple"},"neon-red":{bg:"bg-neon-red/20",text:"text-neon-red",border:"border-neon-red/30",solid:"bg-neon-red"}},Bge=["code","languages","music","book","brain","dumbbell","heart","target","zap","coffee","pencil","gamepad2"],Fge=["neon-green","neon-yellow","neon-cyan","neon-purple","neon-red"],qge=["frontend","backend","devops","database","tools","language","soft-skill","other"];function Hge(){const{skillDefinitions:t,addSkillDefinition:e,updateSkillDefinition:n,deleteSkillDefinition:r,getAllSkillAnalytics:a,jobs:s}=Qa(),{showToast:l}=Za(),[u,f]=_.useState(null),[h,p]=_.useState(!1),[g,x]=_.useState(null),[w,E]=_.useState(!1),[S,A]=_.useState(!1),[j,I]=_.useState(null),[P,H]=_.useState({name:"",icon:"code",color:"neon-cyan",category:"other",targetPerDay:"30 mins",years_experience:0,is_tracked:!0,show_on_cv:!0}),R=_.useMemo(()=>a(),[a]),F=_.useMemo(()=>{const $=new Map;return R.forEach(z=>$.set(z.skillId,z)),$},[R]),k=t.length,O=t.filter($=>$.is_tracked!==!1).length,D=t.filter($=>$.show_on_cv).length,q=R.reduce(($,z)=>$+z.totalHours,0),M=_.useMemo(()=>{const $=new Set;return s.forEach(z=>{z.tech_stack.forEach(K=>$.add(K))}),$},[s]),U=()=>{H({name:"",icon:"code",color:"neon-cyan",category:"other",targetPerDay:"30 mins",years_experience:0,is_tracked:!0,show_on_cv:!0}),x(null)},V=()=>{U(),p(!0)},we=$=>{x($),H({name:$.name,icon:$.icon,color:$.color,category:$.category||"other",targetPerDay:$.targetPerDay,years_experience:$.years_experience||0,is_tracked:$.is_tracked!==!1,show_on_cv:$.show_on_cv||!1}),p(!0)},Se=async()=>{if(P.name.trim()){E(!0);try{const $={name:P.name.trim(),icon:P.icon,color:P.color,category:P.category,targetPerDay:P.targetPerDay,trackingOptions:["0 mins","15 mins","30 mins","1 hour","2 hours"],years_experience:P.years_experience,is_tracked:P.is_tracked,show_on_cv:P.show_on_cv};g?(await n(g.id,$),l("Skill updated","success")):(await e($),l("Skill added to registry","success")),p(!1),U()}catch{l("Failed to save skill","error")}finally{E(!1)}}},Z=$=>{I($),A(!0)},Y=async()=>{if(j)try{await r(j),l("Skill deleted","success"),A(!1),I(null)}catch{l("Failed to delete skill","error"),A(!1)}},J=({name:$,className:z})=>{const K=$ge[$]||Nh;return d.jsx(K,{className:z})},he=$=>{switch($){case 1:return"text-gray-400";case 2:return"text-neon-yellow";case 3:return"text-neon-cyan";case 4:return"text-neon-purple";case 5:return"text-neon-green";default:return"text-gray-400"}},Te=$=>{switch($){case"frontend":return"bg-neon-purple/20 text-neon-purple";case"backend":return"bg-neon-green/20 text-neon-green";case"devops":return"bg-neon-yellow/20 text-neon-yellow";case"database":return"bg-neon-cyan/20 text-neon-cyan";case"tools":return"bg-neon-red/20 text-neon-red";case"language":return"bg-blue-500/20 text-blue-400";case"soft-skill":return"bg-pink-500/20 text-pink-400";default:return"bg-dark-600 text-gray-400"}};return d.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[d.jsx(Zr,{className:"w-8 h-8 text-neon-cyan"}),"Skill Mastery"]}),d.jsx("p",{className:"text-gray-500 mt-1",children:"Unified skill registry  track progress, see proficiency, use everywhere"})]}),d.jsxs("button",{onClick:V,className:"btn-cyber flex items-center gap-2",children:[d.jsx(or,{className:"w-4 h-4"}),"Add Skill"]})]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"card-cyber p-4",children:[d.jsx("div",{className:"text-2xl font-bold text-white",children:k}),d.jsx("div",{className:"text-sm text-gray-500",children:"Total Skills"})]}),d.jsxs("div",{className:"card-cyber p-4",children:[d.jsx("div",{className:"text-2xl font-bold text-neon-cyan",children:O}),d.jsx("div",{className:"text-sm text-gray-500",children:"Being Tracked"})]}),d.jsxs("div",{className:"card-cyber p-4",children:[d.jsx("div",{className:"text-2xl font-bold text-neon-purple",children:D}),d.jsx("div",{className:"text-sm text-gray-500",children:"On CV"})]}),d.jsxs("div",{className:"card-cyber p-4",children:[d.jsxs("div",{className:"text-2xl font-bold text-neon-green",children:[q.toFixed(1),"h"]}),d.jsx("div",{className:"text-sm text-gray-500",children:"Total Practice"})]})]}),d.jsx("div",{className:"card-cyber p-4 border-neon-cyan/30 bg-neon-cyan/5",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(iS,{className:"w-5 h-5 text-neon-cyan flex-shrink-0 mt-0.5"}),d.jsxs("div",{className:"text-sm text-gray-300",children:[d.jsx("strong",{className:"text-white",children:"How it works:"})," Add skills here once, use them everywhere. Toggle ",d.jsx("span",{className:"text-neon-cyan",children:'"Track Daily"'})," to practice in Protocol. Toggle ",d.jsx("span",{className:"text-neon-purple",children:'"Show on CV"'})," to display in Career. Your proficiency level is ",d.jsx("span",{className:"text-neon-green",children:"calculated automatically"})," from your practice history!"]})]})}),t.length===0?d.jsxs("div",{className:"card-cyber p-12 text-center",children:[d.jsx(Zr,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),d.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No skills yet"}),d.jsx("p",{className:"text-gray-500 mb-4",children:"Add your first skill to start tracking your mastery journey"}),d.jsxs("button",{onClick:V,className:"btn-cyber",children:[d.jsx(or,{className:"w-4 h-4 mr-2"}),"Add Your First Skill"]})]}):d.jsx("div",{className:"space-y-4",children:t.map($=>{const z=F.get($.id),K=u===$.id,re=x1[$.color]||x1["neon-cyan"],ge=M.has($.name);return d.jsxs("div",{className:`card-cyber overflow-hidden transition-all ${K?"ring-1 ring-neon-cyan/50":""}`,children:[d.jsx("div",{className:"p-4 cursor-pointer hover:bg-dark-700/50 transition-colors",onClick:()=>f(K?null:$.id),children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:`w-12 h-12 rounded-xl ${re.bg} ${re.border} border flex items-center justify-center`,children:d.jsx(J,{name:$.icon,className:`w-6 h-6 ${re.text}`})}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("h3",{className:"text-lg font-semibold text-white",children:$.name}),d.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${Te($.category)}`,children:$.category||"other"}),ge&&d.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-neon-green/20 text-neon-green",children:"Used in Jobs"})]}),d.jsxs("div",{className:"flex items-center gap-3 mt-1 text-sm",children:[$.is_tracked!==!1&&d.jsxs("span",{className:"text-neon-cyan flex items-center gap-1",children:[d.jsx(Ok,{className:"w-3 h-3"})," Tracking"]}),$.show_on_cv&&d.jsxs("span",{className:"text-neon-purple flex items-center gap-1",children:[d.jsx(Tk,{className:"w-3 h-3"})," On CV"]}),$.years_experience?d.jsxs("span",{className:"text-gray-500",children:[$.years_experience,"y prior exp."]}):null]})]})]}),d.jsxs("div",{className:"flex items-center gap-6",children:[z&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"text-right hidden sm:block",children:[d.jsxs("div",{className:`text-2xl font-bold ${he(z.level)}`,children:["Lv.",z.level]}),d.jsx("div",{className:"text-xs text-gray-500",children:z.levelName})]}),d.jsxs("div",{className:"hidden md:block w-32",children:[d.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[d.jsxs("span",{className:"text-gray-500",children:[z.totalPoints," pts"]}),z.level<5&&d.jsxs("span",{className:"text-gray-500",children:[z.pointsToNextLevel," to next"]})]}),d.jsx("div",{className:"h-2 bg-dark-600 rounded-full overflow-hidden",children:d.jsx("div",{className:`h-full ${re.solid} transition-all duration-500`,style:{width:`${z.progressPercent}%`}})})]}),d.jsx("div",{className:"flex items-center gap-2 text-sm",children:z.currentStreak>0&&d.jsxs("span",{className:"flex items-center gap-1 text-neon-yellow",children:[d.jsx(Ah,{className:"w-4 h-4"}),z.currentStreak]})})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:Ee=>{Ee.stopPropagation(),we($)},className:"p-2 text-gray-400 hover:text-neon-cyan transition-colors",children:d.jsx(Qr,{className:"w-4 h-4"})}),d.jsx("button",{onClick:Ee=>{Ee.stopPropagation(),Z($.id)},className:"p-2 text-gray-400 hover:text-neon-red transition-colors",children:d.jsx(vi,{className:"w-4 h-4"})}),K?d.jsx(Av,{className:"w-5 h-5 text-gray-400"}):d.jsx(rd,{className:"w-5 h-5 text-gray-400"})]})]})]})}),K&&z&&d.jsx("div",{className:"border-t border-dark-600 p-4 bg-dark-800/50",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx("h4",{className:"text-sm font-medium text-gray-400 uppercase tracking-wider",children:"Statistics"}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{className:"bg-dark-700 rounded-lg p-3",children:[d.jsx(Kn,{className:"w-4 h-4 text-neon-cyan mb-1"}),d.jsxs("div",{className:"text-xl font-bold text-white",children:[z.totalHours,"h"]}),d.jsx("div",{className:"text-xs text-gray-500",children:"Total Time"})]}),d.jsxs("div",{className:"bg-dark-700 rounded-lg p-3",children:[d.jsx(Ir,{className:"w-4 h-4 text-neon-purple mb-1"}),d.jsx("div",{className:"text-xl font-bold text-white",children:z.daysPracticed}),d.jsx("div",{className:"text-xs text-gray-500",children:"Days Practiced"})]}),d.jsxs("div",{className:"bg-dark-700 rounded-lg p-3",children:[d.jsx(W3,{className:"w-4 h-4 text-neon-green mb-1"}),d.jsxs("div",{className:"text-xl font-bold text-white",children:[z.consistencyPercent,"%"]}),d.jsx("div",{className:"text-xs text-gray-500",children:"Consistency"})]}),d.jsxs("div",{className:"bg-dark-700 rounded-lg p-3",children:[d.jsx(Ah,{className:"w-4 h-4 text-neon-yellow mb-1"}),d.jsx("div",{className:"text-xl font-bold text-white",children:z.longestStreak}),d.jsx("div",{className:"text-xs text-gray-500",children:"Best Streak"})]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h4",{className:"text-sm font-medium text-gray-400 uppercase tracking-wider",children:"Score Breakdown"}),d.jsxs("div",{className:"bg-dark-700 rounded-lg p-4 space-y-3",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsxs("span",{className:"text-gray-400",children:["Base (",z.totalHours,"h  10)"]}),d.jsxs("span",{className:"text-white",children:[z.basePoints," pts"]})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsxs("span",{className:"text-gray-400",children:["Consistency (",z.consistencyPercent,"%  ",z.consistencyMultiplier,"x)"]}),d.jsxs("span",{className:"text-neon-cyan",children:["",z.consistencyMultiplier]})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsxs("span",{className:"text-gray-400",children:["Recency (",z.lastPracticeDate?"Active":"Inactive",")"]}),d.jsxs("span",{className:"text-neon-purple",children:["",z.recencyMultiplier]})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-400",children:"Streak Bonus"}),d.jsxs("span",{className:"text-neon-yellow",children:["+",z.streakBonus," pts"]})]}),z.experienceBonus>0&&d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-400",children:"Prior Experience"}),d.jsxs("span",{className:"text-neon-green",children:["+",z.experienceBonus," pts"]})]}),d.jsxs("div",{className:"border-t border-dark-600 pt-2 flex justify-between font-bold",children:[d.jsx("span",{className:"text-white",children:"Total"}),d.jsxs("span",{className:"text-neon-green",children:[z.totalPoints," pts"]})]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h4",{className:"text-sm font-medium text-gray-400 uppercase tracking-wider",children:"Last 90 Days"}),d.jsxs("div",{className:"bg-dark-700 rounded-lg p-4",children:[d.jsx("div",{className:"grid grid-cols-15 gap-1",children:z.heatmapData.map((Ee,ne)=>d.jsx("div",{className:`w-3 h-3 rounded-sm ${Ee.intensity===0?"bg-dark-600":Ee.intensity===1?`${re.bg}`:Ee.intensity===2?`${re.bg} opacity-70`:re.solid}`,title:`${Ee.date}: ${Ee.minutes} mins`},ne))}),d.jsxs("div",{className:"flex items-center justify-between mt-3 text-xs text-gray-500",children:[d.jsx("span",{children:"Less"}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx("div",{className:"w-3 h-3 rounded-sm bg-dark-600"}),d.jsx("div",{className:`w-3 h-3 rounded-sm ${re.bg}`}),d.jsx("div",{className:`w-3 h-3 rounded-sm ${re.bg} opacity-70`}),d.jsx("div",{className:`w-3 h-3 rounded-sm ${re.solid}`})]}),d.jsx("span",{children:"More"})]})]}),d.jsxs("div",{className:"bg-dark-700 rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("span",{className:`font-bold ${he(z.level)}`,children:["Level ",z.level,": ",z.levelName]}),z.level<5&&d.jsxs("span",{className:"text-sm text-gray-400",children:[z.pointsToNextLevel," pts to Lv.",z.level+1]})]}),d.jsx("div",{className:"flex gap-1",children:oy.map(Ee=>d.jsx("div",{className:`flex-1 h-3 rounded ${z.level>=Ee.level?re.solid:"bg-dark-600"}`},Ee.level))}),d.jsx("div",{className:"flex justify-between mt-1 text-xs text-gray-500",children:oy.map(Ee=>d.jsx("span",{children:Ee.name},Ee.level))})]})]})]})})]},$.id)})}),h&&d.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"card-cyber p-0 w-full max-w-lg max-h-[85vh] overflow-hidden flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 pb-4 border-b border-dark-600",children:[d.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[d.jsx(Zr,{className:"w-5 h-5 text-neon-cyan"}),g?"Edit Skill":"Add New Skill"]}),d.jsx("button",{onClick:()=>{p(!1),U()},className:"p-2 text-gray-400 hover:text-white",children:d.jsx(va,{className:"w-5 h-5"})})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-6 pt-4",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Skill Name *"}),d.jsx("input",{type:"text",value:P.name,onChange:$=>H({...P,name:$.target.value}),className:"input-cyber w-full",placeholder:"e.g., Python, TypeScript, Italian"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Category"}),d.jsx("select",{value:P.category,onChange:$=>H({...P,category:$.target.value}),className:"input-cyber w-full",children:qge.map($=>d.jsx("option",{value:$,children:$==="soft-skill"?"Soft Skill":$?$.charAt(0).toUpperCase()+$.slice(1):"Other"},$))})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Icon"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:Bge.map($=>d.jsx("button",{type:"button",onClick:()=>H({...P,icon:$}),className:`p-2 rounded-lg border ${P.icon===$?"border-neon-cyan bg-neon-cyan/20":"border-dark-600 hover:border-dark-500"}`,children:d.jsx(J,{name:$,className:"w-4 h-4 text-gray-300"})},$))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Color"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:Fge.map($=>d.jsx("button",{type:"button",onClick:()=>H({...P,color:$}),className:`w-8 h-8 rounded-lg ${x1[$].solid} ${P.color===$?"ring-2 ring-white ring-offset-2 ring-offset-dark-800":""}`},$))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Daily Target"}),d.jsxs("select",{value:P.targetPerDay,onChange:$=>H({...P,targetPerDay:$.target.value}),className:"input-cyber w-full",children:[d.jsx("option",{value:"15 mins",children:"15 mins"}),d.jsx("option",{value:"30 mins",children:"30 mins"}),d.jsx("option",{value:"1 hour",children:"1 hour"}),d.jsx("option",{value:"2 hours",children:"2 hours"})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Years of Prior Experience",d.jsx("span",{className:"text-gray-600 ml-1",children:"(before tracking)"})]}),d.jsx("input",{type:"number",min:"0",max:"30",value:P.years_experience,onChange:$=>H({...P,years_experience:parseInt($.target.value)||0}),className:"input-cyber w-full"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Each year adds 50 bonus points to your score"})]}),d.jsxs("div",{className:"space-y-3 pt-2",children:[d.jsxs("label",{className:"flex items-center justify-between p-3 bg-dark-700 rounded-lg cursor-pointer",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Ok,{className:"w-5 h-5 text-neon-cyan"}),d.jsxs("div",{children:[d.jsx("div",{className:"text-white font-medium",children:"Track Daily"}),d.jsx("div",{className:"text-xs text-gray-500",children:"Show in Protocol for daily practice logging"})]})]}),d.jsx("input",{type:"checkbox",checked:P.is_tracked,onChange:$=>H({...P,is_tracked:$.target.checked}),className:"w-5 h-5 rounded border-dark-600 bg-dark-800 text-neon-cyan focus:ring-neon-cyan"})]}),d.jsxs("label",{className:"flex items-center justify-between p-3 bg-dark-700 rounded-lg cursor-pointer",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Tk,{className:"w-5 h-5 text-neon-purple"}),d.jsxs("div",{children:[d.jsx("div",{className:"text-white font-medium",children:"Show on CV"}),d.jsx("div",{className:"text-xs text-gray-500",children:"Display in Career page for professional profile"})]})]}),d.jsx("input",{type:"checkbox",checked:P.show_on_cv,onChange:$=>H({...P,show_on_cv:$.target.checked}),className:"w-5 h-5 rounded border-dark-600 bg-dark-800 text-neon-purple focus:ring-neon-purple"})]})]})]})}),d.jsxs("div",{className:"flex gap-3 p-6 pt-4 border-t border-dark-600 bg-dark-800",children:[d.jsx("button",{onClick:()=>{p(!1),U()},className:"flex-1 px-4 py-2 border border-dark-600 rounded-lg text-gray-400 hover:text-white hover:border-dark-500 transition-colors",children:"Cancel"}),d.jsxs("button",{onClick:Se,disabled:!P.name.trim()||w,className:"flex-1 btn-cyber flex items-center justify-center gap-2",children:[w?d.jsx(Hs,{className:"w-4 h-4 animate-spin"}):d.jsx(es,{className:"w-4 h-4"}),g?"Update":"Add Skill"]})]})]})}),d.jsx(El,{isOpen:S,title:"Delete Skill",message:"Are you sure? This will remove the skill from your registry. Practice history will be preserved.",onConfirm:Y,onCancel:()=>{A(!1),I(null)}})]})}function Kge(){const{user:t,loading:e}=Sv();return e?d.jsx("div",{className:"min-h-screen bg-dark-900 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 border-4 border-neon-green border-t-transparent rounded-full animate-spin mx-auto mb-4"}),d.jsx("p",{className:"text-neon-green neon-text-green",children:"INITIALIZING MEX OS..."})]})}):t?d.jsx(gW,{children:d.jsxs(pW,{children:[d.jsxs("div",{className:"min-h-screen bg-dark-900",children:[d.jsx(gQ,{}),d.jsx(z8,{})]}),d.jsx(mQ,{})]})}):d.jsx(oE,{to:"/login",replace:!0})}function Gge(){return d.jsx(DG,{children:d.jsx(f$,{children:d.jsxs(B8,{children:[d.jsx(Kr,{path:"/login",element:d.jsx(pQ,{})}),d.jsxs(Kr,{element:d.jsx(Kge,{}),children:[d.jsx(Kr,{path:"/",element:d.jsx(yQ,{})}),d.jsx(Kr,{path:"/academics",element:d.jsx(xQ,{})}),d.jsx(Kr,{path:"/cashflow",element:d.jsx(Rge,{})}),d.jsx(Kr,{path:"/funding",element:d.jsx(AQ,{})}),d.jsx(Kr,{path:"/bureaucracy",element:d.jsx(wQ,{})}),d.jsx(Kr,{path:"/habits",element:d.jsx(SQ,{})}),d.jsx(Kr,{path:"/skills",element:d.jsx(Hge,{})}),d.jsx(Kr,{path:"/career",element:d.jsx(Vge,{})}),d.jsx(Kr,{path:"/strategy",element:d.jsx(zge,{})}),d.jsx(Kr,{path:"/settings",element:d.jsx(NQ,{})})]}),d.jsx(Kr,{path:"*",element:d.jsx(oE,{to:"/",replace:!0})})]})})})}Bz.createRoot(document.getElementById("root")).render(d.jsx(_.StrictMode,{children:d.jsx(Gge,{})}));
